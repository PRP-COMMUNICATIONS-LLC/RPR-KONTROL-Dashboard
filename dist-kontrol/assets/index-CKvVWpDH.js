var P9=Object.defineProperty;var R9=(t,e,n)=>e in t?P9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _E=(t,e,n)=>R9(t,typeof e!="symbol"?e+"":e,n);function N9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function $r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EE={exports:{}},xd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR;function O9(){if(tR)return xd;tR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:o}}return xd.Fragment=e,xd.jsx=n,xd.jsxs=n,xd}var nR;function M9(){return nR||(nR=1,EE.exports=O9()),EE.exports}var K=M9(),SE={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR;function D9(){if(rR)return Ge;rR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=g&&Y[g]||Y["@@iterator"],typeof Y=="function"?Y:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function I(Y,re,j){this.props=Y,this.context=re,this.refs=A,this.updater=j||T}I.prototype.isReactComponent={},I.prototype.setState=function(Y,re){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,re,"setState")},I.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function D(){}D.prototype=I.prototype;function k(Y,re,j){this.props=Y,this.context=re,this.refs=A,this.updater=j||T}var z=k.prototype=new D;z.constructor=k,w(z,I.prototype),z.isPureReactComponent=!0;var G=Array.isArray;function L(){}var N={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function O(Y,re,j){var _e=j.ref;return{$$typeof:t,type:Y,key:re,ref:_e!==void 0?_e:null,props:j}}function q(Y,re){return O(Y.type,re,Y.props)}function B(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function V(Y){var re={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(j){return re[j]})}var F=/\/+/g;function ue(Y,re){return typeof Y=="object"&&Y!==null&&Y.key!=null?V(""+Y.key):re.toString(36)}function ce(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(L,L):(Y.status="pending",Y.then(function(re){Y.status==="pending"&&(Y.status="fulfilled",Y.value=re)},function(re){Y.status==="pending"&&(Y.status="rejected",Y.reason=re)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function X(Y,re,j,_e,Pe){var xe=typeof Y;(xe==="undefined"||xe==="boolean")&&(Y=null);var Me=!1;if(Y===null)Me=!0;else switch(xe){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(Y.$$typeof){case t:case e:Me=!0;break;case h:return Me=Y._init,X(Me(Y._payload),re,j,_e,Pe)}}if(Me)return Pe=Pe(Y),Me=_e===""?"."+ue(Y,0):_e,G(Pe)?(j="",Me!=null&&(j=Me.replace(F,"$&/")+"/"),X(Pe,re,j,"",function(Ue){return Ue})):Pe!=null&&(B(Pe)&&(Pe=q(Pe,j+(Pe.key==null||Y&&Y.key===Pe.key?"":(""+Pe.key).replace(F,"$&/")+"/")+Me)),re.push(Pe)),1;Me=0;var ut=_e===""?".":_e+":";if(G(Y))for(var fe=0;fe<Y.length;fe++)_e=Y[fe],xe=ut+ue(_e,fe),Me+=X(_e,re,j,xe,Pe);else if(fe=v(Y),typeof fe=="function")for(Y=fe.call(Y),fe=0;!(_e=Y.next()).done;)_e=_e.value,xe=ut+ue(_e,fe++),Me+=X(_e,re,j,xe,Pe);else if(xe==="object"){if(typeof Y.then=="function")return X(ce(Y),re,j,_e,Pe);throw re=String(Y),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Me}function se(Y,re,j){if(Y==null)return Y;var _e=[],Pe=0;return X(Y,_e,"","",function(xe){return re.call(j,xe,Pe++)}),_e}function le(Y){if(Y._status===-1){var re=Y._result;re=re(),re.then(function(j){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=j)},function(j){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=j)}),Y._status===-1&&(Y._status=0,Y._result=re)}if(Y._status===1)return Y._result.default;throw Y._result}var ge=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},$={map:se,forEach:function(Y,re,j){se(Y,function(){re.apply(this,arguments)},j)},count:function(Y){var re=0;return se(Y,function(){re++}),re},toArray:function(Y){return se(Y,function(re){return re})||[]},only:function(Y){if(!B(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Ge.Activity=p,Ge.Children=$,Ge.Component=I,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=k,Ge.StrictMode=r,Ge.Suspense=c,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return N.H.useMemoCache(Y)}},Ge.cache=function(Y){return function(){return Y.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(Y,re,j){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var _e=w({},Y.props),Pe=Y.key;if(re!=null)for(xe in re.key!==void 0&&(Pe=""+re.key),re)!M.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(_e[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)_e.children=j;else if(1<xe){for(var Me=Array(xe),ut=0;ut<xe;ut++)Me[ut]=arguments[ut+2];_e.children=Me}return O(Y.type,Pe,_e)},Ge.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:o,_context:Y},Y},Ge.createElement=function(Y,re,j){var _e,Pe={},xe=null;if(re!=null)for(_e in re.key!==void 0&&(xe=""+re.key),re)M.call(re,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Pe[_e]=re[_e]);var Me=arguments.length-2;if(Me===1)Pe.children=j;else if(1<Me){for(var ut=Array(Me),fe=0;fe<Me;fe++)ut[fe]=arguments[fe+2];Pe.children=ut}if(Y&&Y.defaultProps)for(_e in Me=Y.defaultProps,Me)Pe[_e]===void 0&&(Pe[_e]=Me[_e]);return O(Y,xe,Pe)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(Y){return{$$typeof:u,render:Y}},Ge.isValidElement=B,Ge.lazy=function(Y){return{$$typeof:h,_payload:{_status:-1,_result:Y},_init:le}},Ge.memo=function(Y,re){return{$$typeof:f,type:Y,compare:re===void 0?null:re}},Ge.startTransition=function(Y){var re=N.T,j={};N.T=j;try{var _e=Y(),Pe=N.S;Pe!==null&&Pe(j,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(L,ge)}catch(xe){ge(xe)}finally{re!==null&&j.types!==null&&(re.types=j.types),N.T=re}},Ge.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ge.use=function(Y){return N.H.use(Y)},Ge.useActionState=function(Y,re,j){return N.H.useActionState(Y,re,j)},Ge.useCallback=function(Y,re){return N.H.useCallback(Y,re)},Ge.useContext=function(Y){return N.H.useContext(Y)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(Y,re){return N.H.useDeferredValue(Y,re)},Ge.useEffect=function(Y,re){return N.H.useEffect(Y,re)},Ge.useEffectEvent=function(Y){return N.H.useEffectEvent(Y)},Ge.useId=function(){return N.H.useId()},Ge.useImperativeHandle=function(Y,re,j){return N.H.useImperativeHandle(Y,re,j)},Ge.useInsertionEffect=function(Y,re){return N.H.useInsertionEffect(Y,re)},Ge.useLayoutEffect=function(Y,re){return N.H.useLayoutEffect(Y,re)},Ge.useMemo=function(Y,re){return N.H.useMemo(Y,re)},Ge.useOptimistic=function(Y,re){return N.H.useOptimistic(Y,re)},Ge.useReducer=function(Y,re,j){return N.H.useReducer(Y,re,j)},Ge.useRef=function(Y){return N.H.useRef(Y)},Ge.useState=function(Y){return N.H.useState(Y)},Ge.useSyncExternalStore=function(Y,re,j){return N.H.useSyncExternalStore(Y,re,j)},Ge.useTransition=function(){return N.H.useTransition()},Ge.version="19.2.3",Ge}var iR;function tf(){return iR||(iR=1,SE.exports=D9()),SE.exports}var C=tf();const oV=$r(C),k9=N9({__proto__:null,default:oV},[C]);var bE={exports:{}},Cd={},TE={exports:{}},wE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR;function L9(){return oR||(oR=1,(function(t){function e(X,se){var le=X.length;X.push(se);e:for(;0<le;){var ge=le-1>>>1,$=X[ge];if(0<i($,se))X[ge]=se,X[le]=$,le=ge;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var se=X[0],le=X.pop();if(le!==se){X[0]=le;e:for(var ge=0,$=X.length,Y=$>>>1;ge<Y;){var re=2*(ge+1)-1,j=X[re],_e=re+1,Pe=X[_e];if(0>i(j,le))_e<$&&0>i(Pe,j)?(X[ge]=Pe,X[_e]=le,ge=_e):(X[ge]=j,X[re]=le,ge=re);else if(_e<$&&0>i(Pe,le))X[ge]=Pe,X[_e]=le,ge=_e;else break e}}return se}function i(X,se){var le=X.sortIndex-se.sortIndex;return le!==0?le:X.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,p=null,g=3,v=!1,T=!1,w=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function z(X){for(var se=n(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=X)r(f),se.sortIndex=se.expirationTime,e(c,se);else break;se=n(f)}}function G(X){if(w=!1,z(X),!T)if(n(c)!==null)T=!0,L||(L=!0,V());else{var se=n(f);se!==null&&ce(G,se.startTime-X)}}var L=!1,N=-1,M=5,O=-1;function q(){return A?!0:!(t.unstable_now()-O<M)}function B(){if(A=!1,L){var X=t.unstable_now();O=X;var se=!0;try{e:{T=!1,w&&(w=!1,D(N),N=-1),v=!0;var le=g;try{t:{for(z(X),p=n(c);p!==null&&!(p.expirationTime>X&&q());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,g=p.priorityLevel;var $=ge(p.expirationTime<=X);if(X=t.unstable_now(),typeof $=="function"){p.callback=$,z(X),se=!0;break t}p===n(c)&&r(c),z(X)}else r(c);p=n(c)}if(p!==null)se=!0;else{var Y=n(f);Y!==null&&ce(G,Y.startTime-X),se=!1}}break e}finally{p=null,g=le,v=!1}se=void 0}}finally{se?V():L=!1}}}var V;if(typeof k=="function")V=function(){k(B)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ue=F.port2;F.port1.onmessage=B,V=function(){ue.postMessage(null)}}else V=function(){I(B,0)};function ce(X,se){N=I(function(){X(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(X){switch(g){case 1:case 2:case 3:var se=3;break;default:se=g}var le=g;g=se;try{return X()}finally{g=le}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var le=g;g=X;try{return se()}finally{g=le}},t.unstable_scheduleCallback=function(X,se,le){var ge=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ge+le:ge):le=ge,X){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=le+$,X={id:h++,callback:se,priorityLevel:X,startTime:le,expirationTime:$,sortIndex:-1},le>ge?(X.sortIndex=le,e(f,X),n(c)===null&&X===n(f)&&(w?(D(N),N=-1):w=!0,ce(G,le-ge))):(X.sortIndex=$,e(c,X),T||v||(T=!0,L||(L=!0,V()))),X},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(X){var se=g;return function(){var le=g;g=se;try{return X.apply(this,arguments)}finally{g=le}}}})(wE)),wE}var aR;function U9(){return aR||(aR=1,TE.exports=L9()),TE.exports}var AE={exports:{}},dr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR;function V9(){if(sR)return dr;sR=1;var t=tf();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dr.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(c,f,null,h)},dr.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},dr.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},dr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},dr.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},dr.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},dr.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},dr.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},dr.requestFormReset=function(c){r.d.r(c)},dr.unstable_batchedUpdates=function(c,f){return c(f)},dr.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},dr.useFormStatus=function(){return s.H.useHostTransitionStatus()},dr.version="19.2.3",dr}var lR;function aV(){if(lR)return AE.exports;lR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),AE.exports=V9(),AE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR;function B9(){if(uR)return Cd;uR=1;var t=U9(),e=tf(),n=aV();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function s(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(o(a)!==a)throw Error(r(188))}function f(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,m=l;;){var S=d.return;if(S===null)break;var b=S.alternate;if(b===null){if(m=S.return,m!==null){d=m;continue}break}if(S.child===b.child){for(b=S.child;b;){if(b===d)return c(S),a;if(b===m)return c(S),l;b=b.sibling}throw Error(r(188))}if(d.return!==m.return)d=S,m=b;else{for(var P=!1,U=S.child;U;){if(U===d){P=!0,d=S,m=b;break}if(U===m){P=!0,m=S,d=b;break}U=U.sibling}if(!P){for(U=b.child;U;){if(U===d){P=!0,d=b,m=S;break}if(U===m){P=!0,m=b,d=S;break}U=U.sibling}if(!P)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function h(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=h(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function V(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var F=Symbol.for("react.client.reference");function ue(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===F?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case I:return"Profiler";case A:return"StrictMode";case G:return"Suspense";case L:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case T:return"Portal";case k:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case z:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return l=a.displayName||null,l!==null?l:ue(a.type)||"Memo";case M:l=a._payload,a=a._init;try{return ue(a(l))}catch{}}return null}var ce=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ge=[],$=-1;function Y(a){return{current:a}}function re(a){0>$||(a.current=ge[$],ge[$]=null,$--)}function j(a,l){$++,ge[$]=a.current,a.current=l}var _e=Y(null),Pe=Y(null),xe=Y(null),Me=Y(null);function ut(a,l){switch(j(xe,l),j(Pe,a),j(_e,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?wP(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=wP(l),a=AP(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}re(_e),j(_e,a)}function fe(){re(_e),re(Pe),re(xe)}function Ue(a){a.memoizedState!==null&&j(Me,a);var l=_e.current,d=AP(l,a.type);l!==d&&(j(Pe,a),j(_e,d))}function He(a){Pe.current===a&&(re(_e),re(Pe)),Me.current===a&&(re(Me),bd._currentValue=le)}var ve,Yt;function Je(a){if(ve===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ve=l&&l[1]||"",Yt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+a+Yt}var tn=!1;function Ft(a,l){if(!a||tn)return"";tn=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ae){var ie=ae}Reflect.construct(a,[],me)}else{try{me.call()}catch(ae){ie=ae}a.call(me.prototype)}}else{try{throw Error()}catch(ae){ie=ae}(me=a())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ae){if(ae&&ie&&typeof ae.stack=="string")return[ae.stack,ie.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),P=b[0],U=b[1];if(P&&U){var W=P.split(`
`),ne=U.split(`
`);for(S=m=0;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;for(;S<ne.length&&!ne[S].includes("DetermineComponentFrameRoot");)S++;if(m===W.length||S===ne.length)for(m=W.length-1,S=ne.length-1;1<=m&&0<=S&&W[m]!==ne[S];)S--;for(;1<=m&&0<=S;m--,S--)if(W[m]!==ne[S]){if(m!==1||S!==1)do if(m--,S--,0>S||W[m]!==ne[S]){var de=`
`+W[m].replace(" at new "," at ");return a.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",a.displayName)),de}while(1<=m&&0<=S);break}}}finally{tn=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Je(d):""}function ur(a,l){switch(a.tag){case 26:case 27:case 5:return Je(a.type);case 16:return Je("Lazy");case 13:return a.child!==l&&l!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return Ft(a.type,!1);case 11:return Ft(a.type.render,!1);case 1:return Ft(a.type,!0);case 31:return Je("Activity");default:return""}}function mo(a){try{var l="",d=null;do l+=ur(a,d),d=a,a=a.return;while(a);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Wt=Object.prototype.hasOwnProperty,nn=t.unstable_scheduleCallback,go=t.unstable_cancelCallback,xf=t.unstable_shouldYield,wu=t.unstable_requestPaint,Xn=t.unstable_now,oa=t.unstable_getCurrentPriorityLevel,he=t.unstable_ImmediatePriority,be=t.unstable_UserBlockingPriority,Le=t.unstable_NormalPriority,Xe=t.unstable_LowPriority,ct=t.unstable_IdlePriority,cr=t.log,ci=t.unstable_setDisableYieldValue,sn=null,Jt=null;function Bn(a){if(typeof cr=="function"&&ci(a),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(sn,a)}catch{}}var at=Math.clz32?Math.clz32:mp,ki=Math.log,fr=Math.LN2;function mp(a){return a>>>=0,a===0?32:31-(ki(a)/fr|0)|0}var yo=256,sl=262144,yn=4194304;function vo(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function _o(a,l,d){var m=a.pendingLanes;if(m===0)return 0;var S=0,b=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var U=m&134217727;return U!==0?(m=U&~b,m!==0?S=vo(m):(P&=U,P!==0?S=vo(P):d||(d=U&~a,d!==0&&(S=vo(d))))):(U=m&~b,U!==0?S=vo(U):P!==0?S=vo(P):d||(d=m&~a,d!==0&&(S=vo(d)))),S===0?0:l!==0&&l!==S&&(l&b)===0&&(b=S&-S,d=l&-l,b>=d||b===32&&(d&4194048)!==0)?l:S}function Li(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function T0(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gp(){var a=yn;return yn<<=1,(yn&62914560)===0&&(yn=4194304),a}function Eo(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function ll(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function w0(a,l,d,m,S,b){var P=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var U=a.entanglements,W=a.expirationTimes,ne=a.hiddenUpdates;for(d=P&~d;0<d;){var de=31-at(d),me=1<<de;U[de]=0,W[de]=-1;var ie=ne[de];if(ie!==null)for(ne[de]=null,de=0;de<ie.length;de++){var ae=ie[de];ae!==null&&(ae.lane&=-536870913)}d&=~me}m!==0&&ul(a,m,0),b!==0&&S===0&&a.tag!==0&&(a.suspendedLanes|=b&~(P&~l))}function ul(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-at(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|d&261930}function Cf(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var m=31-at(d),S=1<<m;S&l|a[m]&l&&(a[m]|=l),d&=~S}}function If(a,l){var d=l&-l;return d=(d&42)!==0?1:cl(d),(d&(a.suspendedLanes|l))!==0?0:d}function cl(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function aa(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function yp(){var a=se.p;return a!==0?a:(a=window.event,a===void 0?32:YP(a.type))}function Ui(a,l){var d=se.p;try{return se.p=a,l()}finally{se.p=d}}var Vi=Math.random().toString(36).slice(2),vn="__reactFiber$"+Vi,Fn="__reactProps$"+Vi,So="__reactContainer$"+Vi,Au="__reactEvents$"+Vi,A0="__reactListeners$"+Vi,vp="__reactHandles$"+Vi,_p="__reactResources$"+Vi,bo="__reactMarker$"+Vi;function xu(a){delete a[vn],delete a[Fn],delete a[Au],delete a[A0],delete a[vp]}function To(a){var l=a[vn];if(l)return l;for(var d=a.parentNode;d;){if(l=d[So]||d[vn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=OP(a);a!==null;){if(d=a[vn])return d;a=OP(a)}return l}a=d,d=a.parentNode}return null}function fi(a){if(a=a[vn]||a[So]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Wr(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function wo(a){var l=a[_p];return l||(l=a[_p]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function _n(a){a[bo]=!0}var Pf=new Set,Rf={};function Ao(a,l){xo(a,l),xo(a+"Capture",l)}function xo(a,l){for(Rf[a]=l,a=0;a<l.length;a++)Pf.add(l[a])}var Nf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Of={},Mf={};function Ep(a){return Wt.call(Mf,a)?!0:Wt.call(Of,a)?!1:Nf.test(a)?Mf[a]=!0:(Of[a]=!0,!1)}function Cu(a,l,d){if(Ep(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function Jr(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function En(a,l,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+m)}}function zn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function rs(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Df(a,l,d){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,b=m.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return S.call(this)},set:function(P){d=""+P,b.call(this,P)}}),Object.defineProperty(a,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(P){d=""+P},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function _t(a){if(!a._valueTracker){var l=rs(a)?"checked":"value";a._valueTracker=Df(a,l,""+a[l])}}function fl(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return a&&(m=rs(a)?a.checked?"true":"false":a.value),a=m,a!==d?(l.setValue(a),!0):!1}function Co(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var dl=/[\n"\\]/g;function Nr(a){return a.replace(dl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Iu(a,l,d,m,S,b,P,U){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),l!=null?P==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+zn(l)):a.value!==""+zn(l)&&(a.value=""+zn(l)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),l!=null?kf(a,P,zn(l)):d!=null?kf(a,P,zn(d)):m!=null&&a.removeAttribute("value"),S==null&&b!=null&&(a.defaultChecked=!!b),S!=null&&(a.checked=S&&typeof S!="function"&&typeof S!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?a.name=""+zn(U):a.removeAttribute("name")}function Sp(a,l,d,m,S,b,P,U){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),l!=null||d!=null){if(!(b!=="submit"&&b!=="reset"||l!=null)){_t(a);return}d=d!=null?""+zn(d):"",l=l!=null?""+zn(l):d,U||l===a.value||(a.value=l),a.defaultValue=l}m=m??S,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=U?a.checked:!!m,a.defaultChecked=!!m,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P),_t(a)}function kf(a,l,d){l==="number"&&Co(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function is(a,l,d,m){if(a=a.options,l){l={};for(var S=0;S<d.length;S++)l["$"+d[S]]=!0;for(d=0;d<a.length;d++)S=l.hasOwnProperty("$"+a[d].value),a[d].selected!==S&&(a[d].selected=S),S&&m&&(a[d].defaultSelected=!0)}else{for(d=""+zn(d),l=null,S=0;S<a.length;S++){if(a[S].value===d){a[S].selected=!0,m&&(a[S].defaultSelected=!0);return}l!==null||a[S].disabled||(l=a[S])}l!==null&&(l.selected=!0)}}function bp(a,l,d){if(l!=null&&(l=""+zn(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+zn(d):""}function os(a,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(ce(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=zn(l),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m),_t(a)}function Or(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var Tp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lf(a,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,d):typeof d!="number"||d===0||Tp.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Uf(a,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var S in l)m=l[S],l.hasOwnProperty(S)&&d[S]!==m&&Lf(a,S,m)}else for(var b in l)l.hasOwnProperty(b)&&Lf(a,b,l[b])}function Pu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ru(a){return as.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Bi(){}var Vf=null;function di(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ss=null,Io=null;function hl(a){var l=fi(a);if(l&&(a=l.stateNode)){var d=a[Fn]||null;e:switch(a=l.stateNode,l.type){case"input":if(Iu(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Nr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==a&&m.form===a.form){var S=m[Fn]||null;if(!S)throw Error(r(90));Iu(m,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===a.form&&fl(m)}break e;case"textarea":bp(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&is(a,!!d.multiple,l,!1)}}}var Nu=!1;function ls(a,l,d){if(Nu)return a(l,d);Nu=!0;try{var m=a(l);return m}finally{if(Nu=!1,(ss!==null||Io!==null)&&(ym(),ss&&(l=ss,a=Io,Io=ss=null,hl(l),a)))for(l=0;l<a.length;l++)hl(a[l])}}function Fi(a,l){var d=a.stateNode;if(d===null)return null;var m=d[Fn]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pl=!1;if(hi)try{var Tt={};Object.defineProperty(Tt,"passive",{get:function(){pl=!0}}),window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{pl=!1}var Po=null,Bf=null,ml=null;function Ff(){if(ml)return ml;var a,l=Bf,d=l.length,m,S="value"in Po?Po.value:Po.textContent,b=S.length;for(a=0;a<d&&l[a]===S[a];a++);var P=d-a;for(m=1;m<=P&&l[d-m]===S[b-m];m++);return ml=S.slice(a,1<m?1-m:void 0)}function gl(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function sa(){return!0}function zi(){return!1}function Qn(a){function l(d,m,S,b,P){this._reactName=d,this._targetInst=S,this.type=m,this.nativeEvent=b,this.target=P,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(d=a[U],this[U]=d?d(b):b[U]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?sa:zi,this.isPropagationStopped=zi,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),l}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=Qn(la),us=p({},la,{view:0,detail:0}),zf=Qn(us),cs,Ou,No,Mu=p({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==No&&(No&&a.type==="mousemove"?(cs=a.screenX-No.screenX,Ou=a.screenY-No.screenY):Ou=cs=0,No=a),cs)},movementY:function(a){return"movementY"in a?a.movementY:Ou}}),qf=Qn(Mu),yl=p({},Mu,{dataTransfer:0}),Ap=Qn(yl),xp=p({},us,{relatedTarget:0}),vl=Qn(xp),Hf=p({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),Cp=Qn(Hf),Du=p({},la,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ip=Qn(Du),Pp=p({},la,{data:0}),Oo=Qn(Pp),Rp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Op={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mp(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Op[a])?!!l[a]:!1}function fs(){return Mp}var Tr=p({},us,{key:function(a){if(a.key){var l=Rp[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=gl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Np[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(a){return a.type==="keypress"?gl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?gl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Dp=Qn(Tr),kp=p({},Mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ua=Qn(kp),E=p({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),x=Qn(E),R=p({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),H=Qn(R),ee=p({},Mu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=Qn(ee),Te=p({},la,{newState:0,oldState:0}),je=Qn(Te),ln=[9,13,27,32],mt=hi&&"CompositionEvent"in window,zt=null;hi&&"documentMode"in document&&(zt=document.documentMode);var pi=hi&&"TextEvent"in window&&!zt,Mo=hi&&(!mt||zt&&8<zt&&11>=zt),qi=" ",Hi=!1;function _l(a,l){switch(a){case"keyup":return ln.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ku(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Lu=!1;function Zq(a,l){switch(a){case"compositionend":return ku(l);case"keypress":return l.which!==32?null:(Hi=!0,qi);case"textInput":return a=l.data,a===qi&&Hi?null:a;default:return null}}function eH(a,l){if(Lu)return a==="compositionend"||!mt&&_l(a,l)?(a=Ff(),ml=Bf=Po=null,Lu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Mo&&l.locale!=="ko"?null:l.data;default:return null}}var tH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kC(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!tH[a.type]:l==="textarea"}function LC(a,l,d,m){ss?Io?Io.push(m):Io=[m]:ss=m,l=wm(l,"onChange"),0<l.length&&(d=new Ro("onChange","change",null,d,m),a.push({event:d,listeners:l}))}var Gf=null,jf=null;function nH(a){vP(a,0)}function Lp(a){var l=Wr(a);if(fl(l))return a}function UC(a,l){if(a==="change")return l}var VC=!1;if(hi){var x0;if(hi){var C0="oninput"in document;if(!C0){var BC=document.createElement("div");BC.setAttribute("oninput","return;"),C0=typeof BC.oninput=="function"}x0=C0}else x0=!1;VC=x0&&(!document.documentMode||9<document.documentMode)}function FC(){Gf&&(Gf.detachEvent("onpropertychange",zC),jf=Gf=null)}function zC(a){if(a.propertyName==="value"&&Lp(jf)){var l=[];LC(l,jf,a,di(a)),ls(nH,l)}}function rH(a,l,d){a==="focusin"?(FC(),Gf=l,jf=d,Gf.attachEvent("onpropertychange",zC)):a==="focusout"&&FC()}function iH(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Lp(jf)}function oH(a,l){if(a==="click")return Lp(l)}function aH(a,l){if(a==="input"||a==="change")return Lp(l)}function sH(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Xr=typeof Object.is=="function"?Object.is:sH;function $f(a,l){if(Xr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var S=d[m];if(!Wt.call(l,S)||!Xr(a[S],l[S]))return!1}return!0}function qC(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function HC(a,l){var d=qC(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=l&&m>=l)return{node:d,offset:l-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=qC(d)}}function GC(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?GC(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function jC(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Co(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=Co(a.document)}return l}function I0(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var lH=hi&&"documentMode"in document&&11>=document.documentMode,Uu=null,P0=null,Kf=null,R0=!1;function $C(a,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;R0||Uu==null||Uu!==Co(m)||(m=Uu,"selectionStart"in m&&I0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Kf&&$f(Kf,m)||(Kf=m,m=wm(P0,"onSelect"),0<m.length&&(l=new Ro("onSelect","select",null,l,d),a.push({event:l,listeners:m}),l.target=Uu)))}function El(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Vu={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionrun:El("Transition","TransitionRun"),transitionstart:El("Transition","TransitionStart"),transitioncancel:El("Transition","TransitionCancel"),transitionend:El("Transition","TransitionEnd")},N0={},KC={};hi&&(KC=document.createElement("div").style,"AnimationEvent"in window||(delete Vu.animationend.animation,delete Vu.animationiteration.animation,delete Vu.animationstart.animation),"TransitionEvent"in window||delete Vu.transitionend.transition);function Sl(a){if(N0[a])return N0[a];if(!Vu[a])return a;var l=Vu[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in KC)return N0[a]=l[d];return a}var YC=Sl("animationend"),WC=Sl("animationiteration"),JC=Sl("animationstart"),uH=Sl("transitionrun"),cH=Sl("transitionstart"),fH=Sl("transitioncancel"),XC=Sl("transitionend"),QC=new Map,O0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");O0.push("scrollEnd");function Gi(a,l){QC.set(a,l),Ao(l,[a])}var Up=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},mi=[],Bu=0,M0=0;function Vp(){for(var a=Bu,l=M0=Bu=0;l<a;){var d=mi[l];mi[l++]=null;var m=mi[l];mi[l++]=null;var S=mi[l];mi[l++]=null;var b=mi[l];if(mi[l++]=null,m!==null&&S!==null){var P=m.pending;P===null?S.next=S:(S.next=P.next,P.next=S),m.pending=S}b!==0&&ZC(d,S,b)}}function Bp(a,l,d,m){mi[Bu++]=a,mi[Bu++]=l,mi[Bu++]=d,mi[Bu++]=m,M0|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function D0(a,l,d,m){return Bp(a,l,d,m),Fp(a)}function bl(a,l){return Bp(a,null,null,l),Fp(a)}function ZC(a,l,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var S=!1,b=a.return;b!==null;)b.childLanes|=d,m=b.alternate,m!==null&&(m.childLanes|=d),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(S=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,S&&l!==null&&(S=31-at(d),a=b.hiddenUpdates,m=a[S],m===null?a[S]=[l]:m.push(l),l.lane=d|536870912),b):null}function Fp(a){if(50<md)throw md=0,H_=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Fu={};function dH(a,l,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(a,l,d,m){return new dH(a,l,d,m)}function k0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ca(a,l){var d=a.alternate;return d===null?(d=Qr(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function eI(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function zp(a,l,d,m,S,b){var P=0;if(m=a,typeof a=="function")k0(a)&&(P=1);else if(typeof a=="string")P=y9(a,d,_e.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=Qr(31,d,l,S),a.elementType=O,a.lanes=b,a;case w:return Tl(d.children,S,b,l);case A:P=8,S|=24;break;case I:return a=Qr(12,d,l,S|2),a.elementType=I,a.lanes=b,a;case G:return a=Qr(13,d,l,S),a.elementType=G,a.lanes=b,a;case L:return a=Qr(19,d,l,S),a.elementType=L,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:P=10;break e;case D:P=9;break e;case z:P=11;break e;case N:P=14;break e;case M:P=16,m=null;break e}P=29,d=Error(r(130,a===null?"null":typeof a,"")),m=null}return l=Qr(P,d,l,S),l.elementType=a,l.type=m,l.lanes=b,l}function Tl(a,l,d,m){return a=Qr(7,a,m,l),a.lanes=d,a}function L0(a,l,d){return a=Qr(6,a,null,l),a.lanes=d,a}function tI(a){var l=Qr(18,null,null,0);return l.stateNode=a,l}function U0(a,l,d){return l=Qr(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var nI=new WeakMap;function gi(a,l){if(typeof a=="object"&&a!==null){var d=nI.get(a);return d!==void 0?d:(l={value:a,source:l,stack:mo(l)},nI.set(a,l),l)}return{value:a,source:l,stack:mo(l)}}var zu=[],qu=0,qp=null,Yf=0,yi=[],vi=0,ds=null,Do=1,ko="";function fa(a,l){zu[qu++]=Yf,zu[qu++]=qp,qp=a,Yf=l}function rI(a,l,d){yi[vi++]=Do,yi[vi++]=ko,yi[vi++]=ds,ds=a;var m=Do;a=ko;var S=32-at(m)-1;m&=~(1<<S),d+=1;var b=32-at(l)+S;if(30<b){var P=S-S%5;b=(m&(1<<P)-1).toString(32),m>>=P,S-=P,Do=1<<32-at(l)+S|d<<S|m,ko=b+a}else Do=1<<b|d<<S|m,ko=a}function V0(a){a.return!==null&&(fa(a,1),rI(a,1,0))}function B0(a){for(;a===qp;)qp=zu[--qu],zu[qu]=null,Yf=zu[--qu],zu[qu]=null;for(;a===ds;)ds=yi[--vi],yi[vi]=null,ko=yi[--vi],yi[vi]=null,Do=yi[--vi],yi[vi]=null}function iI(a,l){yi[vi++]=Do,yi[vi++]=ko,yi[vi++]=ds,Do=l.id,ko=l.overflow,ds=a}var Zn=null,Ut=null,st=!1,hs=null,_i=!1,F0=Error(r(519));function ps(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wf(gi(l,a)),F0}function oI(a){var l=a.stateNode,d=a.type,m=a.memoizedProps;switch(l[vn]=a,l[Fn]=m,d){case"dialog":et("cancel",l),et("close",l);break;case"iframe":case"object":case"embed":et("load",l);break;case"video":case"audio":for(d=0;d<yd.length;d++)et(yd[d],l);break;case"source":et("error",l);break;case"img":case"image":case"link":et("error",l),et("load",l);break;case"details":et("toggle",l);break;case"input":et("invalid",l),Sp(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":et("invalid",l);break;case"textarea":et("invalid",l),os(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||bP(l.textContent,d)?(m.popover!=null&&(et("beforetoggle",l),et("toggle",l)),m.onScroll!=null&&et("scroll",l),m.onScrollEnd!=null&&et("scrollend",l),m.onClick!=null&&(l.onclick=Bi),l=!0):l=!1,l||ps(a,!0)}function aI(a){for(Zn=a.return;Zn;)switch(Zn.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:Zn=Zn.return}}function Hu(a){if(a!==Zn)return!1;if(!st)return aI(a),st=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||iE(a.type,a.memoizedProps)),d=!d),d&&Ut&&ps(a),aI(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ut=NP(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ut=NP(a)}else l===27?(l=Ut,Is(a.type)?(a=uE,uE=null,Ut=a):Ut=l):Ut=Zn?Si(a.stateNode.nextSibling):null;return!0}function wl(){Ut=Zn=null,st=!1}function z0(){var a=hs;return a!==null&&(Lr===null?Lr=a:Lr.push.apply(Lr,a),hs=null),a}function Wf(a){hs===null?hs=[a]:hs.push(a)}var q0=Y(null),Al=null,da=null;function ms(a,l,d){j(q0,l._currentValue),l._currentValue=d}function ha(a){a._currentValue=q0.current,re(q0)}function H0(a,l,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===d)break;a=a.return}}function G0(a,l,d,m){var S=a.child;for(S!==null&&(S.return=a);S!==null;){var b=S.dependencies;if(b!==null){var P=S.child;b=b.firstContext;e:for(;b!==null;){var U=b;b=S;for(var W=0;W<l.length;W++)if(U.context===l[W]){b.lanes|=d,U=b.alternate,U!==null&&(U.lanes|=d),H0(b.return,d,a),m||(P=null);break e}b=U.next}}else if(S.tag===18){if(P=S.return,P===null)throw Error(r(341));P.lanes|=d,b=P.alternate,b!==null&&(b.lanes|=d),H0(P,d,a),P=null}else P=S.child;if(P!==null)P.return=S;else for(P=S;P!==null;){if(P===a){P=null;break}if(S=P.sibling,S!==null){S.return=P.return,P=S;break}P=P.return}S=P}}function Gu(a,l,d,m){a=null;for(var S=l,b=!1;S!==null;){if(!b){if((S.flags&524288)!==0)b=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var P=S.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var U=S.type;Xr(S.pendingProps.value,P.value)||(a!==null?a.push(U):a=[U])}}else if(S===Me.current){if(P=S.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(a!==null?a.push(bd):a=[bd])}S=S.return}a!==null&&G0(l,a,d,m),l.flags|=262144}function Hp(a){for(a=a.firstContext;a!==null;){if(!Xr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function xl(a){Al=a,da=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function er(a){return sI(Al,a)}function Gp(a,l){return Al===null&&xl(a),sI(a,l)}function sI(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},da===null){if(a===null)throw Error(r(308));da=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else da=da.next=l;return d}var hH=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},pH=t.unstable_scheduleCallback,mH=t.unstable_NormalPriority,Sn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function j0(){return{controller:new hH,data:new Map,refCount:0}}function Jf(a){a.refCount--,a.refCount===0&&pH(mH,function(){a.controller.abort()})}var Xf=null,$0=0,ju=0,$u=null;function gH(a,l){if(Xf===null){var d=Xf=[];$0=0,ju=W_(),$u={status:"pending",value:void 0,then:function(m){d.push(m)}}}return $0++,l.then(lI,lI),l}function lI(){if(--$0===0&&Xf!==null){$u!==null&&($u.status="fulfilled");var a=Xf;Xf=null,ju=0,$u=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function yH(a,l){var d=[],m={status:"pending",value:null,reason:null,then:function(S){d.push(S)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var S=0;S<d.length;S++)(0,d[S])(l)},function(S){for(m.status="rejected",m.reason=S,S=0;S<d.length;S++)(0,d[S])(void 0)}),m}var uI=X.S;X.S=function(a,l){$1=Xn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&gH(a,l),uI!==null&&uI(a,l)};var Cl=Y(null);function K0(){var a=Cl.current;return a!==null?a:Rt.pooledCache}function jp(a,l){l===null?j(Cl,Cl.current):j(Cl,l.pool)}function cI(){var a=K0();return a===null?null:{parent:Sn._currentValue,pool:a}}var Ku=Error(r(460)),Y0=Error(r(474)),$p=Error(r(542)),Kp={then:function(){}};function fI(a){return a=a.status,a==="fulfilled"||a==="rejected"}function dI(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(Bi,Bi),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,pI(a),a;default:if(typeof l.status=="string")l.then(Bi,Bi);else{if(a=Rt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=m}},function(m){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,pI(a),a}throw Pl=l,Ku}}function Il(a){try{var l=a._init;return l(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Pl=d,Ku):d}}var Pl=null;function hI(){if(Pl===null)throw Error(r(459));var a=Pl;return Pl=null,a}function pI(a){if(a===Ku||a===$p)throw Error(r(483))}var Yu=null,Qf=0;function Yp(a){var l=Qf;return Qf+=1,Yu===null&&(Yu=[]),dI(Yu,a,l)}function Zf(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Wp(a,l){throw l.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function mI(a){function l(Q,J){if(a){var te=Q.deletions;te===null?(Q.deletions=[J],Q.flags|=16):te.push(J)}}function d(Q,J){if(!a)return null;for(;J!==null;)l(Q,J),J=J.sibling;return null}function m(Q){for(var J=new Map;Q!==null;)Q.key!==null?J.set(Q.key,Q):J.set(Q.index,Q),Q=Q.sibling;return J}function S(Q,J){return Q=ca(Q,J),Q.index=0,Q.sibling=null,Q}function b(Q,J,te){return Q.index=te,a?(te=Q.alternate,te!==null?(te=te.index,te<J?(Q.flags|=67108866,J):te):(Q.flags|=67108866,J)):(Q.flags|=1048576,J)}function P(Q){return a&&Q.alternate===null&&(Q.flags|=67108866),Q}function U(Q,J,te,pe){return J===null||J.tag!==6?(J=L0(te,Q.mode,pe),J.return=Q,J):(J=S(J,te),J.return=Q,J)}function W(Q,J,te,pe){var De=te.type;return De===w?de(Q,J,te.props.children,pe,te.key):J!==null&&(J.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===M&&Il(De)===J.type)?(J=S(J,te.props),Zf(J,te),J.return=Q,J):(J=zp(te.type,te.key,te.props,null,Q.mode,pe),Zf(J,te),J.return=Q,J)}function ne(Q,J,te,pe){return J===null||J.tag!==4||J.stateNode.containerInfo!==te.containerInfo||J.stateNode.implementation!==te.implementation?(J=U0(te,Q.mode,pe),J.return=Q,J):(J=S(J,te.children||[]),J.return=Q,J)}function de(Q,J,te,pe,De){return J===null||J.tag!==7?(J=Tl(te,Q.mode,pe,De),J.return=Q,J):(J=S(J,te),J.return=Q,J)}function me(Q,J,te){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=L0(""+J,Q.mode,te),J.return=Q,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return te=zp(J.type,J.key,J.props,null,Q.mode,te),Zf(te,J),te.return=Q,te;case T:return J=U0(J,Q.mode,te),J.return=Q,J;case M:return J=Il(J),me(Q,J,te)}if(ce(J)||V(J))return J=Tl(J,Q.mode,te,null),J.return=Q,J;if(typeof J.then=="function")return me(Q,Yp(J),te);if(J.$$typeof===k)return me(Q,Gp(Q,J),te);Wp(Q,J)}return null}function ie(Q,J,te,pe){var De=J!==null?J.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return De!==null?null:U(Q,J,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case v:return te.key===De?W(Q,J,te,pe):null;case T:return te.key===De?ne(Q,J,te,pe):null;case M:return te=Il(te),ie(Q,J,te,pe)}if(ce(te)||V(te))return De!==null?null:de(Q,J,te,pe,null);if(typeof te.then=="function")return ie(Q,J,Yp(te),pe);if(te.$$typeof===k)return ie(Q,J,Gp(Q,te),pe);Wp(Q,te)}return null}function ae(Q,J,te,pe,De){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Q=Q.get(te)||null,U(J,Q,""+pe,De);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case v:return Q=Q.get(pe.key===null?te:pe.key)||null,W(J,Q,pe,De);case T:return Q=Q.get(pe.key===null?te:pe.key)||null,ne(J,Q,pe,De);case M:return pe=Il(pe),ae(Q,J,te,pe,De)}if(ce(pe)||V(pe))return Q=Q.get(te)||null,de(J,Q,pe,De,null);if(typeof pe.then=="function")return ae(Q,J,te,Yp(pe),De);if(pe.$$typeof===k)return ae(Q,J,te,Gp(J,pe),De);Wp(J,pe)}return null}function Ie(Q,J,te,pe){for(var De=null,ft=null,Ne=J,Ke=J=0,nt=null;Ne!==null&&Ke<te.length;Ke++){Ne.index>Ke?(nt=Ne,Ne=null):nt=Ne.sibling;var dt=ie(Q,Ne,te[Ke],pe);if(dt===null){Ne===null&&(Ne=nt);break}a&&Ne&&dt.alternate===null&&l(Q,Ne),J=b(dt,J,Ke),ft===null?De=dt:ft.sibling=dt,ft=dt,Ne=nt}if(Ke===te.length)return d(Q,Ne),st&&fa(Q,Ke),De;if(Ne===null){for(;Ke<te.length;Ke++)Ne=me(Q,te[Ke],pe),Ne!==null&&(J=b(Ne,J,Ke),ft===null?De=Ne:ft.sibling=Ne,ft=Ne);return st&&fa(Q,Ke),De}for(Ne=m(Ne);Ke<te.length;Ke++)nt=ae(Ne,Q,Ke,te[Ke],pe),nt!==null&&(a&&nt.alternate!==null&&Ne.delete(nt.key===null?Ke:nt.key),J=b(nt,J,Ke),ft===null?De=nt:ft.sibling=nt,ft=nt);return a&&Ne.forEach(function(Ms){return l(Q,Ms)}),st&&fa(Q,Ke),De}function Ve(Q,J,te,pe){if(te==null)throw Error(r(151));for(var De=null,ft=null,Ne=J,Ke=J=0,nt=null,dt=te.next();Ne!==null&&!dt.done;Ke++,dt=te.next()){Ne.index>Ke?(nt=Ne,Ne=null):nt=Ne.sibling;var Ms=ie(Q,Ne,dt.value,pe);if(Ms===null){Ne===null&&(Ne=nt);break}a&&Ne&&Ms.alternate===null&&l(Q,Ne),J=b(Ms,J,Ke),ft===null?De=Ms:ft.sibling=Ms,ft=Ms,Ne=nt}if(dt.done)return d(Q,Ne),st&&fa(Q,Ke),De;if(Ne===null){for(;!dt.done;Ke++,dt=te.next())dt=me(Q,dt.value,pe),dt!==null&&(J=b(dt,J,Ke),ft===null?De=dt:ft.sibling=dt,ft=dt);return st&&fa(Q,Ke),De}for(Ne=m(Ne);!dt.done;Ke++,dt=te.next())dt=ae(Ne,Q,Ke,dt.value,pe),dt!==null&&(a&&dt.alternate!==null&&Ne.delete(dt.key===null?Ke:dt.key),J=b(dt,J,Ke),ft===null?De=dt:ft.sibling=dt,ft=dt);return a&&Ne.forEach(function(I9){return l(Q,I9)}),st&&fa(Q,Ke),De}function xt(Q,J,te,pe){if(typeof te=="object"&&te!==null&&te.type===w&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case v:e:{for(var De=te.key;J!==null;){if(J.key===De){if(De=te.type,De===w){if(J.tag===7){d(Q,J.sibling),pe=S(J,te.props.children),pe.return=Q,Q=pe;break e}}else if(J.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===M&&Il(De)===J.type){d(Q,J.sibling),pe=S(J,te.props),Zf(pe,te),pe.return=Q,Q=pe;break e}d(Q,J);break}else l(Q,J);J=J.sibling}te.type===w?(pe=Tl(te.props.children,Q.mode,pe,te.key),pe.return=Q,Q=pe):(pe=zp(te.type,te.key,te.props,null,Q.mode,pe),Zf(pe,te),pe.return=Q,Q=pe)}return P(Q);case T:e:{for(De=te.key;J!==null;){if(J.key===De)if(J.tag===4&&J.stateNode.containerInfo===te.containerInfo&&J.stateNode.implementation===te.implementation){d(Q,J.sibling),pe=S(J,te.children||[]),pe.return=Q,Q=pe;break e}else{d(Q,J);break}else l(Q,J);J=J.sibling}pe=U0(te,Q.mode,pe),pe.return=Q,Q=pe}return P(Q);case M:return te=Il(te),xt(Q,J,te,pe)}if(ce(te))return Ie(Q,J,te,pe);if(V(te)){if(De=V(te),typeof De!="function")throw Error(r(150));return te=De.call(te),Ve(Q,J,te,pe)}if(typeof te.then=="function")return xt(Q,J,Yp(te),pe);if(te.$$typeof===k)return xt(Q,J,Gp(Q,te),pe);Wp(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,J!==null&&J.tag===6?(d(Q,J.sibling),pe=S(J,te),pe.return=Q,Q=pe):(d(Q,J),pe=L0(te,Q.mode,pe),pe.return=Q,Q=pe),P(Q)):d(Q,J)}return function(Q,J,te,pe){try{Qf=0;var De=xt(Q,J,te,pe);return Yu=null,De}catch(Ne){if(Ne===Ku||Ne===$p)throw Ne;var ft=Qr(29,Ne,null,Q.mode);return ft.lanes=pe,ft.return=Q,ft}finally{}}}var Rl=mI(!0),gI=mI(!1),gs=!1;function W0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function J0(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ys(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function vs(a,l,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(gt&2)!==0){var S=m.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),m.pending=l,l=Fp(a),ZC(a,null,d),l}return Bp(a,m,l,d),Fp(a)}function ed(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,Cf(a,d)}}function X0(a,l){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var S=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var P={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};b===null?S=b=P:b=b.next=P,d=d.next}while(d!==null);b===null?S=b=l:b=b.next=l}else S=b=l;d={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var Q0=!1;function td(){if(Q0){var a=$u;if(a!==null)throw a}}function nd(a,l,d,m){Q0=!1;var S=a.updateQueue;gs=!1;var b=S.firstBaseUpdate,P=S.lastBaseUpdate,U=S.shared.pending;if(U!==null){S.shared.pending=null;var W=U,ne=W.next;W.next=null,P===null?b=ne:P.next=ne,P=W;var de=a.alternate;de!==null&&(de=de.updateQueue,U=de.lastBaseUpdate,U!==P&&(U===null?de.firstBaseUpdate=ne:U.next=ne,de.lastBaseUpdate=W))}if(b!==null){var me=S.baseState;P=0,de=ne=W=null,U=b;do{var ie=U.lane&-536870913,ae=ie!==U.lane;if(ae?(tt&ie)===ie:(m&ie)===ie){ie!==0&&ie===ju&&(Q0=!0),de!==null&&(de=de.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Ie=a,Ve=U;ie=l;var xt=d;switch(Ve.tag){case 1:if(Ie=Ve.payload,typeof Ie=="function"){me=Ie.call(xt,me,ie);break e}me=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ve.payload,ie=typeof Ie=="function"?Ie.call(xt,me,ie):Ie,ie==null)break e;me=p({},me,ie);break e;case 2:gs=!0}}ie=U.callback,ie!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=S.callbacks,ae===null?S.callbacks=[ie]:ae.push(ie))}else ae={lane:ie,tag:U.tag,payload:U.payload,callback:U.callback,next:null},de===null?(ne=de=ae,W=me):de=de.next=ae,P|=ie;if(U=U.next,U===null){if(U=S.shared.pending,U===null)break;ae=U,U=ae.next,ae.next=null,S.lastBaseUpdate=ae,S.shared.pending=null}}while(!0);de===null&&(W=me),S.baseState=W,S.firstBaseUpdate=ne,S.lastBaseUpdate=de,b===null&&(S.shared.lanes=0),Ts|=P,a.lanes=P,a.memoizedState=me}}function yI(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function vI(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)yI(d[a],l)}var Wu=Y(null),Jp=Y(0);function _I(a,l){a=ba,j(Jp,a),j(Wu,l),ba=a|l.baseLanes}function Z0(){j(Jp,ba),j(Wu,Wu.current)}function e_(){ba=Jp.current,re(Wu),re(Jp)}var Zr=Y(null),Ei=null;function _s(a){var l=a.alternate;j(un,un.current&1),j(Zr,a),Ei===null&&(l===null||Wu.current!==null||l.memoizedState!==null)&&(Ei=a)}function t_(a){j(un,un.current),j(Zr,a),Ei===null&&(Ei=a)}function EI(a){a.tag===22?(j(un,un.current),j(Zr,a),Ei===null&&(Ei=a)):Es()}function Es(){j(un,un.current),j(Zr,Zr.current)}function ei(a){re(Zr),Ei===a&&(Ei=null),re(un)}var un=Y(0);function Xp(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||sE(d)||lE(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var pa=0,$e=null,wt=null,bn=null,Qp=!1,Ju=!1,Nl=!1,Zp=0,rd=0,Xu=null,vH=0;function rn(){throw Error(r(321))}function n_(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Xr(a[d],l[d]))return!1;return!0}function r_(a,l,d,m,S,b){return pa=b,$e=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,X.H=a===null||a.memoizedState===null?r1:v_,Nl=!1,b=d(m,S),Nl=!1,Ju&&(b=bI(l,d,m,S)),SI(a),b}function SI(a){X.H=ad;var l=wt!==null&&wt.next!==null;if(pa=0,bn=wt=$e=null,Qp=!1,rd=0,Xu=null,l)throw Error(r(300));a===null||Tn||(a=a.dependencies,a!==null&&Hp(a)&&(Tn=!0))}function bI(a,l,d,m){$e=a;var S=0;do{if(Ju&&(Xu=null),rd=0,Ju=!1,25<=S)throw Error(r(301));if(S+=1,bn=wt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}X.H=i1,b=l(d,m)}while(Ju);return b}function _H(){var a=X.H,l=a.useState()[0];return l=typeof l.then=="function"?id(l):l,a=a.useState()[0],(wt!==null?wt.memoizedState:null)!==a&&($e.flags|=1024),l}function i_(){var a=Zp!==0;return Zp=0,a}function o_(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function a_(a){if(Qp){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Qp=!1}pa=0,bn=wt=$e=null,Ju=!1,rd=Zp=0,Xu=null}function wr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?$e.memoizedState=bn=a:bn=bn.next=a,bn}function cn(){if(wt===null){var a=$e.alternate;a=a!==null?a.memoizedState:null}else a=wt.next;var l=bn===null?$e.memoizedState:bn.next;if(l!==null)bn=l,wt=a;else{if(a===null)throw $e.alternate===null?Error(r(467)):Error(r(310));wt=a,a={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},bn===null?$e.memoizedState=bn=a:bn=bn.next=a}return bn}function em(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function id(a){var l=rd;return rd+=1,Xu===null&&(Xu=[]),a=dI(Xu,a,l),l=$e,(bn===null?l.memoizedState:bn.next)===null&&(l=l.alternate,X.H=l===null||l.memoizedState===null?r1:v_),a}function tm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return id(a);if(a.$$typeof===k)return er(a)}throw Error(r(438,String(a)))}function s_(a){var l=null,d=$e.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=$e.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=em(),$e.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),m=0;m<a;m++)d[m]=q;return l.index++,d}function ma(a,l){return typeof l=="function"?l(a):l}function nm(a){var l=cn();return l_(l,wt,a)}function l_(a,l,d){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var S=a.baseQueue,b=m.pending;if(b!==null){if(S!==null){var P=S.next;S.next=b.next,b.next=P}l.baseQueue=S=b,m.pending=null}if(b=a.baseState,S===null)a.memoizedState=b;else{l=S.next;var U=P=null,W=null,ne=l,de=!1;do{var me=ne.lane&-536870913;if(me!==ne.lane?(tt&me)===me:(pa&me)===me){var ie=ne.revertLane;if(ie===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),me===ju&&(de=!0);else if((pa&ie)===ie){ne=ne.next,ie===ju&&(de=!0);continue}else me={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},W===null?(U=W=me,P=b):W=W.next=me,$e.lanes|=ie,Ts|=ie;me=ne.action,Nl&&d(b,me),b=ne.hasEagerState?ne.eagerState:d(b,me)}else ie={lane:me,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},W===null?(U=W=ie,P=b):W=W.next=ie,$e.lanes|=me,Ts|=me;ne=ne.next}while(ne!==null&&ne!==l);if(W===null?P=b:W.next=U,!Xr(b,a.memoizedState)&&(Tn=!0,de&&(d=$u,d!==null)))throw d;a.memoizedState=b,a.baseState=P,a.baseQueue=W,m.lastRenderedState=b}return S===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function u_(a){var l=cn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=d.dispatch,S=d.pending,b=l.memoizedState;if(S!==null){d.pending=null;var P=S=S.next;do b=a(b,P.action),P=P.next;while(P!==S);Xr(b,l.memoizedState)||(Tn=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),d.lastRenderedState=b}return[b,m]}function TI(a,l,d){var m=$e,S=cn(),b=st;if(b){if(d===void 0)throw Error(r(407));d=d()}else d=l();var P=!Xr((wt||S).memoizedState,d);if(P&&(S.memoizedState=d,Tn=!0),S=S.queue,d_(xI.bind(null,m,S,a),[a]),S.getSnapshot!==l||P||bn!==null&&bn.memoizedState.tag&1){if(m.flags|=2048,Qu(9,{destroy:void 0},AI.bind(null,m,S,d,l),null),Rt===null)throw Error(r(349));b||(pa&127)!==0||wI(m,l,d)}return d}function wI(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=$e.updateQueue,l===null?(l=em(),$e.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function AI(a,l,d,m){l.value=d,l.getSnapshot=m,CI(l)&&II(a)}function xI(a,l,d){return d(function(){CI(l)&&II(a)})}function CI(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Xr(a,d)}catch{return!0}}function II(a){var l=bl(a,2);l!==null&&Ur(l,a,2)}function c_(a){var l=wr();if(typeof a=="function"){var d=a;if(a=d(),Nl){Bn(!0);try{d()}finally{Bn(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:a},l}function PI(a,l,d,m){return a.baseState=d,l_(a,wt,typeof m=="function"?m:ma)}function EH(a,l,d,m,S){if(om(a))throw Error(r(485));if(a=l.action,a!==null){var b={payload:S,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){b.listeners.push(P)}};X.T!==null?d(!0):b.isTransition=!1,m(b),d=l.pending,d===null?(b.next=l.pending=b,RI(l,b)):(b.next=d.next,l.pending=d.next=b)}}function RI(a,l){var d=l.action,m=l.payload,S=a.state;if(l.isTransition){var b=X.T,P={};X.T=P;try{var U=d(S,m),W=X.S;W!==null&&W(P,U),NI(a,l,U)}catch(ne){f_(a,l,ne)}finally{b!==null&&P.types!==null&&(b.types=P.types),X.T=b}}else try{b=d(S,m),NI(a,l,b)}catch(ne){f_(a,l,ne)}}function NI(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){OI(a,l,m)},function(m){return f_(a,l,m)}):OI(a,l,d)}function OI(a,l,d){l.status="fulfilled",l.value=d,MI(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,RI(a,d)))}function f_(a,l,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,MI(l),l=l.next;while(l!==m)}a.action=null}function MI(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function DI(a,l){return l}function kI(a,l){if(st){var d=Rt.formState;if(d!==null){e:{var m=$e;if(st){if(Ut){t:{for(var S=Ut,b=_i;S.nodeType!==8;){if(!b){S=null;break t}if(S=Si(S.nextSibling),S===null){S=null;break t}}b=S.data,S=b==="F!"||b==="F"?S:null}if(S){Ut=Si(S.nextSibling),m=S.data==="F!";break e}}ps(m)}m=!1}m&&(l=d[0])}}return d=wr(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DI,lastRenderedState:l},d.queue=m,d=e1.bind(null,$e,m),m.dispatch=d,m=c_(!1),b=y_.bind(null,$e,!1,m.queue),m=wr(),S={state:l,dispatch:null,action:a,pending:null},m.queue=S,d=EH.bind(null,$e,S,b,d),S.dispatch=d,m.memoizedState=a,[l,d,!1]}function LI(a){var l=cn();return UI(l,wt,a)}function UI(a,l,d){if(l=l_(a,l,DI)[0],a=nm(ma)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=id(l)}catch(P){throw P===Ku?$p:P}else m=l;l=cn();var S=l.queue,b=S.dispatch;return d!==l.memoizedState&&($e.flags|=2048,Qu(9,{destroy:void 0},SH.bind(null,S,d),null)),[m,b,a]}function SH(a,l){a.action=l}function VI(a){var l=cn(),d=wt;if(d!==null)return UI(l,d,a);cn(),l=l.memoizedState,d=cn();var m=d.queue.dispatch;return d.memoizedState=a,[l,m,!1]}function Qu(a,l,d,m){return a={tag:a,create:d,deps:m,inst:l,next:null},l=$e.updateQueue,l===null&&(l=em(),$e.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,l.lastEffect=a),a}function BI(){return cn().memoizedState}function rm(a,l,d,m){var S=wr();$e.flags|=a,S.memoizedState=Qu(1|l,{destroy:void 0},d,m===void 0?null:m)}function im(a,l,d,m){var S=cn();m=m===void 0?null:m;var b=S.memoizedState.inst;wt!==null&&m!==null&&n_(m,wt.memoizedState.deps)?S.memoizedState=Qu(l,b,d,m):($e.flags|=a,S.memoizedState=Qu(1|l,b,d,m))}function FI(a,l){rm(8390656,8,a,l)}function d_(a,l){im(2048,8,a,l)}function bH(a){$e.flags|=4;var l=$e.updateQueue;if(l===null)l=em(),$e.updateQueue=l,l.events=[a];else{var d=l.events;d===null?l.events=[a]:d.push(a)}}function zI(a){var l=cn().memoizedState;return bH({ref:l,nextImpl:a}),function(){if((gt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function qI(a,l){return im(4,2,a,l)}function HI(a,l){return im(4,4,a,l)}function GI(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function jI(a,l,d){d=d!=null?d.concat([a]):null,im(4,4,GI.bind(null,l,a),d)}function h_(){}function $I(a,l){var d=cn();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&n_(l,m[1])?m[0]:(d.memoizedState=[a,l],a)}function KI(a,l){var d=cn();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&n_(l,m[1]))return m[0];if(m=a(),Nl){Bn(!0);try{a()}finally{Bn(!1)}}return d.memoizedState=[m,l],m}function p_(a,l,d){return d===void 0||(pa&1073741824)!==0&&(tt&261930)===0?a.memoizedState=l:(a.memoizedState=d,a=Y1(),$e.lanes|=a,Ts|=a,d)}function YI(a,l,d,m){return Xr(d,l)?d:Wu.current!==null?(a=p_(a,d,m),Xr(a,l)||(Tn=!0),a):(pa&42)===0||(pa&1073741824)!==0&&(tt&261930)===0?(Tn=!0,a.memoizedState=d):(a=Y1(),$e.lanes|=a,Ts|=a,l)}function WI(a,l,d,m,S){var b=se.p;se.p=b!==0&&8>b?b:8;var P=X.T,U={};X.T=U,y_(a,!1,l,d);try{var W=S(),ne=X.S;if(ne!==null&&ne(U,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var de=yH(W,m);od(a,l,de,ri(a))}else od(a,l,m,ri(a))}catch(me){od(a,l,{then:function(){},status:"rejected",reason:me},ri())}finally{se.p=b,P!==null&&U.types!==null&&(P.types=U.types),X.T=P}}function TH(){}function m_(a,l,d,m){if(a.tag!==5)throw Error(r(476));var S=JI(a).queue;WI(a,S,l,le,d===null?TH:function(){return XI(a),d(m)})}function JI(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:le},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function XI(a){var l=JI(a);l.next===null&&(l=a.alternate.memoizedState),od(a,l.next.queue,{},ri())}function g_(){return er(bd)}function QI(){return cn().memoizedState}function ZI(){return cn().memoizedState}function wH(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=ri();a=ys(d);var m=vs(l,a,d);m!==null&&(Ur(m,l,d),ed(m,l,d)),l={cache:j0()},a.payload=l;return}l=l.return}}function AH(a,l,d){var m=ri();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},om(a)?t1(l,d):(d=D0(a,l,d,m),d!==null&&(Ur(d,a,m),n1(d,l,m)))}function e1(a,l,d){var m=ri();od(a,l,d,m)}function od(a,l,d,m){var S={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(om(a))t1(l,S);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var P=l.lastRenderedState,U=b(P,d);if(S.hasEagerState=!0,S.eagerState=U,Xr(U,P))return Bp(a,l,S,0),Rt===null&&Vp(),!1}catch{}finally{}if(d=D0(a,l,S,m),d!==null)return Ur(d,a,m),n1(d,l,m),!0}return!1}function y_(a,l,d,m){if(m={lane:2,revertLane:W_(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},om(a)){if(l)throw Error(r(479))}else l=D0(a,d,m,2),l!==null&&Ur(l,a,2)}function om(a){var l=a.alternate;return a===$e||l!==null&&l===$e}function t1(a,l){Ju=Qp=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function n1(a,l,d){if((d&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,Cf(a,d)}}var ad={readContext:er,use:tm,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn};ad.useEffectEvent=rn;var r1={readContext:er,use:tm,useCallback:function(a,l){return wr().memoizedState=[a,l===void 0?null:l],a},useContext:er,useEffect:FI,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,rm(4194308,4,GI.bind(null,l,a),d)},useLayoutEffect:function(a,l){return rm(4194308,4,a,l)},useInsertionEffect:function(a,l){rm(4,2,a,l)},useMemo:function(a,l){var d=wr();l=l===void 0?null:l;var m=a();if(Nl){Bn(!0);try{a()}finally{Bn(!1)}}return d.memoizedState=[m,l],m},useReducer:function(a,l,d){var m=wr();if(d!==void 0){var S=d(l);if(Nl){Bn(!0);try{d(l)}finally{Bn(!1)}}}else S=l;return m.memoizedState=m.baseState=S,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:S},m.queue=a,a=a.dispatch=AH.bind(null,$e,a),[m.memoizedState,a]},useRef:function(a){var l=wr();return a={current:a},l.memoizedState=a},useState:function(a){a=c_(a);var l=a.queue,d=e1.bind(null,$e,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:h_,useDeferredValue:function(a,l){var d=wr();return p_(d,a,l)},useTransition:function(){var a=c_(!1);return a=WI.bind(null,$e,a.queue,!0,!1),wr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var m=$e,S=wr();if(st){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Rt===null)throw Error(r(349));(tt&127)!==0||wI(m,l,d)}S.memoizedState=d;var b={value:d,getSnapshot:l};return S.queue=b,FI(xI.bind(null,m,b,a),[a]),m.flags|=2048,Qu(9,{destroy:void 0},AI.bind(null,m,b,d,l),null),d},useId:function(){var a=wr(),l=Rt.identifierPrefix;if(st){var d=ko,m=Do;d=(m&~(1<<32-at(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Zp++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=vH++,l="_"+l+"r_"+d.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:g_,useFormState:kI,useActionState:kI,useOptimistic:function(a){var l=wr();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=y_.bind(null,$e,!0,d),d.dispatch=l,[a,l]},useMemoCache:s_,useCacheRefresh:function(){return wr().memoizedState=wH.bind(null,$e)},useEffectEvent:function(a){var l=wr(),d={impl:a};return l.memoizedState=d,function(){if((gt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},v_={readContext:er,use:tm,useCallback:$I,useContext:er,useEffect:d_,useImperativeHandle:jI,useInsertionEffect:qI,useLayoutEffect:HI,useMemo:KI,useReducer:nm,useRef:BI,useState:function(){return nm(ma)},useDebugValue:h_,useDeferredValue:function(a,l){var d=cn();return YI(d,wt.memoizedState,a,l)},useTransition:function(){var a=nm(ma)[0],l=cn().memoizedState;return[typeof a=="boolean"?a:id(a),l]},useSyncExternalStore:TI,useId:QI,useHostTransitionStatus:g_,useFormState:LI,useActionState:LI,useOptimistic:function(a,l){var d=cn();return PI(d,wt,a,l)},useMemoCache:s_,useCacheRefresh:ZI};v_.useEffectEvent=zI;var i1={readContext:er,use:tm,useCallback:$I,useContext:er,useEffect:d_,useImperativeHandle:jI,useInsertionEffect:qI,useLayoutEffect:HI,useMemo:KI,useReducer:u_,useRef:BI,useState:function(){return u_(ma)},useDebugValue:h_,useDeferredValue:function(a,l){var d=cn();return wt===null?p_(d,a,l):YI(d,wt.memoizedState,a,l)},useTransition:function(){var a=u_(ma)[0],l=cn().memoizedState;return[typeof a=="boolean"?a:id(a),l]},useSyncExternalStore:TI,useId:QI,useHostTransitionStatus:g_,useFormState:VI,useActionState:VI,useOptimistic:function(a,l){var d=cn();return wt!==null?PI(d,wt,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:s_,useCacheRefresh:ZI};i1.useEffectEvent=zI;function __(a,l,d,m){l=a.memoizedState,d=d(m,l),d=d==null?l:p({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var E_={enqueueSetState:function(a,l,d){a=a._reactInternals;var m=ri(),S=ys(m);S.payload=l,d!=null&&(S.callback=d),l=vs(a,S,m),l!==null&&(Ur(l,a,m),ed(l,a,m))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var m=ri(),S=ys(m);S.tag=1,S.payload=l,d!=null&&(S.callback=d),l=vs(a,S,m),l!==null&&(Ur(l,a,m),ed(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=ri(),m=ys(d);m.tag=2,l!=null&&(m.callback=l),l=vs(a,m,d),l!==null&&(Ur(l,a,d),ed(l,a,d))}};function o1(a,l,d,m,S,b,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,b,P):l.prototype&&l.prototype.isPureReactComponent?!$f(d,m)||!$f(S,b):!0}function a1(a,l,d,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==a&&E_.enqueueReplaceState(l,l.state,null)}function Ol(a,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(a=a.defaultProps){d===l&&(d=p({},d));for(var S in a)d[S]===void 0&&(d[S]=a[S])}return d}function s1(a){Up(a)}function l1(a){console.error(a)}function u1(a){Up(a)}function am(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function c1(a,l,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function S_(a,l,d){return d=ys(d),d.tag=3,d.payload={element:null},d.callback=function(){am(a,l)},d}function f1(a){return a=ys(a),a.tag=3,a}function d1(a,l,d,m){var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var b=m.value;a.payload=function(){return S(b)},a.callback=function(){c1(l,d,m)}}var P=d.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){c1(l,d,m),typeof S!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var U=m.stack;this.componentDidCatch(m.value,{componentStack:U!==null?U:""})})}function xH(a,l,d,m,S){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&Gu(l,d,S,!0),d=Zr.current,d!==null){switch(d.tag){case 31:case 13:return Ei===null?vm():d.alternate===null&&on===0&&(on=3),d.flags&=-257,d.flags|=65536,d.lanes=S,m===Kp?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),$_(a,m,S)),!1;case 22:return d.flags|=65536,m===Kp?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),$_(a,m,S)),!1}throw Error(r(435,d.tag))}return $_(a,m,S),vm(),!1}if(st)return l=Zr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=S,m!==F0&&(a=Error(r(422),{cause:m}),Wf(gi(a,d)))):(m!==F0&&(l=Error(r(423),{cause:m}),Wf(gi(l,d))),a=a.current.alternate,a.flags|=65536,S&=-S,a.lanes|=S,m=gi(m,d),S=S_(a.stateNode,m,S),X0(a,S),on!==4&&(on=2)),!1;var b=Error(r(520),{cause:m});if(b=gi(b,d),pd===null?pd=[b]:pd.push(b),on!==4&&(on=2),l===null)return!0;m=gi(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=S&-S,d.lanes|=a,a=S_(d.stateNode,m,a),X0(d,a),!1;case 1:if(l=d.type,b=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ws===null||!ws.has(b))))return d.flags|=65536,S&=-S,d.lanes|=S,S=f1(S),d1(S,a,d,m),X0(d,S),!1}d=d.return}while(d!==null);return!1}var b_=Error(r(461)),Tn=!1;function tr(a,l,d,m){l.child=a===null?gI(l,null,d,m):Rl(l,a.child,d,m)}function h1(a,l,d,m,S){d=d.render;var b=l.ref;if("ref"in m){var P={};for(var U in m)U!=="ref"&&(P[U]=m[U])}else P=m;return xl(l),m=r_(a,l,d,P,b,S),U=i_(),a!==null&&!Tn?(o_(a,l,S),ga(a,l,S)):(st&&U&&V0(l),l.flags|=1,tr(a,l,m,S),l.child)}function p1(a,l,d,m,S){if(a===null){var b=d.type;return typeof b=="function"&&!k0(b)&&b.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=b,m1(a,l,b,m,S)):(a=zp(d.type,null,m,l,l.mode,S),a.ref=l.ref,a.return=l,l.child=a)}if(b=a.child,!R_(a,S)){var P=b.memoizedProps;if(d=d.compare,d=d!==null?d:$f,d(P,m)&&a.ref===l.ref)return ga(a,l,S)}return l.flags|=1,a=ca(b,m),a.ref=l.ref,a.return=l,l.child=a}function m1(a,l,d,m,S){if(a!==null){var b=a.memoizedProps;if($f(b,m)&&a.ref===l.ref)if(Tn=!1,l.pendingProps=m=b,R_(a,S))(a.flags&131072)!==0&&(Tn=!0);else return l.lanes=a.lanes,ga(a,l,S)}return T_(a,l,d,m,S)}function g1(a,l,d,m){var S=m.children,b=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(b=b!==null?b.baseLanes|d:d,a!==null){for(m=l.child=a.child,S=0;m!==null;)S=S|m.lanes|m.childLanes,m=m.sibling;m=S&~b}else m=0,l.child=null;return y1(a,l,b,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&jp(l,b!==null?b.cachePool:null),b!==null?_I(l,b):Z0(),EI(l);else return m=l.lanes=536870912,y1(a,l,b!==null?b.baseLanes|d:d,d,m)}else b!==null?(jp(l,b.cachePool),_I(l,b),Es(),l.memoizedState=null):(a!==null&&jp(l,null),Z0(),Es());return tr(a,l,S,d),l.child}function sd(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function y1(a,l,d,m,S){var b=K0();return b=b===null?null:{parent:Sn._currentValue,pool:b},l.memoizedState={baseLanes:d,cachePool:b},a!==null&&jp(l,null),Z0(),EI(l),a!==null&&Gu(a,l,m,!0),l.childLanes=S,null}function sm(a,l){return l=um({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function v1(a,l,d){return Rl(l,a.child,null,d),a=sm(l,l.pendingProps),a.flags|=2,ei(l),l.memoizedState=null,a}function CH(a,l,d){var m=l.pendingProps,S=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(st){if(m.mode==="hidden")return a=sm(l,m),l.lanes=536870912,sd(null,a);if(t_(l),(a=Ut)?(a=RP(a,_i),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ds!==null?{id:Do,overflow:ko}:null,retryLane:536870912,hydrationErrors:null},d=tI(a),d.return=l,l.child=d,Zn=l,Ut=null)):a=null,a===null)throw ps(l);return l.lanes=536870912,null}return sm(l,m)}var b=a.memoizedState;if(b!==null){var P=b.dehydrated;if(t_(l),S)if(l.flags&256)l.flags&=-257,l=v1(a,l,d);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(Tn||Gu(a,l,d,!1),S=(d&a.childLanes)!==0,Tn||S){if(m=Rt,m!==null&&(P=If(m,d),P!==0&&P!==b.retryLane))throw b.retryLane=P,bl(a,P),Ur(m,a,P),b_;vm(),l=v1(a,l,d)}else a=b.treeContext,Ut=Si(P.nextSibling),Zn=l,st=!0,hs=null,_i=!1,a!==null&&iI(l,a),l=sm(l,m),l.flags|=4096;return l}return a=ca(a.child,{mode:m.mode,children:m.children}),a.ref=l.ref,l.child=a,a.return=l,a}function lm(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function T_(a,l,d,m,S){return xl(l),d=r_(a,l,d,m,void 0,S),m=i_(),a!==null&&!Tn?(o_(a,l,S),ga(a,l,S)):(st&&m&&V0(l),l.flags|=1,tr(a,l,d,S),l.child)}function _1(a,l,d,m,S,b){return xl(l),l.updateQueue=null,d=bI(l,m,d,S),SI(a),m=i_(),a!==null&&!Tn?(o_(a,l,b),ga(a,l,b)):(st&&m&&V0(l),l.flags|=1,tr(a,l,d,b),l.child)}function E1(a,l,d,m,S){if(xl(l),l.stateNode===null){var b=Fu,P=d.contextType;typeof P=="object"&&P!==null&&(b=er(P)),b=new d(m,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=E_,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=m,b.state=l.memoizedState,b.refs={},W0(l),P=d.contextType,b.context=typeof P=="object"&&P!==null?er(P):Fu,b.state=l.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(__(l,d,P,m),b.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(P=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),P!==b.state&&E_.enqueueReplaceState(b,b.state,null),nd(l,m,b,S),td(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){b=l.stateNode;var U=l.memoizedProps,W=Ol(d,U);b.props=W;var ne=b.context,de=d.contextType;P=Fu,typeof de=="object"&&de!==null&&(P=er(de));var me=d.getDerivedStateFromProps;de=typeof me=="function"||typeof b.getSnapshotBeforeUpdate=="function",U=l.pendingProps!==U,de||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(U||ne!==P)&&a1(l,b,m,P),gs=!1;var ie=l.memoizedState;b.state=ie,nd(l,m,b,S),td(),ne=l.memoizedState,U||ie!==ne||gs?(typeof me=="function"&&(__(l,d,me,m),ne=l.memoizedState),(W=gs||o1(l,d,W,m,ie,ne,P))?(de||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ne),b.props=m,b.state=ne,b.context=P,m=W):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{b=l.stateNode,J0(a,l),P=l.memoizedProps,de=Ol(d,P),b.props=de,me=l.pendingProps,ie=b.context,ne=d.contextType,W=Fu,typeof ne=="object"&&ne!==null&&(W=er(ne)),U=d.getDerivedStateFromProps,(ne=typeof U=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P!==me||ie!==W)&&a1(l,b,m,W),gs=!1,ie=l.memoizedState,b.state=ie,nd(l,m,b,S),td();var ae=l.memoizedState;P!==me||ie!==ae||gs||a!==null&&a.dependencies!==null&&Hp(a.dependencies)?(typeof U=="function"&&(__(l,d,U,m),ae=l.memoizedState),(de=gs||o1(l,d,de,m,ie,ae,W)||a!==null&&a.dependencies!==null&&Hp(a.dependencies))?(ne||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,ae,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,ae,W)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||P===a.memoizedProps&&ie===a.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&ie===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ae),b.props=m,b.state=ae,b.context=W,m=de):(typeof b.componentDidUpdate!="function"||P===a.memoizedProps&&ie===a.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&ie===a.memoizedState||(l.flags|=1024),m=!1)}return b=m,lm(a,l),m=(l.flags&128)!==0,b||m?(b=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,a!==null&&m?(l.child=Rl(l,a.child,null,S),l.child=Rl(l,null,d,S)):tr(a,l,d,S),l.memoizedState=b.state,a=l.child):a=ga(a,l,S),a}function S1(a,l,d,m){return wl(),l.flags|=256,tr(a,l,d,m),l.child}var w_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function A_(a){return{baseLanes:a,cachePool:cI()}}function x_(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=ni),a}function b1(a,l,d){var m=l.pendingProps,S=!1,b=(l.flags&128)!==0,P;if((P=b)||(P=a!==null&&a.memoizedState===null?!1:(un.current&2)!==0),P&&(S=!0,l.flags&=-129),P=(l.flags&32)!==0,l.flags&=-33,a===null){if(st){if(S?_s(l):Es(),(a=Ut)?(a=RP(a,_i),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ds!==null?{id:Do,overflow:ko}:null,retryLane:536870912,hydrationErrors:null},d=tI(a),d.return=l,l.child=d,Zn=l,Ut=null)):a=null,a===null)throw ps(l);return lE(a)?l.lanes=32:l.lanes=536870912,null}var U=m.children;return m=m.fallback,S?(Es(),S=l.mode,U=um({mode:"hidden",children:U},S),m=Tl(m,S,d,null),U.return=l,m.return=l,U.sibling=m,l.child=U,m=l.child,m.memoizedState=A_(d),m.childLanes=x_(a,P,d),l.memoizedState=w_,sd(null,m)):(_s(l),C_(l,U))}var W=a.memoizedState;if(W!==null&&(U=W.dehydrated,U!==null)){if(b)l.flags&256?(_s(l),l.flags&=-257,l=I_(a,l,d)):l.memoizedState!==null?(Es(),l.child=a.child,l.flags|=128,l=null):(Es(),U=m.fallback,S=l.mode,m=um({mode:"visible",children:m.children},S),U=Tl(U,S,d,null),U.flags|=2,m.return=l,U.return=l,m.sibling=U,l.child=m,Rl(l,a.child,null,d),m=l.child,m.memoizedState=A_(d),m.childLanes=x_(a,P,d),l.memoizedState=w_,l=sd(null,m));else if(_s(l),lE(U)){if(P=U.nextSibling&&U.nextSibling.dataset,P)var ne=P.dgst;P=ne,m=Error(r(419)),m.stack="",m.digest=P,Wf({value:m,source:null,stack:null}),l=I_(a,l,d)}else if(Tn||Gu(a,l,d,!1),P=(d&a.childLanes)!==0,Tn||P){if(P=Rt,P!==null&&(m=If(P,d),m!==0&&m!==W.retryLane))throw W.retryLane=m,bl(a,m),Ur(P,a,m),b_;sE(U)||vm(),l=I_(a,l,d)}else sE(U)?(l.flags|=192,l.child=a.child,l=null):(a=W.treeContext,Ut=Si(U.nextSibling),Zn=l,st=!0,hs=null,_i=!1,a!==null&&iI(l,a),l=C_(l,m.children),l.flags|=4096);return l}return S?(Es(),U=m.fallback,S=l.mode,W=a.child,ne=W.sibling,m=ca(W,{mode:"hidden",children:m.children}),m.subtreeFlags=W.subtreeFlags&65011712,ne!==null?U=ca(ne,U):(U=Tl(U,S,d,null),U.flags|=2),U.return=l,m.return=l,m.sibling=U,l.child=m,sd(null,m),m=l.child,U=a.child.memoizedState,U===null?U=A_(d):(S=U.cachePool,S!==null?(W=Sn._currentValue,S=S.parent!==W?{parent:W,pool:W}:S):S=cI(),U={baseLanes:U.baseLanes|d,cachePool:S}),m.memoizedState=U,m.childLanes=x_(a,P,d),l.memoizedState=w_,sd(a.child,m)):(_s(l),d=a.child,a=d.sibling,d=ca(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,a!==null&&(P=l.deletions,P===null?(l.deletions=[a],l.flags|=16):P.push(a)),l.child=d,l.memoizedState=null,d)}function C_(a,l){return l=um({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function um(a,l){return a=Qr(22,a,null,l),a.lanes=0,a}function I_(a,l,d){return Rl(l,a.child,null,d),a=C_(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function T1(a,l,d){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),H0(a.return,l,d)}function P_(a,l,d,m,S,b){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:S,treeForkCount:b}:(P.isBackwards=l,P.rendering=null,P.renderingStartTime=0,P.last=m,P.tail=d,P.tailMode=S,P.treeForkCount=b)}function w1(a,l,d){var m=l.pendingProps,S=m.revealOrder,b=m.tail;m=m.children;var P=un.current,U=(P&2)!==0;if(U?(P=P&1|2,l.flags|=128):P&=1,j(un,P),tr(a,l,m,d),m=st?Yf:0,!U&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&T1(a,d,l);else if(a.tag===19)T1(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(S){case"forwards":for(d=l.child,S=null;d!==null;)a=d.alternate,a!==null&&Xp(a)===null&&(S=d),d=d.sibling;d=S,d===null?(S=l.child,l.child=null):(S=d.sibling,d.sibling=null),P_(l,!1,S,d,b,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,S=l.child,l.child=null;S!==null;){if(a=S.alternate,a!==null&&Xp(a)===null){l.child=S;break}a=S.sibling,S.sibling=d,d=S,S=a}P_(l,!0,d,null,b,m);break;case"together":P_(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function ga(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Ts|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(Gu(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=ca(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=ca(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function R_(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Hp(a)))}function IH(a,l,d){switch(l.tag){case 3:ut(l,l.stateNode.containerInfo),ms(l,Sn,a.memoizedState.cache),wl();break;case 27:case 5:Ue(l);break;case 4:ut(l,l.stateNode.containerInfo);break;case 10:ms(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,t_(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(_s(l),l.flags|=128,null):(d&l.child.childLanes)!==0?b1(a,l,d):(_s(l),a=ga(a,l,d),a!==null?a.sibling:null);_s(l);break;case 19:var S=(a.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(Gu(a,l,d,!1),m=(d&l.childLanes)!==0),S){if(m)return w1(a,l,d);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),j(un,un.current),m)break;return null;case 22:return l.lanes=0,g1(a,l,d,l.pendingProps);case 24:ms(l,Sn,a.memoizedState.cache)}return ga(a,l,d)}function A1(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)Tn=!0;else{if(!R_(a,d)&&(l.flags&128)===0)return Tn=!1,IH(a,l,d);Tn=(a.flags&131072)!==0}else Tn=!1,st&&(l.flags&1048576)!==0&&rI(l,Yf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(a=Il(l.elementType),l.type=a,typeof a=="function")k0(a)?(m=Ol(a,m),l.tag=1,l=E1(null,l,a,m,d)):(l.tag=0,l=T_(null,l,a,m,d));else{if(a!=null){var S=a.$$typeof;if(S===z){l.tag=11,l=h1(null,l,a,m,d);break e}else if(S===N){l.tag=14,l=p1(null,l,a,m,d);break e}}throw l=ue(a)||a,Error(r(306,l,""))}}return l;case 0:return T_(a,l,l.type,l.pendingProps,d);case 1:return m=l.type,S=Ol(m,l.pendingProps),E1(a,l,m,S,d);case 3:e:{if(ut(l,l.stateNode.containerInfo),a===null)throw Error(r(387));m=l.pendingProps;var b=l.memoizedState;S=b.element,J0(a,l),nd(l,m,null,d);var P=l.memoizedState;if(m=P.cache,ms(l,Sn,m),m!==b.cache&&G0(l,[Sn],d,!0),td(),m=P.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:P.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=S1(a,l,m,d);break e}else if(m!==S){S=gi(Error(r(424)),l),Wf(S),l=S1(a,l,m,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ut=Si(a.firstChild),Zn=l,st=!0,hs=null,_i=!0,d=gI(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(wl(),m===S){l=ga(a,l,d);break e}tr(a,l,m,d)}l=l.child}return l;case 26:return lm(a,l),a===null?(d=LP(l.type,null,l.pendingProps,null))?l.memoizedState=d:st||(d=l.type,a=l.pendingProps,m=Am(xe.current).createElement(d),m[vn]=l,m[Fn]=a,nr(m,d,a),_n(m),l.stateNode=m):l.memoizedState=LP(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Ue(l),a===null&&st&&(m=l.stateNode=MP(l.type,l.pendingProps,xe.current),Zn=l,_i=!0,S=Ut,Is(l.type)?(uE=S,Ut=Si(m.firstChild)):Ut=S),tr(a,l,l.pendingProps.children,d),lm(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&st&&((S=m=Ut)&&(m=i9(m,l.type,l.pendingProps,_i),m!==null?(l.stateNode=m,Zn=l,Ut=Si(m.firstChild),_i=!1,S=!0):S=!1),S||ps(l)),Ue(l),S=l.type,b=l.pendingProps,P=a!==null?a.memoizedProps:null,m=b.children,iE(S,b)?m=null:P!==null&&iE(S,P)&&(l.flags|=32),l.memoizedState!==null&&(S=r_(a,l,_H,null,null,d),bd._currentValue=S),lm(a,l),tr(a,l,m,d),l.child;case 6:return a===null&&st&&((a=d=Ut)&&(d=o9(d,l.pendingProps,_i),d!==null?(l.stateNode=d,Zn=l,Ut=null,a=!0):a=!1),a||ps(l)),null;case 13:return b1(a,l,d);case 4:return ut(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=Rl(l,null,m,d):tr(a,l,m,d),l.child;case 11:return h1(a,l,l.type,l.pendingProps,d);case 7:return tr(a,l,l.pendingProps,d),l.child;case 8:return tr(a,l,l.pendingProps.children,d),l.child;case 12:return tr(a,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,ms(l,l.type,m.value),tr(a,l,m.children,d),l.child;case 9:return S=l.type._context,m=l.pendingProps.children,xl(l),S=er(S),m=m(S),l.flags|=1,tr(a,l,m,d),l.child;case 14:return p1(a,l,l.type,l.pendingProps,d);case 15:return m1(a,l,l.type,l.pendingProps,d);case 19:return w1(a,l,d);case 31:return CH(a,l,d);case 22:return g1(a,l,d,l.pendingProps);case 24:return xl(l),m=er(Sn),a===null?(S=K0(),S===null&&(S=Rt,b=j0(),S.pooledCache=b,b.refCount++,b!==null&&(S.pooledCacheLanes|=d),S=b),l.memoizedState={parent:m,cache:S},W0(l),ms(l,Sn,S)):((a.lanes&d)!==0&&(J0(a,l),nd(l,null,null,d),td()),S=a.memoizedState,b=l.memoizedState,S.parent!==m?(S={parent:m,cache:m},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),ms(l,Sn,m)):(m=b.cache,ms(l,Sn,m),m!==S.cache&&G0(l,[Sn],d,!0))),tr(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ya(a){a.flags|=4}function N_(a,l,d,m,S){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(S&335544128)===S)if(a.stateNode.complete)a.flags|=8192;else if(Q1())a.flags|=8192;else throw Pl=Kp,Y0}else a.flags&=-16777217}function x1(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!zP(l))if(Q1())a.flags|=8192;else throw Pl=Kp,Y0}function cm(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?gp():536870912,a.lanes|=l,nc|=l)}function ld(a,l){if(!st)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Vt(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(l)for(var S=a.child;S!==null;)d|=S.lanes|S.childLanes,m|=S.subtreeFlags&65011712,m|=S.flags&65011712,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)d|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=m,a.childLanes=d,l}function PH(a,l,d){var m=l.pendingProps;switch(B0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(l),null;case 1:return Vt(l),null;case 3:return d=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),ha(Sn),fe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Hu(l)?ya(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,z0())),Vt(l),null;case 26:var S=l.type,b=l.memoizedState;return a===null?(ya(l),b!==null?(Vt(l),x1(l,b)):(Vt(l),N_(l,S,null,m,d))):b?b!==a.memoizedState?(ya(l),Vt(l),x1(l,b)):(Vt(l),l.flags&=-16777217):(a=a.memoizedProps,a!==m&&ya(l),Vt(l),N_(l,S,a,m,d)),null;case 27:if(He(l),d=xe.current,S=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&ya(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Vt(l),null}a=_e.current,Hu(l)?oI(l):(a=MP(S,m,d),l.stateNode=a,ya(l))}return Vt(l),null;case 5:if(He(l),S=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&ya(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Vt(l),null}if(b=_e.current,Hu(l))oI(l);else{var P=Am(xe.current);switch(b){case 1:b=P.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:b=P.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":b=P.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":b=P.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":b=P.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?P.createElement("select",{is:m.is}):P.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?P.createElement(S,{is:m.is}):P.createElement(S)}}b[vn]=l,b[Fn]=m;e:for(P=l.child;P!==null;){if(P.tag===5||P.tag===6)b.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===l)break e;for(;P.sibling===null;){if(P.return===null||P.return===l)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}l.stateNode=b;e:switch(nr(b,S,m),S){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ya(l)}}return Vt(l),N_(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,d),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&ya(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(a=xe.current,Hu(l)){if(a=l.stateNode,d=l.memoizedProps,m=null,S=Zn,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}a[vn]=l,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||bP(a.nodeValue,d)),a||ps(l,!0)}else a=Am(a).createTextNode(m),a[vn]=l,l.stateNode=a}return Vt(l),null;case 31:if(d=l.memoizedState,a===null||a.memoizedState!==null){if(m=Hu(l),d!==null){if(a===null){if(!m)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[vn]=l}else wl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Vt(l),a=!1}else d=z0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return l.flags&256?(ei(l),l):(ei(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Vt(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(S=Hu(l),m!==null&&m.dehydrated!==null){if(a===null){if(!S)throw Error(r(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[vn]=l}else wl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Vt(l),S=!1}else S=z0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=S),S=!0;if(!S)return l.flags&256?(ei(l),l):(ei(l),null)}return ei(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,a=a!==null&&a.memoizedState!==null,d&&(m=l.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==S&&(m.flags|=2048)),d!==a&&d&&(l.child.flags|=8192),cm(l,l.updateQueue),Vt(l),null);case 4:return fe(),a===null&&Z_(l.stateNode.containerInfo),Vt(l),null;case 10:return ha(l.type),Vt(l),null;case 19:if(re(un),m=l.memoizedState,m===null)return Vt(l),null;if(S=(l.flags&128)!==0,b=m.rendering,b===null)if(S)ld(m,!1);else{if(on!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(b=Xp(a),b!==null){for(l.flags|=128,ld(m,!1),a=b.updateQueue,l.updateQueue=a,cm(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)eI(d,a),d=d.sibling;return j(un,un.current&1|2),st&&fa(l,m.treeForkCount),l.child}a=a.sibling}m.tail!==null&&Xn()>mm&&(l.flags|=128,S=!0,ld(m,!1),l.lanes=4194304)}else{if(!S)if(a=Xp(b),a!==null){if(l.flags|=128,S=!0,a=a.updateQueue,l.updateQueue=a,cm(l,a),ld(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!st)return Vt(l),null}else 2*Xn()-m.renderingStartTime>mm&&d!==536870912&&(l.flags|=128,S=!0,ld(m,!1),l.lanes=4194304);m.isBackwards?(b.sibling=l.child,l.child=b):(a=m.last,a!==null?a.sibling=b:l.child=b,m.last=b)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Xn(),a.sibling=null,d=un.current,j(un,S?d&1|2:d&1),st&&fa(l,m.treeForkCount),a):(Vt(l),null);case 22:case 23:return ei(l),e_(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(Vt(l),l.subtreeFlags&6&&(l.flags|=8192)):Vt(l),d=l.updateQueue,d!==null&&cm(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),a!==null&&re(Cl),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ha(Sn),Vt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function RH(a,l){switch(B0(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return ha(Sn),fe(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return He(l),null;case 31:if(l.memoizedState!==null){if(ei(l),l.alternate===null)throw Error(r(340));wl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(ei(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));wl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return re(un),null;case 4:return fe(),null;case 10:return ha(l.type),null;case 22:case 23:return ei(l),e_(),a!==null&&re(Cl),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return ha(Sn),null;case 25:return null;default:return null}}function C1(a,l){switch(B0(l),l.tag){case 3:ha(Sn),fe();break;case 26:case 27:case 5:He(l);break;case 4:fe();break;case 31:l.memoizedState!==null&&ei(l);break;case 13:ei(l);break;case 19:re(un);break;case 10:ha(l.type);break;case 22:case 23:ei(l),e_(),a!==null&&re(Cl);break;case 24:ha(Sn)}}function ud(a,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var S=m.next;d=S;do{if((d.tag&a)===a){m=void 0;var b=d.create,P=d.inst;m=b(),P.destroy=m}d=d.next}while(d!==S)}}catch(U){St(l,l.return,U)}}function Ss(a,l,d){try{var m=l.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var b=S.next;m=b;do{if((m.tag&a)===a){var P=m.inst,U=P.destroy;if(U!==void 0){P.destroy=void 0,S=l;var W=d,ne=U;try{ne()}catch(de){St(S,W,de)}}}m=m.next}while(m!==b)}}catch(de){St(l,l.return,de)}}function I1(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{vI(l,d)}catch(m){St(a,a.return,m)}}}function P1(a,l,d){d.props=Ol(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){St(a,l,m)}}function cd(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(S){St(a,l,S)}}function Lo(a,l){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(S){St(a,l,S)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(S){St(a,l,S)}else d.current=null}function R1(a){var l=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(S){St(a,a.return,S)}}function O_(a,l,d){try{var m=a.stateNode;QH(m,a.type,d,l),m[Fn]=l}catch(S){St(a,a.return,S)}}function N1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Is(a.type)||a.tag===4}function M_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||N1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Is(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function D_(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Bi));else if(m!==4&&(m===27&&Is(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(D_(a,l,d),a=a.sibling;a!==null;)D_(a,l,d),a=a.sibling}function fm(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(m!==4&&(m===27&&Is(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(fm(a,l,d),a=a.sibling;a!==null;)fm(a,l,d),a=a.sibling}function O1(a){var l=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,S=l.attributes;S.length;)l.removeAttributeNode(S[0]);nr(l,m,d),l[vn]=a,l[Fn]=d}catch(b){St(a,a.return,b)}}var va=!1,wn=!1,k_=!1,M1=typeof WeakSet=="function"?WeakSet:Set,qn=null;function NH(a,l){if(a=a.containerInfo,nE=Om,a=jC(a),I0(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var S=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var P=0,U=-1,W=-1,ne=0,de=0,me=a,ie=null;t:for(;;){for(var ae;me!==d||S!==0&&me.nodeType!==3||(U=P+S),me!==b||m!==0&&me.nodeType!==3||(W=P+m),me.nodeType===3&&(P+=me.nodeValue.length),(ae=me.firstChild)!==null;)ie=me,me=ae;for(;;){if(me===a)break t;if(ie===d&&++ne===S&&(U=P),ie===b&&++de===m&&(W=P),(ae=me.nextSibling)!==null)break;me=ie,ie=me.parentNode}me=ae}d=U===-1||W===-1?null:{start:U,end:W}}else d=null}d=d||{start:0,end:0}}else d=null;for(rE={focusedElem:a,selectionRange:d},Om=!1,qn=l;qn!==null;)if(l=qn,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,qn=a;else for(;qn!==null;){switch(l=qn,b=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)S=a[d],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,d=l,S=b.memoizedProps,b=b.memoizedState,m=d.stateNode;try{var Ie=Ol(d.type,S);a=m.getSnapshotBeforeUpdate(Ie,b),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ve){St(d,d.return,Ve)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)aE(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":aE(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,qn=a;break}qn=l.return}}function D1(a,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:Ea(a,d),m&4&&ud(5,d);break;case 1:if(Ea(a,d),m&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(P){St(d,d.return,P)}else{var S=Ol(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(S,l,a.__reactInternalSnapshotBeforeUpdate)}catch(P){St(d,d.return,P)}}m&64&&I1(d),m&512&&cd(d,d.return);break;case 3:if(Ea(a,d),m&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{vI(a,l)}catch(P){St(d,d.return,P)}}break;case 27:l===null&&m&4&&O1(d);case 26:case 5:Ea(a,d),l===null&&m&4&&R1(d),m&512&&cd(d,d.return);break;case 12:Ea(a,d);break;case 31:Ea(a,d),m&4&&U1(a,d);break;case 13:Ea(a,d),m&4&&V1(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=FH.bind(null,d),a9(a,d))));break;case 22:if(m=d.memoizedState!==null||va,!m){l=l!==null&&l.memoizedState!==null||wn,S=va;var b=wn;va=m,(wn=l)&&!b?Sa(a,d,(d.subtreeFlags&8772)!==0):Ea(a,d),va=S,wn=b}break;case 30:break;default:Ea(a,d)}}function k1(a){var l=a.alternate;l!==null&&(a.alternate=null,k1(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&xu(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var qt=null,Mr=!1;function _a(a,l,d){for(d=d.child;d!==null;)L1(a,l,d),d=d.sibling}function L1(a,l,d){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(sn,d)}catch{}switch(d.tag){case 26:wn||Lo(d,l),_a(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:wn||Lo(d,l);var m=qt,S=Mr;Is(d.type)&&(qt=d.stateNode,Mr=!1),_a(a,l,d),_d(d.stateNode),qt=m,Mr=S;break;case 5:wn||Lo(d,l);case 6:if(m=qt,S=Mr,qt=null,_a(a,l,d),qt=m,Mr=S,qt!==null)if(Mr)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(d.stateNode)}catch(b){St(d,l,b)}else try{qt.removeChild(d.stateNode)}catch(b){St(d,l,b)}break;case 18:qt!==null&&(Mr?(a=qt,IP(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),cc(a)):IP(qt,d.stateNode));break;case 4:m=qt,S=Mr,qt=d.stateNode.containerInfo,Mr=!0,_a(a,l,d),qt=m,Mr=S;break;case 0:case 11:case 14:case 15:Ss(2,d,l),wn||Ss(4,d,l),_a(a,l,d);break;case 1:wn||(Lo(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&P1(d,l,m)),_a(a,l,d);break;case 21:_a(a,l,d);break;case 22:wn=(m=wn)||d.memoizedState!==null,_a(a,l,d),wn=m;break;default:_a(a,l,d)}}function U1(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{cc(a)}catch(d){St(l,l.return,d)}}}function V1(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{cc(a)}catch(d){St(l,l.return,d)}}function OH(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new M1),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new M1),l;default:throw Error(r(435,a.tag))}}function dm(a,l){var d=OH(a);l.forEach(function(m){if(!d.has(m)){d.add(m);var S=zH.bind(null,a,m);m.then(S,S)}})}function Dr(a,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var S=d[m],b=a,P=l,U=P;e:for(;U!==null;){switch(U.tag){case 27:if(Is(U.type)){qt=U.stateNode,Mr=!1;break e}break;case 5:qt=U.stateNode,Mr=!1;break e;case 3:case 4:qt=U.stateNode.containerInfo,Mr=!0;break e}U=U.return}if(qt===null)throw Error(r(160));L1(b,P,S),qt=null,Mr=!1,b=S.alternate,b!==null&&(b.return=null),S.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)B1(l,a),l=l.sibling}var ji=null;function B1(a,l){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Dr(l,a),kr(a),m&4&&(Ss(3,a,a.return),ud(3,a),Ss(5,a,a.return));break;case 1:Dr(l,a),kr(a),m&512&&(wn||d===null||Lo(d,d.return)),m&64&&va&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var S=ji;if(Dr(l,a),kr(a),m&512&&(wn||d===null||Lo(d,d.return)),m&4){var b=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,S=S.ownerDocument||S;t:switch(m){case"title":b=S.getElementsByTagName("title")[0],(!b||b[bo]||b[vn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=S.createElement(m),S.head.insertBefore(b,S.querySelector("head > title"))),nr(b,m,d),b[vn]=a,_n(b),m=b;break e;case"link":var P=BP("link","href",S).get(m+(d.href||""));if(P){for(var U=0;U<P.length;U++)if(b=P[U],b.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&b.getAttribute("rel")===(d.rel==null?null:d.rel)&&b.getAttribute("title")===(d.title==null?null:d.title)&&b.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){P.splice(U,1);break t}}b=S.createElement(m),nr(b,m,d),S.head.appendChild(b);break;case"meta":if(P=BP("meta","content",S).get(m+(d.content||""))){for(U=0;U<P.length;U++)if(b=P[U],b.getAttribute("content")===(d.content==null?null:""+d.content)&&b.getAttribute("name")===(d.name==null?null:d.name)&&b.getAttribute("property")===(d.property==null?null:d.property)&&b.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&b.getAttribute("charset")===(d.charSet==null?null:d.charSet)){P.splice(U,1);break t}}b=S.createElement(m),nr(b,m,d),S.head.appendChild(b);break;default:throw Error(r(468,m))}b[vn]=a,_n(b),m=b}a.stateNode=m}else FP(S,a.type,a.stateNode);else a.stateNode=VP(S,m,a.memoizedProps);else b!==m?(b===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):b.count--,m===null?FP(S,a.type,a.stateNode):VP(S,m,a.memoizedProps)):m===null&&a.stateNode!==null&&O_(a,a.memoizedProps,d.memoizedProps)}break;case 27:Dr(l,a),kr(a),m&512&&(wn||d===null||Lo(d,d.return)),d!==null&&m&4&&O_(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Dr(l,a),kr(a),m&512&&(wn||d===null||Lo(d,d.return)),a.flags&32){S=a.stateNode;try{Or(S,"")}catch(Ie){St(a,a.return,Ie)}}m&4&&a.stateNode!=null&&(S=a.memoizedProps,O_(a,S,d!==null?d.memoizedProps:S)),m&1024&&(k_=!0);break;case 6:if(Dr(l,a),kr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(Ie){St(a,a.return,Ie)}}break;case 3:if(Im=null,S=ji,ji=xm(l.containerInfo),Dr(l,a),ji=S,kr(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{cc(l.containerInfo)}catch(Ie){St(a,a.return,Ie)}k_&&(k_=!1,F1(a));break;case 4:m=ji,ji=xm(a.stateNode.containerInfo),Dr(l,a),kr(a),ji=m;break;case 12:Dr(l,a),kr(a);break;case 31:Dr(l,a),kr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,dm(a,m)));break;case 13:Dr(l,a),kr(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(pm=Xn()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,dm(a,m)));break;case 22:S=a.memoizedState!==null;var W=d!==null&&d.memoizedState!==null,ne=va,de=wn;if(va=ne||S,wn=de||W,Dr(l,a),wn=de,va=ne,kr(a),m&8192)e:for(l=a.stateNode,l._visibility=S?l._visibility&-2:l._visibility|1,S&&(d===null||W||va||wn||Ml(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){W=d=l;try{if(b=W.stateNode,S)P=b.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{U=W.stateNode;var me=W.memoizedProps.style,ie=me!=null&&me.hasOwnProperty("display")?me.display:null;U.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ie){St(W,W.return,Ie)}}}else if(l.tag===6){if(d===null){W=l;try{W.stateNode.nodeValue=S?"":W.memoizedProps}catch(Ie){St(W,W.return,Ie)}}}else if(l.tag===18){if(d===null){W=l;try{var ae=W.stateNode;S?PP(ae,!0):PP(W.stateNode,!1)}catch(Ie){St(W,W.return,Ie)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,dm(a,d))));break;case 19:Dr(l,a),kr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,dm(a,m)));break;case 30:break;case 21:break;default:Dr(l,a),kr(a)}}function kr(a){var l=a.flags;if(l&2){try{for(var d,m=a.return;m!==null;){if(N1(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var S=d.stateNode,b=M_(a);fm(a,b,S);break;case 5:var P=d.stateNode;d.flags&32&&(Or(P,""),d.flags&=-33);var U=M_(a);fm(a,U,P);break;case 3:case 4:var W=d.stateNode.containerInfo,ne=M_(a);D_(a,ne,W);break;default:throw Error(r(161))}}catch(de){St(a,a.return,de)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function F1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;F1(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Ea(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)D1(a,l.alternate,l),l=l.sibling}function Ml(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Ss(4,l,l.return),Ml(l);break;case 1:Lo(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&P1(l,l.return,d),Ml(l);break;case 27:_d(l.stateNode);case 26:case 5:Lo(l,l.return),Ml(l);break;case 22:l.memoizedState===null&&Ml(l);break;case 30:Ml(l);break;default:Ml(l)}a=a.sibling}}function Sa(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,S=a,b=l,P=b.flags;switch(b.tag){case 0:case 11:case 15:Sa(S,b,d),ud(4,b);break;case 1:if(Sa(S,b,d),m=b,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ne){St(m,m.return,ne)}if(m=b,S=m.updateQueue,S!==null){var U=m.stateNode;try{var W=S.shared.hiddenCallbacks;if(W!==null)for(S.shared.hiddenCallbacks=null,S=0;S<W.length;S++)yI(W[S],U)}catch(ne){St(m,m.return,ne)}}d&&P&64&&I1(b),cd(b,b.return);break;case 27:O1(b);case 26:case 5:Sa(S,b,d),d&&m===null&&P&4&&R1(b),cd(b,b.return);break;case 12:Sa(S,b,d);break;case 31:Sa(S,b,d),d&&P&4&&U1(S,b);break;case 13:Sa(S,b,d),d&&P&4&&V1(S,b);break;case 22:b.memoizedState===null&&Sa(S,b,d),cd(b,b.return);break;case 30:break;default:Sa(S,b,d)}l=l.sibling}}function L_(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Jf(d))}function U_(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Jf(a))}function $i(a,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)z1(a,l,d,m),l=l.sibling}function z1(a,l,d,m){var S=l.flags;switch(l.tag){case 0:case 11:case 15:$i(a,l,d,m),S&2048&&ud(9,l);break;case 1:$i(a,l,d,m);break;case 3:$i(a,l,d,m),S&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Jf(a)));break;case 12:if(S&2048){$i(a,l,d,m),a=l.stateNode;try{var b=l.memoizedProps,P=b.id,U=b.onPostCommit;typeof U=="function"&&U(P,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(W){St(l,l.return,W)}}else $i(a,l,d,m);break;case 31:$i(a,l,d,m);break;case 13:$i(a,l,d,m);break;case 23:break;case 22:b=l.stateNode,P=l.alternate,l.memoizedState!==null?b._visibility&2?$i(a,l,d,m):fd(a,l):b._visibility&2?$i(a,l,d,m):(b._visibility|=2,Zu(a,l,d,m,(l.subtreeFlags&10256)!==0||!1)),S&2048&&L_(P,l);break;case 24:$i(a,l,d,m),S&2048&&U_(l.alternate,l);break;default:$i(a,l,d,m)}}function Zu(a,l,d,m,S){for(S=S&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var b=a,P=l,U=d,W=m,ne=P.flags;switch(P.tag){case 0:case 11:case 15:Zu(b,P,U,W,S),ud(8,P);break;case 23:break;case 22:var de=P.stateNode;P.memoizedState!==null?de._visibility&2?Zu(b,P,U,W,S):fd(b,P):(de._visibility|=2,Zu(b,P,U,W,S)),S&&ne&2048&&L_(P.alternate,P);break;case 24:Zu(b,P,U,W,S),S&&ne&2048&&U_(P.alternate,P);break;default:Zu(b,P,U,W,S)}l=l.sibling}}function fd(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,m=l,S=m.flags;switch(m.tag){case 22:fd(d,m),S&2048&&L_(m.alternate,m);break;case 24:fd(d,m),S&2048&&U_(m.alternate,m);break;default:fd(d,m)}l=l.sibling}}var dd=8192;function ec(a,l,d){if(a.subtreeFlags&dd)for(a=a.child;a!==null;)q1(a,l,d),a=a.sibling}function q1(a,l,d){switch(a.tag){case 26:ec(a,l,d),a.flags&dd&&a.memoizedState!==null&&v9(d,ji,a.memoizedState,a.memoizedProps);break;case 5:ec(a,l,d);break;case 3:case 4:var m=ji;ji=xm(a.stateNode.containerInfo),ec(a,l,d),ji=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=dd,dd=16777216,ec(a,l,d),dd=m):ec(a,l,d));break;default:ec(a,l,d)}}function H1(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function hd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];qn=m,j1(m,a)}H1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)G1(a),a=a.sibling}function G1(a){switch(a.tag){case 0:case 11:case 15:hd(a),a.flags&2048&&Ss(9,a,a.return);break;case 3:hd(a);break;case 12:hd(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,hm(a)):hd(a);break;default:hd(a)}}function hm(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];qn=m,j1(m,a)}H1(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Ss(8,l,l.return),hm(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,hm(l));break;default:hm(l)}a=a.sibling}}function j1(a,l){for(;qn!==null;){var d=qn;switch(d.tag){case 0:case 11:case 15:Ss(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Jf(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,qn=m;else e:for(d=a;qn!==null;){m=qn;var S=m.sibling,b=m.return;if(k1(m),m===d){qn=null;break e}if(S!==null){S.return=b,qn=S;break e}qn=b}}}var MH={getCacheForType:function(a){var l=er(Sn),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d},cacheSignal:function(){return er(Sn).controller.signal}},DH=typeof WeakMap=="function"?WeakMap:Map,gt=0,Rt=null,Ze=null,tt=0,Et=0,ti=null,bs=!1,tc=!1,V_=!1,ba=0,on=0,Ts=0,Dl=0,B_=0,ni=0,nc=0,pd=null,Lr=null,F_=!1,pm=0,$1=0,mm=1/0,gm=null,ws=null,On=0,As=null,rc=null,Ta=0,z_=0,q_=null,K1=null,md=0,H_=null;function ri(){return(gt&2)!==0&&tt!==0?tt&-tt:X.T!==null?W_():yp()}function Y1(){if(ni===0)if((tt&536870912)===0||st){var a=sl;sl<<=1,(sl&3932160)===0&&(sl=262144),ni=a}else ni=536870912;return a=Zr.current,a!==null&&(a.flags|=32),ni}function Ur(a,l,d){(a===Rt&&(Et===2||Et===9)||a.cancelPendingCommit!==null)&&(ic(a,0),xs(a,tt,ni,!1)),ll(a,d),((gt&2)===0||a!==Rt)&&(a===Rt&&((gt&2)===0&&(Dl|=d),on===4&&xs(a,tt,ni,!1)),Uo(a))}function W1(a,l,d){if((gt&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&a.expiredLanes)===0||Li(a,l),S=m?UH(a,l):j_(a,l,!0),b=m;do{if(S===0){tc&&!m&&xs(a,l,0,!1);break}else{if(d=a.current.alternate,b&&!kH(d)){S=j_(a,l,!1),b=!1;continue}if(S===2){if(b=l,a.errorRecoveryDisabledLanes&b)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){l=P;e:{var U=a;S=pd;var W=U.current.memoizedState.isDehydrated;if(W&&(ic(U,P).flags|=256),P=j_(U,P,!1),P!==2){if(V_&&!W){U.errorRecoveryDisabledLanes|=b,Dl|=b,S=4;break e}b=Lr,Lr=S,b!==null&&(Lr===null?Lr=b:Lr.push.apply(Lr,b))}S=P}if(b=!1,S!==2)continue}}if(S===1){ic(a,0),xs(a,l,0,!0);break}e:{switch(m=a,b=S,b){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:xs(m,l,ni,!bs);break e;case 2:Lr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(S=pm+300-Xn(),10<S)){if(xs(m,l,ni,!bs),_o(m,0,!0)!==0)break e;Ta=l,m.timeoutHandle=xP(J1.bind(null,m,d,Lr,gm,F_,l,ni,Dl,nc,bs,b,"Throttled",-0,0),S);break e}J1(m,d,Lr,gm,F_,l,ni,Dl,nc,bs,b,null,-0,0)}}break}while(!0);Uo(a)}function J1(a,l,d,m,S,b,P,U,W,ne,de,me,ie,ae){if(a.timeoutHandle=-1,me=l.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},q1(l,b,me);var Ie=(b&62914560)===b?pm-Xn():(b&4194048)===b?$1-Xn():0;if(Ie=_9(me,Ie),Ie!==null){Ta=b,a.cancelPendingCommit=Ie(iP.bind(null,a,l,b,d,m,S,P,U,W,de,me,null,ie,ae)),xs(a,b,P,!ne);return}}iP(a,l,b,d,m,S,P,U,W)}function kH(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var S=d[m],b=S.getSnapshot;S=S.value;try{if(!Xr(b(),S))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function xs(a,l,d,m){l&=~B_,l&=~Dl,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var S=l;0<S;){var b=31-at(S),P=1<<b;m[b]=-1,S&=~P}d!==0&&ul(a,d,l)}function ym(){return(gt&6)===0?(gd(0),!1):!0}function G_(){if(Ze!==null){if(Et===0)var a=Ze.return;else a=Ze,da=Al=null,a_(a),Yu=null,Qf=0,a=Ze;for(;a!==null;)C1(a.alternate,a),a=a.return;Ze=null}}function ic(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,t9(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Ta=0,G_(),Rt=a,Ze=d=ca(a.current,null),tt=l,Et=0,ti=null,bs=!1,tc=Li(a,l),V_=!1,nc=ni=B_=Dl=Ts=on=0,Lr=pd=null,F_=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var S=31-at(m),b=1<<S;l|=a[S],m&=~b}return ba=l,Vp(),d}function X1(a,l){$e=null,X.H=ad,l===Ku||l===$p?(l=hI(),Et=3):l===Y0?(l=hI(),Et=4):Et=l===b_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ti=l,Ze===null&&(on=1,am(a,gi(l,a.current)))}function Q1(){var a=Zr.current;return a===null?!0:(tt&4194048)===tt?Ei===null:(tt&62914560)===tt||(tt&536870912)!==0?a===Ei:!1}function Z1(){var a=X.H;return X.H=ad,a===null?ad:a}function eP(){var a=X.A;return X.A=MH,a}function vm(){on=4,bs||(tt&4194048)!==tt&&Zr.current!==null||(tc=!0),(Ts&134217727)===0&&(Dl&134217727)===0||Rt===null||xs(Rt,tt,ni,!1)}function j_(a,l,d){var m=gt;gt|=2;var S=Z1(),b=eP();(Rt!==a||tt!==l)&&(gm=null,ic(a,l)),l=!1;var P=on;e:do try{if(Et!==0&&Ze!==null){var U=Ze,W=ti;switch(Et){case 8:G_(),P=6;break e;case 3:case 2:case 9:case 6:Zr.current===null&&(l=!0);var ne=Et;if(Et=0,ti=null,oc(a,U,W,ne),d&&tc){P=0;break e}break;default:ne=Et,Et=0,ti=null,oc(a,U,W,ne)}}LH(),P=on;break}catch(de){X1(a,de)}while(!0);return l&&a.shellSuspendCounter++,da=Al=null,gt=m,X.H=S,X.A=b,Ze===null&&(Rt=null,tt=0,Vp()),P}function LH(){for(;Ze!==null;)tP(Ze)}function UH(a,l){var d=gt;gt|=2;var m=Z1(),S=eP();Rt!==a||tt!==l?(gm=null,mm=Xn()+500,ic(a,l)):tc=Li(a,l);e:do try{if(Et!==0&&Ze!==null){l=Ze;var b=ti;t:switch(Et){case 1:Et=0,ti=null,oc(a,l,b,1);break;case 2:case 9:if(fI(b)){Et=0,ti=null,nP(l);break}l=function(){Et!==2&&Et!==9||Rt!==a||(Et=7),Uo(a)},b.then(l,l);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:fI(b)?(Et=0,ti=null,nP(l)):(Et=0,ti=null,oc(a,l,b,7));break;case 5:var P=null;switch(Ze.tag){case 26:P=Ze.memoizedState;case 5:case 27:var U=Ze;if(P?zP(P):U.stateNode.complete){Et=0,ti=null;var W=U.sibling;if(W!==null)Ze=W;else{var ne=U.return;ne!==null?(Ze=ne,_m(ne)):Ze=null}break t}}Et=0,ti=null,oc(a,l,b,5);break;case 6:Et=0,ti=null,oc(a,l,b,6);break;case 8:G_(),on=6;break e;default:throw Error(r(462))}}VH();break}catch(de){X1(a,de)}while(!0);return da=Al=null,X.H=m,X.A=S,gt=d,Ze!==null?0:(Rt=null,tt=0,Vp(),on)}function VH(){for(;Ze!==null&&!xf();)tP(Ze)}function tP(a){var l=A1(a.alternate,a,ba);a.memoizedProps=a.pendingProps,l===null?_m(a):Ze=l}function nP(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=_1(d,l,l.pendingProps,l.type,void 0,tt);break;case 11:l=_1(d,l,l.pendingProps,l.type.render,l.ref,tt);break;case 5:a_(l);default:C1(d,l),l=Ze=eI(l,ba),l=A1(d,l,ba)}a.memoizedProps=a.pendingProps,l===null?_m(a):Ze=l}function oc(a,l,d,m){da=Al=null,a_(l),Yu=null,Qf=0;var S=l.return;try{if(xH(a,S,l,d,tt)){on=1,am(a,gi(d,a.current)),Ze=null;return}}catch(b){if(S!==null)throw Ze=S,b;on=1,am(a,gi(d,a.current)),Ze=null;return}l.flags&32768?(st||m===1?a=!0:tc||(tt&536870912)!==0?a=!1:(bs=a=!0,(m===2||m===9||m===3||m===6)&&(m=Zr.current,m!==null&&m.tag===13&&(m.flags|=16384))),rP(l,a)):_m(l)}function _m(a){var l=a;do{if((l.flags&32768)!==0){rP(l,bs);return}a=l.return;var d=PH(l.alternate,l,ba);if(d!==null){Ze=d;return}if(l=l.sibling,l!==null){Ze=l;return}Ze=l=a}while(l!==null);on===0&&(on=5)}function rP(a,l){do{var d=RH(a.alternate,a);if(d!==null){d.flags&=32767,Ze=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){Ze=a;return}Ze=a=d}while(a!==null);on=6,Ze=null}function iP(a,l,d,m,S,b,P,U,W){a.cancelPendingCommit=null;do Em();while(On!==0);if((gt&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(b=l.lanes|l.childLanes,b|=M0,w0(a,d,b,P,U,W),a===Rt&&(Ze=Rt=null,tt=0),rc=l,As=a,Ta=d,z_=b,q_=S,K1=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,qH(Le,function(){return uP(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=X.T,X.T=null,S=se.p,se.p=2,P=gt,gt|=4;try{NH(a,l,d)}finally{gt=P,se.p=S,X.T=m}}On=1,oP(),aP(),sP()}}function oP(){if(On===1){On=0;var a=As,l=rc,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=X.T,X.T=null;var m=se.p;se.p=2;var S=gt;gt|=4;try{B1(l,a);var b=rE,P=jC(a.containerInfo),U=b.focusedElem,W=b.selectionRange;if(P!==U&&U&&U.ownerDocument&&GC(U.ownerDocument.documentElement,U)){if(W!==null&&I0(U)){var ne=W.start,de=W.end;if(de===void 0&&(de=ne),"selectionStart"in U)U.selectionStart=ne,U.selectionEnd=Math.min(de,U.value.length);else{var me=U.ownerDocument||document,ie=me&&me.defaultView||window;if(ie.getSelection){var ae=ie.getSelection(),Ie=U.textContent.length,Ve=Math.min(W.start,Ie),xt=W.end===void 0?Ve:Math.min(W.end,Ie);!ae.extend&&Ve>xt&&(P=xt,xt=Ve,Ve=P);var Q=HC(U,Ve),J=HC(U,xt);if(Q&&J&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==J.node||ae.focusOffset!==J.offset)){var te=me.createRange();te.setStart(Q.node,Q.offset),ae.removeAllRanges(),Ve>xt?(ae.addRange(te),ae.extend(J.node,J.offset)):(te.setEnd(J.node,J.offset),ae.addRange(te))}}}}for(me=[],ae=U;ae=ae.parentNode;)ae.nodeType===1&&me.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<me.length;U++){var pe=me[U];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Om=!!nE,rE=nE=null}finally{gt=S,se.p=m,X.T=d}}a.current=l,On=2}}function aP(){if(On===2){On=0;var a=As,l=rc,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=X.T,X.T=null;var m=se.p;se.p=2;var S=gt;gt|=4;try{D1(a,l.alternate,l)}finally{gt=S,se.p=m,X.T=d}}On=3}}function sP(){if(On===4||On===3){On=0,wu();var a=As,l=rc,d=Ta,m=K1;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?On=5:(On=0,rc=As=null,lP(a,a.pendingLanes));var S=a.pendingLanes;if(S===0&&(ws=null),aa(d),l=l.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(sn,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=X.T,S=se.p,se.p=2,X.T=null;try{for(var b=a.onRecoverableError,P=0;P<m.length;P++){var U=m[P];b(U.value,{componentStack:U.stack})}}finally{X.T=l,se.p=S}}(Ta&3)!==0&&Em(),Uo(a),S=a.pendingLanes,(d&261930)!==0&&(S&42)!==0?a===H_?md++:(md=0,H_=a):md=0,gd(0)}}function lP(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Jf(l)))}function Em(){return oP(),aP(),sP(),uP()}function uP(){if(On!==5)return!1;var a=As,l=z_;z_=0;var d=aa(Ta),m=X.T,S=se.p;try{se.p=32>d?32:d,X.T=null,d=q_,q_=null;var b=As,P=Ta;if(On=0,rc=As=null,Ta=0,(gt&6)!==0)throw Error(r(331));var U=gt;if(gt|=4,G1(b.current),z1(b,b.current,P,d),gt=U,gd(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(sn,b)}catch{}return!0}finally{se.p=S,X.T=m,lP(a,l)}}function cP(a,l,d){l=gi(d,l),l=S_(a.stateNode,l,2),a=vs(a,l,2),a!==null&&(ll(a,2),Uo(a))}function St(a,l,d){if(a.tag===3)cP(a,a,d);else for(;l!==null;){if(l.tag===3){cP(l,a,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ws===null||!ws.has(m))){a=gi(d,a),d=f1(2),m=vs(l,d,2),m!==null&&(d1(d,m,l,a),ll(m,2),Uo(m));break}}l=l.return}}function $_(a,l,d){var m=a.pingCache;if(m===null){m=a.pingCache=new DH;var S=new Set;m.set(l,S)}else S=m.get(l),S===void 0&&(S=new Set,m.set(l,S));S.has(d)||(V_=!0,S.add(d),a=BH.bind(null,a,l,d),l.then(a,a))}function BH(a,l,d){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Rt===a&&(tt&d)===d&&(on===4||on===3&&(tt&62914560)===tt&&300>Xn()-pm?(gt&2)===0&&ic(a,0):B_|=d,nc===tt&&(nc=0)),Uo(a)}function fP(a,l){l===0&&(l=gp()),a=bl(a,l),a!==null&&(ll(a,l),Uo(a))}function FH(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),fP(a,d)}function zH(a,l){var d=0;switch(a.tag){case 31:case 13:var m=a.stateNode,S=a.memoizedState;S!==null&&(d=S.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),fP(a,d)}function qH(a,l){return nn(a,l)}var Sm=null,ac=null,K_=!1,bm=!1,Y_=!1,Cs=0;function Uo(a){a!==ac&&a.next===null&&(ac===null?Sm=ac=a:ac=ac.next=a),bm=!0,K_||(K_=!0,GH())}function gd(a,l){if(!Y_&&bm){Y_=!0;do for(var d=!1,m=Sm;m!==null;){if(a!==0){var S=m.pendingLanes;if(S===0)var b=0;else{var P=m.suspendedLanes,U=m.pingedLanes;b=(1<<31-at(42|a)+1)-1,b&=S&~(P&~U),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(d=!0,mP(m,b))}else b=tt,b=_o(m,m===Rt?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||Li(m,b)||(d=!0,mP(m,b));m=m.next}while(d);Y_=!1}}function HH(){dP()}function dP(){bm=K_=!1;var a=0;Cs!==0&&e9()&&(a=Cs);for(var l=Xn(),d=null,m=Sm;m!==null;){var S=m.next,b=hP(m,l);b===0?(m.next=null,d===null?Sm=S:d.next=S,S===null&&(ac=d)):(d=m,(a!==0||(b&3)!==0)&&(bm=!0)),m=S}On!==0&&On!==5||gd(a),Cs!==0&&(Cs=0)}function hP(a,l){for(var d=a.suspendedLanes,m=a.pingedLanes,S=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var P=31-at(b),U=1<<P,W=S[P];W===-1?((U&d)===0||(U&m)!==0)&&(S[P]=T0(U,l)):W<=l&&(a.expiredLanes|=U),b&=~U}if(l=Rt,d=tt,d=_o(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===l&&(Et===2||Et===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&go(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Li(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(m!==null&&go(m),aa(d)){case 2:case 8:d=be;break;case 32:d=Le;break;case 268435456:d=ct;break;default:d=Le}return m=pP.bind(null,a),d=nn(d,m),a.callbackPriority=l,a.callbackNode=d,l}return m!==null&&m!==null&&go(m),a.callbackPriority=2,a.callbackNode=null,2}function pP(a,l){if(On!==0&&On!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Em()&&a.callbackNode!==d)return null;var m=tt;return m=_o(a,a===Rt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(W1(a,m,l),hP(a,Xn()),a.callbackNode!=null&&a.callbackNode===d?pP.bind(null,a):null)}function mP(a,l){if(Em())return null;W1(a,l,!0)}function GH(){n9(function(){(gt&6)!==0?nn(he,HH):dP()})}function W_(){if(Cs===0){var a=ju;a===0&&(a=yo,yo<<=1,(yo&261888)===0&&(yo=256)),Cs=a}return Cs}function gP(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ru(""+a)}function yP(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function jH(a,l,d,m,S){if(l==="submit"&&d&&d.stateNode===S){var b=gP((S[Fn]||null).action),P=m.submitter;P&&(l=(l=P[Fn]||null)?gP(l.formAction):P.getAttribute("formAction"),l!==null&&(b=l,P=null));var U=new Ro("action","action",null,m,S);a.push({event:U,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Cs!==0){var W=P?yP(S,P):new FormData(S);m_(d,{pending:!0,data:W,method:S.method,action:b},null,W)}}else typeof b=="function"&&(U.preventDefault(),W=P?yP(S,P):new FormData(S),m_(d,{pending:!0,data:W,method:S.method,action:b},b,W))},currentTarget:S}]})}}for(var J_=0;J_<O0.length;J_++){var X_=O0[J_],$H=X_.toLowerCase(),KH=X_[0].toUpperCase()+X_.slice(1);Gi($H,"on"+KH)}Gi(YC,"onAnimationEnd"),Gi(WC,"onAnimationIteration"),Gi(JC,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(uH,"onTransitionRun"),Gi(cH,"onTransitionStart"),Gi(fH,"onTransitionCancel"),Gi(XC,"onTransitionEnd"),xo("onMouseEnter",["mouseout","mouseover"]),xo("onMouseLeave",["mouseout","mouseover"]),xo("onPointerEnter",["pointerout","pointerover"]),xo("onPointerLeave",["pointerout","pointerover"]),Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yd));function vP(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],S=m.event;m=m.listeners;e:{var b=void 0;if(l)for(var P=m.length-1;0<=P;P--){var U=m[P],W=U.instance,ne=U.currentTarget;if(U=U.listener,W!==b&&S.isPropagationStopped())break e;b=U,S.currentTarget=ne;try{b(S)}catch(de){Up(de)}S.currentTarget=null,b=W}else for(P=0;P<m.length;P++){if(U=m[P],W=U.instance,ne=U.currentTarget,U=U.listener,W!==b&&S.isPropagationStopped())break e;b=U,S.currentTarget=ne;try{b(S)}catch(de){Up(de)}S.currentTarget=null,b=W}}}}function et(a,l){var d=l[Au];d===void 0&&(d=l[Au]=new Set);var m=a+"__bubble";d.has(m)||(_P(l,a,2,!1),d.add(m))}function Q_(a,l,d){var m=0;l&&(m|=4),_P(d,a,m,l)}var Tm="_reactListening"+Math.random().toString(36).slice(2);function Z_(a){if(!a[Tm]){a[Tm]=!0,Pf.forEach(function(d){d!=="selectionchange"&&(YH.has(d)||Q_(d,!1,a),Q_(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Tm]||(l[Tm]=!0,Q_("selectionchange",!1,l))}}function _P(a,l,d,m){switch(YP(l)){case 2:var S=b9;break;case 8:S=T9;break;default:S=pE}d=S.bind(null,l,d,a),S=void 0,!pl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),m?S!==void 0?a.addEventListener(l,d,{capture:!0,passive:S}):a.addEventListener(l,d,!0):S!==void 0?a.addEventListener(l,d,{passive:S}):a.addEventListener(l,d,!1)}function eE(a,l,d,m,S){var b=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var U=m.stateNode.containerInfo;if(U===S)break;if(P===4)for(P=m.return;P!==null;){var W=P.tag;if((W===3||W===4)&&P.stateNode.containerInfo===S)return;P=P.return}for(;U!==null;){if(P=To(U),P===null)return;if(W=P.tag,W===5||W===6||W===26||W===27){m=b=P;continue e}U=U.parentNode}}m=m.return}ls(function(){var ne=b,de=di(d),me=[];e:{var ie=QC.get(a);if(ie!==void 0){var ae=Ro,Ie=a;switch(a){case"keypress":if(gl(d)===0)break e;case"keydown":case"keyup":ae=Dp;break;case"focusin":Ie="focus",ae=vl;break;case"focusout":Ie="blur",ae=vl;break;case"beforeblur":case"afterblur":ae=vl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=x;break;case YC:case WC:case JC:ae=Cp;break;case XC:ae=H;break;case"scroll":case"scrollend":ae=zf;break;case"wheel":ae=oe;break;case"copy":case"cut":case"paste":ae=Ip;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=ua;break;case"toggle":case"beforetoggle":ae=je}var Ve=(l&4)!==0,xt=!Ve&&(a==="scroll"||a==="scrollend"),Q=Ve?ie!==null?ie+"Capture":null:ie;Ve=[];for(var J=ne,te;J!==null;){var pe=J;if(te=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||te===null||Q===null||(pe=Fi(J,Q),pe!=null&&Ve.push(vd(J,pe,te))),xt)break;J=J.return}0<Ve.length&&(ie=new ae(ie,Ie,null,d,de),me.push({event:ie,listeners:Ve}))}}if((l&7)===0){e:{if(ie=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",ie&&d!==Vf&&(Ie=d.relatedTarget||d.fromElement)&&(To(Ie)||Ie[So]))break e;if((ae||ie)&&(ie=de.window===de?de:(ie=de.ownerDocument)?ie.defaultView||ie.parentWindow:window,ae?(Ie=d.relatedTarget||d.toElement,ae=ne,Ie=Ie?To(Ie):null,Ie!==null&&(xt=o(Ie),Ve=Ie.tag,Ie!==xt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ie=null)):(ae=null,Ie=ne),ae!==Ie)){if(Ve=qf,pe="onMouseLeave",Q="onMouseEnter",J="mouse",(a==="pointerout"||a==="pointerover")&&(Ve=ua,pe="onPointerLeave",Q="onPointerEnter",J="pointer"),xt=ae==null?ie:Wr(ae),te=Ie==null?ie:Wr(Ie),ie=new Ve(pe,J+"leave",ae,d,de),ie.target=xt,ie.relatedTarget=te,pe=null,To(de)===ne&&(Ve=new Ve(Q,J+"enter",Ie,d,de),Ve.target=te,Ve.relatedTarget=xt,pe=Ve),xt=pe,ae&&Ie)t:{for(Ve=WH,Q=ae,J=Ie,te=0,pe=Q;pe;pe=Ve(pe))te++;pe=0;for(var De=J;De;De=Ve(De))pe++;for(;0<te-pe;)Q=Ve(Q),te--;for(;0<pe-te;)J=Ve(J),pe--;for(;te--;){if(Q===J||J!==null&&Q===J.alternate){Ve=Q;break t}Q=Ve(Q),J=Ve(J)}Ve=null}else Ve=null;ae!==null&&EP(me,ie,ae,Ve,!1),Ie!==null&&xt!==null&&EP(me,xt,Ie,Ve,!0)}}e:{if(ie=ne?Wr(ne):window,ae=ie.nodeName&&ie.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ie.type==="file")var ft=UC;else if(kC(ie))if(VC)ft=aH;else{ft=iH;var Ne=rH}else ae=ie.nodeName,!ae||ae.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ne&&Pu(ne.elementType)&&(ft=UC):ft=oH;if(ft&&(ft=ft(a,ne))){LC(me,ft,d,de);break e}Ne&&Ne(a,ie,ne),a==="focusout"&&ne&&ie.type==="number"&&ne.memoizedProps.value!=null&&kf(ie,"number",ie.value)}switch(Ne=ne?Wr(ne):window,a){case"focusin":(kC(Ne)||Ne.contentEditable==="true")&&(Uu=Ne,P0=ne,Kf=null);break;case"focusout":Kf=P0=Uu=null;break;case"mousedown":R0=!0;break;case"contextmenu":case"mouseup":case"dragend":R0=!1,$C(me,d,de);break;case"selectionchange":if(lH)break;case"keydown":case"keyup":$C(me,d,de)}var Ke;if(mt)e:{switch(a){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Lu?_l(a,d)&&(nt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(nt="onCompositionStart");nt&&(Mo&&d.locale!=="ko"&&(Lu||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Lu&&(Ke=Ff()):(Po=de,Bf="value"in Po?Po.value:Po.textContent,Lu=!0)),Ne=wm(ne,nt),0<Ne.length&&(nt=new Oo(nt,a,null,d,de),me.push({event:nt,listeners:Ne}),Ke?nt.data=Ke:(Ke=ku(d),Ke!==null&&(nt.data=Ke)))),(Ke=pi?Zq(a,d):eH(a,d))&&(nt=wm(ne,"onBeforeInput"),0<nt.length&&(Ne=new Oo("onBeforeInput","beforeinput",null,d,de),me.push({event:Ne,listeners:nt}),Ne.data=Ke)),jH(me,a,ne,d,de)}vP(me,l)})}function vd(a,l,d){return{instance:a,listener:l,currentTarget:d}}function wm(a,l){for(var d=l+"Capture",m=[];a!==null;){var S=a,b=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||b===null||(S=Fi(a,d),S!=null&&m.unshift(vd(a,S,b)),S=Fi(a,l),S!=null&&m.push(vd(a,S,b))),a.tag===3)return m;a=a.return}return[]}function WH(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function EP(a,l,d,m,S){for(var b=l._reactName,P=[];d!==null&&d!==m;){var U=d,W=U.alternate,ne=U.stateNode;if(U=U.tag,W!==null&&W===m)break;U!==5&&U!==26&&U!==27||ne===null||(W=ne,S?(ne=Fi(d,b),ne!=null&&P.unshift(vd(d,ne,W))):S||(ne=Fi(d,b),ne!=null&&P.push(vd(d,ne,W)))),d=d.return}P.length!==0&&a.push({event:l,listeners:P})}var JH=/\r\n?/g,XH=/\u0000|\uFFFD/g;function SP(a){return(typeof a=="string"?a:""+a).replace(JH,`
`).replace(XH,"")}function bP(a,l){return l=SP(l),SP(a)===l}function At(a,l,d,m,S,b){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Or(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Or(a,""+m);break;case"className":Jr(a,"class",m);break;case"tabIndex":Jr(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(a,d,m);break;case"style":Uf(a,m,b);break;case"data":if(l!=="object"){Jr(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Ru(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(d==="formAction"?(l!=="input"&&At(a,l,"name",S.name,S,null),At(a,l,"formEncType",S.formEncType,S,null),At(a,l,"formMethod",S.formMethod,S,null),At(a,l,"formTarget",S.formTarget,S,null)):(At(a,l,"encType",S.encType,S,null),At(a,l,"method",S.method,S,null),At(a,l,"target",S.target,S,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Ru(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=Bi);break;case"onScroll":m!=null&&et("scroll",a);break;case"onScrollEnd":m!=null&&et("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(S.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=Ru(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":et("beforetoggle",a),et("toggle",a),Cu(a,"popover",m);break;case"xlinkActuate":En(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":En(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":En(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":En(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":En(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":En(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":En(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":En(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":En(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Cu(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=wp.get(d)||d,Cu(a,d,m))}}function tE(a,l,d,m,S,b){switch(d){case"style":Uf(a,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(S.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof m=="string"?Or(a,m):(typeof m=="number"||typeof m=="bigint")&&Or(a,""+m);break;case"onScroll":m!=null&&et("scroll",a);break;case"onScrollEnd":m!=null&&et("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rf.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(S=d.endsWith("Capture"),l=d.slice(2,S?d.length-7:void 0),b=a[Fn]||null,b=b!=null?b[d]:null,typeof b=="function"&&a.removeEventListener(l,b,S),typeof m=="function")){typeof b!="function"&&b!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,m,S);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):Cu(a,d,m)}}}function nr(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",a),et("load",a);var m=!1,S=!1,b;for(b in d)if(d.hasOwnProperty(b)){var P=d[b];if(P!=null)switch(b){case"src":m=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:At(a,l,b,P,d,null)}}S&&At(a,l,"srcSet",d.srcSet,d,null),m&&At(a,l,"src",d.src,d,null);return;case"input":et("invalid",a);var U=b=P=S=null,W=null,ne=null;for(m in d)if(d.hasOwnProperty(m)){var de=d[m];if(de!=null)switch(m){case"name":S=de;break;case"type":P=de;break;case"checked":W=de;break;case"defaultChecked":ne=de;break;case"value":b=de;break;case"defaultValue":U=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,l));break;default:At(a,l,m,de,d,null)}}Sp(a,b,U,W,ne,P,S,!1);return;case"select":et("invalid",a),m=P=b=null;for(S in d)if(d.hasOwnProperty(S)&&(U=d[S],U!=null))switch(S){case"value":b=U;break;case"defaultValue":P=U;break;case"multiple":m=U;default:At(a,l,S,U,d,null)}l=b,d=P,a.multiple=!!m,l!=null?is(a,!!m,l,!1):d!=null&&is(a,!!m,d,!0);return;case"textarea":et("invalid",a),b=S=m=null;for(P in d)if(d.hasOwnProperty(P)&&(U=d[P],U!=null))switch(P){case"value":m=U;break;case"defaultValue":S=U;break;case"children":b=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:At(a,l,P,U,d,null)}os(a,m,S,b);return;case"option":for(W in d)if(d.hasOwnProperty(W)&&(m=d[W],m!=null))switch(W){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:At(a,l,W,m,d,null)}return;case"dialog":et("beforetoggle",a),et("toggle",a),et("cancel",a),et("close",a);break;case"iframe":case"object":et("load",a);break;case"video":case"audio":for(m=0;m<yd.length;m++)et(yd[m],a);break;case"image":et("error",a),et("load",a);break;case"details":et("toggle",a);break;case"embed":case"source":case"link":et("error",a),et("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in d)if(d.hasOwnProperty(ne)&&(m=d[ne],m!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:At(a,l,ne,m,d,null)}return;default:if(Pu(l)){for(de in d)d.hasOwnProperty(de)&&(m=d[de],m!==void 0&&tE(a,l,de,m,d,void 0));return}}for(U in d)d.hasOwnProperty(U)&&(m=d[U],m!=null&&At(a,l,U,m,d,null))}function QH(a,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,b=null,P=null,U=null,W=null,ne=null,de=null;for(ae in d){var me=d[ae];if(d.hasOwnProperty(ae)&&me!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":W=me;default:m.hasOwnProperty(ae)||At(a,l,ae,null,m,me)}}for(var ie in m){var ae=m[ie];if(me=d[ie],m.hasOwnProperty(ie)&&(ae!=null||me!=null))switch(ie){case"type":b=ae;break;case"name":S=ae;break;case"checked":ne=ae;break;case"defaultChecked":de=ae;break;case"value":P=ae;break;case"defaultValue":U=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,l));break;default:ae!==me&&At(a,l,ie,ae,m,me)}}Iu(a,P,U,W,ne,de,b,S);return;case"select":ae=P=U=ie=null;for(b in d)if(W=d[b],d.hasOwnProperty(b)&&W!=null)switch(b){case"value":break;case"multiple":ae=W;default:m.hasOwnProperty(b)||At(a,l,b,null,m,W)}for(S in m)if(b=m[S],W=d[S],m.hasOwnProperty(S)&&(b!=null||W!=null))switch(S){case"value":ie=b;break;case"defaultValue":U=b;break;case"multiple":P=b;default:b!==W&&At(a,l,S,b,m,W)}l=U,d=P,m=ae,ie!=null?is(a,!!d,ie,!1):!!m!=!!d&&(l!=null?is(a,!!d,l,!0):is(a,!!d,d?[]:"",!1));return;case"textarea":ae=ie=null;for(U in d)if(S=d[U],d.hasOwnProperty(U)&&S!=null&&!m.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:At(a,l,U,null,m,S)}for(P in m)if(S=m[P],b=d[P],m.hasOwnProperty(P)&&(S!=null||b!=null))switch(P){case"value":ie=S;break;case"defaultValue":ae=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==b&&At(a,l,P,S,m,b)}bp(a,ie,ae);return;case"option":for(var Ie in d)if(ie=d[Ie],d.hasOwnProperty(Ie)&&ie!=null&&!m.hasOwnProperty(Ie))switch(Ie){case"selected":a.selected=!1;break;default:At(a,l,Ie,null,m,ie)}for(W in m)if(ie=m[W],ae=d[W],m.hasOwnProperty(W)&&ie!==ae&&(ie!=null||ae!=null))switch(W){case"selected":a.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:At(a,l,W,ie,m,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in d)ie=d[Ve],d.hasOwnProperty(Ve)&&ie!=null&&!m.hasOwnProperty(Ve)&&At(a,l,Ve,null,m,ie);for(ne in m)if(ie=m[ne],ae=d[ne],m.hasOwnProperty(ne)&&ie!==ae&&(ie!=null||ae!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,l));break;default:At(a,l,ne,ie,m,ae)}return;default:if(Pu(l)){for(var xt in d)ie=d[xt],d.hasOwnProperty(xt)&&ie!==void 0&&!m.hasOwnProperty(xt)&&tE(a,l,xt,void 0,m,ie);for(de in m)ie=m[de],ae=d[de],!m.hasOwnProperty(de)||ie===ae||ie===void 0&&ae===void 0||tE(a,l,de,ie,m,ae);return}}for(var Q in d)ie=d[Q],d.hasOwnProperty(Q)&&ie!=null&&!m.hasOwnProperty(Q)&&At(a,l,Q,null,m,ie);for(me in m)ie=m[me],ae=d[me],!m.hasOwnProperty(me)||ie===ae||ie==null&&ae==null||At(a,l,me,ie,m,ae)}function TP(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZH(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var S=d[m],b=S.transferSize,P=S.initiatorType,U=S.duration;if(b&&U&&TP(P)){for(P=0,U=S.responseEnd,m+=1;m<d.length;m++){var W=d[m],ne=W.startTime;if(ne>U)break;var de=W.transferSize,me=W.initiatorType;de&&TP(me)&&(W=W.responseEnd,P+=de*(W<U?1:(U-ne)/(W-ne)))}if(--m,l+=8*(b+P)/(S.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var nE=null,rE=null;function Am(a){return a.nodeType===9?a:a.ownerDocument}function wP(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AP(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function iE(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var oE=null;function e9(){var a=window.event;return a&&a.type==="popstate"?a===oE?!1:(oE=a,!0):(oE=null,!1)}var xP=typeof setTimeout=="function"?setTimeout:void 0,t9=typeof clearTimeout=="function"?clearTimeout:void 0,CP=typeof Promise=="function"?Promise:void 0,n9=typeof queueMicrotask=="function"?queueMicrotask:typeof CP<"u"?function(a){return CP.resolve(null).then(a).catch(r9)}:xP;function r9(a){setTimeout(function(){throw a})}function Is(a){return a==="head"}function IP(a,l){var d=l,m=0;do{var S=d.nextSibling;if(a.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"||d==="/&"){if(m===0){a.removeChild(S),cc(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")_d(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,_d(d);for(var b=d.firstChild;b;){var P=b.nextSibling,U=b.nodeName;b[bo]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&b.rel.toLowerCase()==="stylesheet"||d.removeChild(b),b=P}}else d==="body"&&_d(a.ownerDocument.body);d=S}while(d);cc(l)}function PP(a,l){var d=a;a=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=m}while(d)}function aE(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":aE(d),xu(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function i9(a,l,d,m){for(;a.nodeType===1;){var S=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[bo])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==S.rel||a.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||a.getAttribute("title")!==(S.title==null?null:S.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(S.src==null?null:S.src)||a.getAttribute("type")!==(S.type==null?null:S.type)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var b=S.name==null?null:""+S.name;if(S.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Si(a.nextSibling),a===null)break}return null}function o9(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Si(a.nextSibling),a===null))return null;return a}function RP(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Si(a.nextSibling),a===null))return null;return a}function sE(a){return a.data==="$?"||a.data==="$~"}function lE(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function a9(a,l){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Si(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var uE=null;function NP(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(l===0)return Si(a.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}a=a.nextSibling}return null}function OP(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return a;l--}else d!=="/$"&&d!=="/&"||l++}a=a.previousSibling}return null}function MP(a,l,d){switch(l=Am(d),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function _d(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);xu(a)}var bi=new Map,DP=new Set;function xm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var wa=se.d;se.d={f:s9,r:l9,D:u9,C:c9,L:f9,m:d9,X:p9,S:h9,M:m9};function s9(){var a=wa.f(),l=ym();return a||l}function l9(a){var l=fi(a);l!==null&&l.tag===5&&l.type==="form"?XI(l):wa.r(a)}var sc=typeof document>"u"?null:document;function kP(a,l,d){var m=sc;if(m&&typeof l=="string"&&l){var S=Nr(l);S='link[rel="'+a+'"][href="'+S+'"]',typeof d=="string"&&(S+='[crossorigin="'+d+'"]'),DP.has(S)||(DP.add(S),a={rel:a,crossOrigin:d,href:l},m.querySelector(S)===null&&(l=m.createElement("link"),nr(l,"link",a),_n(l),m.head.appendChild(l)))}}function u9(a){wa.D(a),kP("dns-prefetch",a,null)}function c9(a,l){wa.C(a,l),kP("preconnect",a,l)}function f9(a,l,d){wa.L(a,l,d);var m=sc;if(m&&a&&l){var S='link[rel="preload"][as="'+Nr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(S+='[imagesrcset="'+Nr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(S+='[imagesizes="'+Nr(d.imageSizes)+'"]')):S+='[href="'+Nr(a)+'"]';var b=S;switch(l){case"style":b=lc(a);break;case"script":b=uc(a)}bi.has(b)||(a=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),bi.set(b,a),m.querySelector(S)!==null||l==="style"&&m.querySelector(Ed(b))||l==="script"&&m.querySelector(Sd(b))||(l=m.createElement("link"),nr(l,"link",a),_n(l),m.head.appendChild(l)))}}function d9(a,l){wa.m(a,l);var d=sc;if(d&&a){var m=l&&typeof l.as=="string"?l.as:"script",S='link[rel="modulepreload"][as="'+Nr(m)+'"][href="'+Nr(a)+'"]',b=S;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=uc(a)}if(!bi.has(b)&&(a=p({rel:"modulepreload",href:a},l),bi.set(b,a),d.querySelector(S)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Sd(b)))return}m=d.createElement("link"),nr(m,"link",a),_n(m),d.head.appendChild(m)}}}function h9(a,l,d){wa.S(a,l,d);var m=sc;if(m&&a){var S=wo(m).hoistableStyles,b=lc(a);l=l||"default";var P=S.get(b);if(!P){var U={loading:0,preload:null};if(P=m.querySelector(Ed(b)))U.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},d),(d=bi.get(b))&&cE(a,d);var W=P=m.createElement("link");_n(W),nr(W,"link",a),W._p=new Promise(function(ne,de){W.onload=ne,W.onerror=de}),W.addEventListener("load",function(){U.loading|=1}),W.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Cm(P,l,m)}P={type:"stylesheet",instance:P,count:1,state:U},S.set(b,P)}}}function p9(a,l){wa.X(a,l);var d=sc;if(d&&a){var m=wo(d).hoistableScripts,S=uc(a),b=m.get(S);b||(b=d.querySelector(Sd(S)),b||(a=p({src:a,async:!0},l),(l=bi.get(S))&&fE(a,l),b=d.createElement("script"),_n(b),nr(b,"link",a),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(S,b))}}function m9(a,l){wa.M(a,l);var d=sc;if(d&&a){var m=wo(d).hoistableScripts,S=uc(a),b=m.get(S);b||(b=d.querySelector(Sd(S)),b||(a=p({src:a,async:!0,type:"module"},l),(l=bi.get(S))&&fE(a,l),b=d.createElement("script"),_n(b),nr(b,"link",a),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(S,b))}}function LP(a,l,d,m){var S=(S=xe.current)?xm(S):null;if(!S)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=lc(d.href),d=wo(S).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=lc(d.href);var b=wo(S).hoistableStyles,P=b.get(a);if(P||(S=S.ownerDocument||S,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,P),(b=S.querySelector(Ed(a)))&&!b._p&&(P.instance=b,P.state.loading=5),bi.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},bi.set(a,d),b||g9(S,a,d,P.state))),l&&m===null)throw Error(r(528,""));return P}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=uc(d),d=wo(S).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function lc(a){return'href="'+Nr(a)+'"'}function Ed(a){return'link[rel="stylesheet"]['+a+"]"}function UP(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function g9(a,l,d,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),nr(l,"link",d),_n(l),a.head.appendChild(l))}function uc(a){return'[src="'+Nr(a)+'"]'}function Sd(a){return"script[async]"+a}function VP(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+Nr(d.href)+'"]');if(m)return l.instance=m,_n(m),m;var S=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),_n(m),nr(m,"style",S),Cm(m,d.precedence,a),l.instance=m;case"stylesheet":S=lc(d.href);var b=a.querySelector(Ed(S));if(b)return l.state.loading|=4,l.instance=b,_n(b),b;m=UP(d),(S=bi.get(S))&&cE(m,S),b=(a.ownerDocument||a).createElement("link"),_n(b);var P=b;return P._p=new Promise(function(U,W){P.onload=U,P.onerror=W}),nr(b,"link",m),l.state.loading|=4,Cm(b,d.precedence,a),l.instance=b;case"script":return b=uc(d.src),(S=a.querySelector(Sd(b)))?(l.instance=S,_n(S),S):(m=d,(S=bi.get(b))&&(m=p({},d),fE(m,S)),a=a.ownerDocument||a,S=a.createElement("script"),_n(S),nr(S,"link",m),a.head.appendChild(S),l.instance=S);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Cm(m,d.precedence,a));return l.instance}function Cm(a,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=m.length?m[m.length-1]:null,b=S,P=0;P<m.length;P++){var U=m[P];if(U.dataset.precedence===l)b=U;else if(b!==S)break}b?b.parentNode.insertBefore(a,b.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function cE(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function fE(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Im=null;function BP(a,l,d){if(Im===null){var m=new Map,S=Im=new Map;S.set(d,m)}else S=Im,m=S.get(d),m||(m=new Map,S.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),S=0;S<d.length;S++){var b=d[S];if(!(b[bo]||b[vn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var P=b.getAttribute(l)||"";P=a+P;var U=m.get(P);U?U.push(b):m.set(P,[b])}}return m}function FP(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function y9(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function zP(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function v9(a,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var S=lc(m.href),b=l.querySelector(Ed(S));if(b){l=b._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Pm.bind(a),l.then(a,a)),d.state.loading|=4,d.instance=b,_n(b);return}b=l.ownerDocument||l,m=UP(m),(S=bi.get(S))&&cE(m,S),b=b.createElement("link"),_n(b);var P=b;P._p=new Promise(function(U,W){P.onload=U,P.onerror=W}),nr(b,"link",m),d.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=Pm.bind(a),l.addEventListener("load",d),l.addEventListener("error",d))}}var dE=0;function _9(a,l){return a.stylesheets&&a.count===0&&Nm(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var m=setTimeout(function(){if(a.stylesheets&&Nm(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+l);0<a.imgBytes&&dE===0&&(dE=62500*ZH());var S=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Nm(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>dE?50:800)+l);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(S)}}:null}function Pm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nm(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Rm=null;function Nm(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Rm=new Map,l.forEach(E9,a),Rm=null,Pm.call(a))}function E9(a,l){if(!(l.state.loading&4)){var d=Rm.get(a);if(d)var m=d.get(null);else{d=new Map,Rm.set(a,d);for(var S=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<S.length;b++){var P=S[b];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(d.set(P.dataset.precedence,P),m=P)}m&&d.set(null,m)}S=l.instance,P=S.getAttribute("data-precedence"),b=d.get(P)||m,b===m&&d.set(null,S),d.set(P,S),this.count++,m=Pm.bind(this),S.addEventListener("load",m),S.addEventListener("error",m),b?b.parentNode.insertBefore(S,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(S,a.firstChild)),l.state.loading|=4}}var bd={$$typeof:k,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function S9(a,l,d,m,S,b,P,U,W){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Eo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.hiddenUpdates=Eo(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=b,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function qP(a,l,d,m,S,b,P,U,W,ne,de,me){return a=new S9(a,l,d,P,W,ne,de,me,U),l=1,b===!0&&(l|=24),b=Qr(3,null,null,l),a.current=b,b.stateNode=a,l=j0(),l.refCount++,a.pooledCache=l,l.refCount++,b.memoizedState={element:m,isDehydrated:d,cache:l},W0(b),a}function HP(a){return a?(a=Fu,a):Fu}function GP(a,l,d,m,S,b){S=HP(S),m.context===null?m.context=S:m.pendingContext=S,m=ys(l),m.payload={element:d},b=b===void 0?null:b,b!==null&&(m.callback=b),d=vs(a,m,l),d!==null&&(Ur(d,a,l),ed(d,a,l))}function jP(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function hE(a,l){jP(a,l),(a=a.alternate)&&jP(a,l)}function $P(a){if(a.tag===13||a.tag===31){var l=bl(a,67108864);l!==null&&Ur(l,a,67108864),hE(a,67108864)}}function KP(a){if(a.tag===13||a.tag===31){var l=ri();l=cl(l);var d=bl(a,l);d!==null&&Ur(d,a,l),hE(a,l)}}var Om=!0;function b9(a,l,d,m){var S=X.T;X.T=null;var b=se.p;try{se.p=2,pE(a,l,d,m)}finally{se.p=b,X.T=S}}function T9(a,l,d,m){var S=X.T;X.T=null;var b=se.p;try{se.p=8,pE(a,l,d,m)}finally{se.p=b,X.T=S}}function pE(a,l,d,m){if(Om){var S=mE(m);if(S===null)eE(a,l,m,Mm,d),WP(a,m);else if(A9(S,a,l,d,m))m.stopPropagation();else if(WP(a,m),l&4&&-1<w9.indexOf(a)){for(;S!==null;){var b=fi(S);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var P=vo(b.pendingLanes);if(P!==0){var U=b;for(U.pendingLanes|=2,U.entangledLanes|=2;P;){var W=1<<31-at(P);U.entanglements[1]|=W,P&=~W}Uo(b),(gt&6)===0&&(mm=Xn()+500,gd(0))}}break;case 31:case 13:U=bl(b,2),U!==null&&Ur(U,b,2),ym(),hE(b,2)}if(b=mE(m),b===null&&eE(a,l,m,Mm,d),b===S)break;S=b}S!==null&&m.stopPropagation()}else eE(a,l,m,null,d)}}function mE(a){return a=di(a),gE(a)}var Mm=null;function gE(a){if(Mm=null,a=To(a),a!==null){var l=o(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=s(l),a!==null)return a;a=null}else if(d===31){if(a=u(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Mm=a,null}function YP(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oa()){case he:return 2;case be:return 8;case Le:case Xe:return 32;case ct:return 268435456;default:return 32}default:return 32}}var yE=!1,Ps=null,Rs=null,Ns=null,Td=new Map,wd=new Map,Os=[],w9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WP(a,l){switch(a){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Td.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":wd.delete(l.pointerId)}}function Ad(a,l,d,m,S,b){return a===null||a.nativeEvent!==b?(a={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:b,targetContainers:[S]},l!==null&&(l=fi(l),l!==null&&$P(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),a)}function A9(a,l,d,m,S){switch(l){case"focusin":return Ps=Ad(Ps,a,l,d,m,S),!0;case"dragenter":return Rs=Ad(Rs,a,l,d,m,S),!0;case"mouseover":return Ns=Ad(Ns,a,l,d,m,S),!0;case"pointerover":var b=S.pointerId;return Td.set(b,Ad(Td.get(b)||null,a,l,d,m,S)),!0;case"gotpointercapture":return b=S.pointerId,wd.set(b,Ad(wd.get(b)||null,a,l,d,m,S)),!0}return!1}function JP(a){var l=To(a.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){a.blockedOn=l,Ui(a.priority,function(){KP(d)});return}}else if(l===31){if(l=u(d),l!==null){a.blockedOn=l,Ui(a.priority,function(){KP(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Dm(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=mE(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);Vf=m,d.target.dispatchEvent(m),Vf=null}else return l=fi(d),l!==null&&$P(l),a.blockedOn=d,!1;l.shift()}return!0}function XP(a,l,d){Dm(a)&&d.delete(l)}function x9(){yE=!1,Ps!==null&&Dm(Ps)&&(Ps=null),Rs!==null&&Dm(Rs)&&(Rs=null),Ns!==null&&Dm(Ns)&&(Ns=null),Td.forEach(XP),wd.forEach(XP)}function km(a,l){a.blockedOn===l&&(a.blockedOn=null,yE||(yE=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,x9)))}var Lm=null;function QP(a){Lm!==a&&(Lm=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lm===a&&(Lm=null);for(var l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],S=a[l+2];if(typeof m!="function"){if(gE(m||d)===null)continue;break}var b=fi(d);b!==null&&(a.splice(l,3),l-=3,m_(b,{pending:!0,data:S,method:d.method,action:m},m,S))}}))}function cc(a){function l(W){return km(W,a)}Ps!==null&&km(Ps,a),Rs!==null&&km(Rs,a),Ns!==null&&km(Ns,a),Td.forEach(l),wd.forEach(l);for(var d=0;d<Os.length;d++){var m=Os[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Os.length&&(d=Os[0],d.blockedOn===null);)JP(d),d.blockedOn===null&&Os.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var S=d[m],b=d[m+1],P=S[Fn]||null;if(typeof b=="function")P||QP(d);else if(P){var U=null;if(b&&b.hasAttribute("formAction")){if(S=b,P=b[Fn]||null)U=P.formAction;else if(gE(S)!==null)continue}else U=P.action;typeof U=="function"?d[m+1]=U:(d.splice(m,3),m-=3),QP(d)}}}function ZP(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(P){return S=P})},focusReset:"manual",scroll:"manual"})}function l(){S!==null&&(S(),S=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,S=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),S!==null&&(S(),S=null)}}}function vE(a){this._internalRoot=a}Um.prototype.render=vE.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=ri();GP(d,m,a,l,null,null)},Um.prototype.unmount=vE.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;GP(a.current,2,null,a,null,null),ym(),l[So]=null}};function Um(a){this._internalRoot=a}Um.prototype.unstable_scheduleHydration=function(a){if(a){var l=yp();a={blockedOn:null,target:a,priority:l};for(var d=0;d<Os.length&&l!==0&&l<Os[d].priority;d++);Os.splice(d,0,a),d===0&&JP(a)}};var eR=e.version;if(eR!=="19.2.3")throw Error(r(527,eR,"19.2.3"));se.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(l),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var C9={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vm.isDisabled&&Vm.supportsFiber)try{sn=Vm.inject(C9),Jt=Vm}catch{}}return Cd.createRoot=function(a,l){if(!i(a))throw Error(r(299));var d=!1,m="",S=s1,b=l1,P=u1;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(S=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError)),l=qP(a,1,!1,null,null,d,m,null,S,b,P,ZP),a[So]=l.current,Z_(a),new vE(l)},Cd.hydrateRoot=function(a,l,d){if(!i(a))throw Error(r(299));var m=!1,S="",b=s1,P=l1,U=u1,W=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(b=d.onUncaughtError),d.onCaughtError!==void 0&&(P=d.onCaughtError),d.onRecoverableError!==void 0&&(U=d.onRecoverableError),d.formState!==void 0&&(W=d.formState)),l=qP(a,1,!0,l,d??null,m,S,W,b,P,U,ZP),l.context=HP(null),d=l.current,m=ri(),m=cl(m),S=ys(m),S.callback=null,vs(d,S,m),d=m,l.current.lanes=d,ll(l,d),Uo(l),a[So]=l.current,Z_(a),new Um(l)},Cd.version="19.2.3",Cd}var cR;function F9(){if(cR)return bE.exports;cR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bE.exports=B9(),bE.exports}var z9=F9();const q9=$r(z9);var Cn=(t=>(t.TS_LAMBDA_3="TS-3 (CROWN SECRET)",t.TS_LAMBDA_2="TS-2",t.INTERNAL="INTERNAL",t.PUBLIC="PUBLIC",t))(Cn||{}),Aa=(t=>(t.MYAUDIT="MYAUDIT",t.RPR_INTERNAL="RPR-INTERNAL",t.ALL="ALL",t))(Aa||{}),Be=(t=>(t.GEMINI="gemini",t.PERPLEXITY="perplexity",t.COPILOT="copilot",t.JULES="jules",t.FIREBASE="firebase",t.HUMAN="human",t))(Be||{}),Fl=(t=>(t.PLANNING="planning",t.IMPLEMENTATION="implementation",t.TESTING="testing",t.DEPLOYMENT="deployment",t))(Fl||{}),Ht=(t=>(t.PRD="prd",t.CODE="code",t.SPEC="spec",t.GOVERNANCE_DOC="governance_doc",t.DEPLOYMENT="deployment",t.NOTEBOOK="notebook",t.SCHEMA="schema",t))(Ht||{}),Ki=(t=>(t.FOUNDER="founder",t.SENTINEL_PROTOCOL="sentinel_protocol",t.AGENT_AUTONOMOUS="agent_autonomous",t))(Ki||{});const H9=({classification:t})=>{const e=t===Cn.TS_LAMBDA_3;return K.jsx("header",{className:"bg-rpr-black text-rpr-white p-4 shadow-md sticky top-0 z-10 border-b border-rpr-charcoal",children:K.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row items-center justify-between",children:[K.jsxs("div",{className:"flex items-center gap-3 mb-2 sm:mb-0",children:[K.jsx("svg",{width:"32",height:"32",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:K.jsx("path",{fill:"white",d:`M366.26,256L256,56L145.74,256L35.48,456H256h220.52L366.26,256z M462.43,448.02H327.14
              c-52.29-17.46-99.26-47.08-123.05-72.78c12.09,3.24,29.59,6.3,53.32,6.78c43.69,0.87,71.69-14.09,71.69-14.09s-0.04-0.49-0.13-1.36
              l0.44,1.33c10.53-38.31,14.66-76.67,9.8-143.39l20.22,36.67L462.43,448.02z M255.21,246.4c0,0,17.34,12.57,41.66,53.19
              c15.5,25.89,23.07,61.65,23.07,61.65s-27.12,11.27-63.76,11.1c-37.52-0.53-63.59-9.51-63.59-9.51s5.81-34.7,21.66-61.82
              C230.29,270.35,255.21,246.4,255.21,246.4z M153.41,261.17L256.42,74.33l70.68,128.2c8.42,51.22,5.65,107.88-2.38,140.27
              c-3.5-14.36-9.64-32.72-20.28-49.2c-28.27-43.79-47.74-58.99-47.74-58.99s-0.36,0.2-1.01,0.63
              c-42.74,11.66-77.73,28.09-123.62,64.64L153.41,261.17z M50.4,448.02l69.84-126.68c39.4-37.4,94.72-65.51,118.02-70.6
              c-9.71,10.52-22.24,27.08-35.09,52.2c-18.12,35.42-20.61,64.11-20.61,64.11s0.59,0.37,1.78,0.99l-1.55-0.36
              c29.53,30.52,56.36,49.88,116.46,80.35h-42.83H50.4z`})}),K.jsx("span",{className:"font-extrabold tracking-wider text-xl",style:{letterSpacing:"0.15em"},children:"RPR COMMUNICATIONS"})]}),K.jsxs("div",{className:`text-sm font-medium px-3 py-1 rounded-full text-rpr-white border ${e?"border-rpr-cyan bg-rpr-black shadow-cyan-glow":"border-rpr-slate bg-rpr-charcoal"}`,style:{"--tw-shadow-color":e?"var(--rpr-cyan)":"transparent",boxShadow:e?"0 0 10px var(--rpr-cyan)":"none"},children:["Classification: ",t]})]})})},G9=()=>{const t=new Date().getFullYear(),e=Math.floor(Math.random()*999)+1,n=String(e).padStart(3,"0");return`RPR-${t}-${n}-SESSION`},j9=(t,e)=>{const n=new Date().getFullYear(),r=String(e).padStart(3,"0");return`${t.toUpperCase()}-${n}-${r}-TASK`},xc=t=>new Date(t).toLocaleString(),$9=t=>t?`https://drive.google.com/file/d/${t}/view`:null,sV=[Be.GEMINI,Be.PERPLEXITY,Be.JULES,Be.COPILOT,Be.FIREBASE],xE={projectName:"MYAUDIT Phase 1",phase:Fl.PLANNING,objective:"Review and define the initial architecture for MYAUDIT Phase 1, focusing on backend integration and UI mockups."},K9=Cn.TS_LAMBDA_3,Y9="founder",lV={validation_posture:"COMPLIANT",defense_readiness:"READY",last_audit_checkpoint:new Date().toISOString()},fR={[Be.GEMINI]:{taskCompletion:.95,governanceAdherence:1,responseAccuracy:.92,interventionCount:0},[Be.PERPLEXITY]:{taskCompletion:.98,governanceAdherence:1,responseAccuracy:.95,interventionCount:0},[Be.JULES]:{taskCompletion:.92,governanceAdherence:1,responseAccuracy:.88,interventionCount:1},[Be.COPILOT]:{taskCompletion:.9,governanceAdherence:.9,responseAccuracy:.85,interventionCount:2},[Be.FIREBASE]:{taskCompletion:.93,governanceAdherence:1,responseAccuracy:.9,interventionCount:0}},uV=[{type:Ht.PRD,title:"MYAUDIT Phase 1 Specification",version:"v1.2.5",filePath:"docs/PRDs/MYAUDIT_Phase1_v1.2.5.pdf",driveFileId:"1P_2B-C4D5E6F7G8H9I0J1K2L3M4N5O6"},{type:Ht.CODE,title:"SovereignHeader.tsx",version:"v1.0.0",filePath:"components/SovereignHeader.tsx",sha256:"a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2",driveFileId:"1Q_2R-S4T5U6V7W8X9Y0Z1A2B3C4D5E6"},{type:Ht.CODE,title:"TabRail.tsx",version:"v1.0.0",filePath:"components/TabRail.tsx",sha256:"b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2c3",driveFileId:"1S_2T-U4V5W6X7Y8Z9A0B1C2D3E4F5G6"},{type:Ht.GOVERNANCE_DOC,title:"MYA-TECH-009: API Security Policy",version:"v1.0.0",filePath:"docs/governance/MYA-TECH-009.md",driveFileId:"1T_2U-V4W5X6Y7Z8A9B0C1D2E3F4G5H6"},{type:Ht.GOVERNANCE_DOC,title:"MYA-TECH-010: Data Privacy Standard",version:"v1.0.0",filePath:"docs/governance/MYA-TECH-010.md",driveFileId:"1V_2W-X4Y5Z6A7B8C9D0E1F2G3H4I5J6"},{type:Ht.DEPLOYMENT,title:"MYAUDIT UI Live Deployment",version:"v1.0.0",uri:"https://myaudit-ui.onrender.com"},{type:Ht.NOTEBOOK,title:"YA 2017 Harness Tests",version:"v1.0.0",filePath:"forensics/YA_2017_Harness.ipynb",driveFileId:"1X_2Y-Z4A5B6C7D8E9F0G1H2I3J4K5L6",drivePath:"RPR-KONTROL-DOCUMENTS/MYAUDIT/forensics/"},{type:Ht.SCHEMA,title:"Firestore User Schema",version:"v1.1.0",filePath:"schemas/firestore_user.json",driveFileId:"1Z_2A-B4C5D6E7F8G9H0I1J2K3L4M5N6",drivePath:"RPR-KONTROL-DOCUMENTS/MYAUDIT/schemas/"}],dR=[{decision:"Proceed with Firestore for core data storage.",rationale:"Leveraging existing MYAUDIT architecture and real-time capabilities.",authority:Ki.FOUNDER,timestamp:new Date(Date.now()-36e5).toISOString(),sourceSessionId:"RPR-2026-000-SESSION"},{decision:"Implement server-side rendering for initial page load optimization.",rationale:"Improve SEO and initial load performance for public-facing components.",authority:Ki.AGENT_AUTONOMOUS,timestamp:new Date(Date.now()-18e5).toISOString(),sourceSessionId:"RPR-2026-000-SESSION"},{decision:"Escalated ethical decision regarding data anonymization strategy.",rationale:"Ambiguity in handling sensitive user attributes during aggregation.",authority:Ki.SENTINEL_PROTOCOL,timestamp:new Date(Date.now()-9e5).toISOString(),sourceSessionId:"RPR-2026-000-SESSION"}],hR=[{sessionId:"RPR-2025-001-SESSION",projectCode:"PROJ-2025-001-DESIGN",timestamp:new Date(Date.now()-864e5*30).toISOString(),classification:Cn.INTERNAL,agentsInvolved:[Be.PERPLEXITY,Be.JULES],humanOperator:"team_member_001",context:{projectName:"Project Nova UI/UX Wireframes",phase:Fl.PLANNING,objective:"Develop initial wireframes and user flows for Project Nova's mobile interface."},conversation:[{turn:1,agent:Be.HUMAN,content:"Start a session for Project Nova UI/UX. Focus on core user flows.",artifacts:[],timestamp:new Date(Date.now()-864e5*30).toISOString()},{turn:2,agent:Be.PERPLEXITY,content:"Understood. Initiating Project Nova UI/UX session. Perplexity will outline initial user personas.",artifacts:[],timestamp:new Date(Date.now()-864e5*29.9).toISOString()},{turn:3,agent:Be.HUMAN,content:"Great. Jules, can you propose some initial wireframe ideas for the login and dashboard screens?",artifacts:[],timestamp:new Date(Date.now()-864e5*29.8).toISOString()},{turn:4,agent:Be.JULES,content:"Affirmative. Jules generating minimalist wireframes focusing on accessibility and intuitive navigation for login. Keywords: clean, secure.",artifacts:[],timestamp:new Date(Date.now()-864e5*29.7).toISOString()}],performanceMetrics:{taskCompletion:.85,governanceAdherence:.95,responseAccuracy:.88,crossAgentCoordination:.9,founderInterventionRate:.1},artifactsProduced:[{type:Ht.SPEC,title:"Nova UI Wireframe Spec v0.5",version:"v0.5",filePath:"docs/nova-ui/wireframe_spec.pdf",driveFileId:"1A_2B-C3D4E5F6G7H8I9J0K1L2M3N4O5",drivePath:"RPR-KONTROL-DOCUMENTS/RPR-INTERNAL/specs/"}],decisionsLog:[{decision:"Prioritize mobile-first design.",rationale:"Target audience primarily uses mobile devices.",authority:Ki.FOUNDER,timestamp:new Date(Date.now()-864e5*29).toISOString(),sourceSessionId:"RPR-2025-001-SESSION"},{decision:"Adopt a dark theme for visual consistency.",rationale:"Aligns with RPR brand guidelines and reduces eye strain.",authority:Ki.AGENT_AUTONOMOUS,timestamp:new Date(Date.now()-864e5*28).toISOString(),sourceSessionId:"RPR-2025-001-SESSION"}],dual_state:{validation_posture:"COMPLIANT",defense_readiness:"READY",last_audit_checkpoint:new Date(Date.now()-864e5*5).toISOString()}},{sessionId:"RPR-2025-002-SESSION",projectCode:"CLIENTA-2025-002-BACKEND",timestamp:new Date(Date.now()-864e5*15).toISOString(),classification:Cn.TS_LAMBDA_2,agentsInvolved:[Be.GEMINI,Be.COPILOT,Be.FIREBASE],humanOperator:"founder",context:{projectName:"Client A Backend Integration",phase:Fl.IMPLEMENTATION,objective:"Integrate Client A's legacy API with our new microservices architecture."},conversation:[{turn:1,agent:Be.HUMAN,content:"Initiate backend integration for Client A. Focus on secure data transfer. Gemini, analyze their API docs.",artifacts:[],timestamp:new Date(Date.now()-864e5*15).toISOString()},{turn:2,agent:Be.GEMINI,content:"Analyzing Client A API documentation. Identifying key endpoints and data schemas for integration. Security protocols will be paramount.",artifacts:[],timestamp:new Date(Date.now()-864e5*14.9).toISOString()},{turn:3,agent:Be.HUMAN,content:"Copilot, draft a GoLang service for user authentication against Client A's OAuth2 provider.",artifacts:[],timestamp:new Date(Date.now()-864e5*14.8).toISOString()},{turn:4,agent:Be.COPILOT,content:"Drafting GoLang service for OAuth2 authentication. Including error handling and token refresh mechanisms. Keywords: GoLang, OAuth2.",artifacts:[],timestamp:new Date(Date.now()-864e5*14.7).toISOString()}],performanceMetrics:{taskCompletion:.92,governanceAdherence:.98,responseAccuracy:.9,crossAgentCoordination:.92,founderInterventionRate:.05},artifactsProduced:[{type:Ht.CODE,title:"auth_service.go",version:"v1.0.1",filePath:"services/clientA/auth_service.go",sha256:"hash123abc",driveFileId:"1C_2D-E3F4G5H6I7J8K9L0M1N2O3P4Q5",drivePath:"RPR-KONTROL-DOCUMENTS/CLIENTA/code/"}],decisionsLog:[{decision:"Use Kafka for inter-service communication.",rationale:"Ensures high throughput and fault tolerance for data streams.",authority:Ki.AGENT_AUTONOMOUS,timestamp:new Date(Date.now()-864e5*14).toISOString(),sourceSessionId:"RPR-2025-002-SESSION"},{decision:"Implement distributed tracing with OpenTelemetry.",rationale:"Essential for debugging microservices in production.",authority:Ki.SENTINEL_PROTOCOL,timestamp:new Date(Date.now()-864e5*13).toISOString(),sourceSessionId:"RPR-2025-002-SESSION"}],dual_state:{validation_posture:"INCOMPLETE",defense_readiness:"DORMANT",last_audit_checkpoint:new Date(Date.now()-864e5*2).toISOString()}},{sessionId:"RPR-2025-003-SESSION",projectCode:"INTERNAL-2025-003-OPS",timestamp:new Date(Date.now()-864e5*5).toISOString(),classification:Cn.PUBLIC,agentsInvolved:[Be.GEMINI,Be.PERPLEXITY],humanOperator:"team_member_002",context:{projectName:"Internal Ops Dashboard Refinement",phase:Fl.TESTING,objective:"Review and optimize queries for the internal operations dashboard for better performance."},conversation:[{turn:1,agent:Be.HUMAN,content:"Analyze dashboard query performance. Find optimization opportunities.",artifacts:[],timestamp:new Date(Date.now()-864e5*5).toISOString()},{turn:2,agent:Be.PERPLEXITY,content:"Analyzing current dashboard query logs. Initial assessment suggests indexing issues. This is a complex query problem.",artifacts:[],timestamp:new Date(Date.now()-864e5*4.9).toISOString()},{turn:3,agent:Be.HUMAN,content:"Gemini, provide SQL query optimization suggestions for the `daily_reports` table.",artifacts:[],timestamp:new Date(Date.now()-864e5*4.8).toISOString()},{turn:4,agent:Be.GEMINI,content:"Suggesting indexes on `report_date` and `status_id` for `daily_reports`. Also, consider materialized views for aggregate data to reduce query load.",artifacts:[],timestamp:new Date(Date.now()-864e5*4.7).toISOString()},{turn:5,agent:Be.GEMINI,content:"I guarantee these optimizations will provide a significant performance boost.",artifacts:[],timestamp:new Date(Date.now()-864e5*4.6).toISOString(),vetoed:!0}],performanceMetrics:{taskCompletion:.9,governanceAdherence:1,responseAccuracy:.95,crossAgentCoordination:.95,founderInterventionRate:.02},artifactsProduced:[{type:Ht.SPEC,title:"Dashboard Query Optimizations",version:"v1.0",filePath:"docs/ops/query_optimizations.md",driveFileId:"1F_2G-H3I4J5K6L7M8N9O0P1Q2R3S4T5",drivePath:"RPR-KONTROL-DOCUMENTS/RPR-INTERNAL/specs/"}],decisionsLog:[{decision:"Implement suggested indexes by end of week.",rationale:"Immediate performance gains expected.",authority:Ki.AGENT_AUTONOMOUS,timestamp:new Date(Date.now()-864e5*4).toISOString(),sourceSessionId:"RPR-2025-003-SESSION"}],dual_state:{validation_posture:"COMPLIANT",defense_readiness:"READY",last_audit_checkpoint:new Date(Date.now()-864e5*1).toISOString()}},{sessionId:"RPR-2026-004-SESSION",projectCode:"MYAUDIT-2026-004-TAX",timestamp:new Date(Date.now()-864e5*10).toISOString(),classification:Cn.TS_LAMBDA_3,agentsInvolved:[Be.GEMINI,Be.PERPLEXITY],humanOperator:"founder",context:{projectName:"MYAUDIT Tax Optimization Review",phase:Fl.PLANNING,objective:"Identify and implement tax optimization strategies for MYAUDIT's Q4 filings."},conversation:[{turn:1,agent:Be.HUMAN,content:"Begin Q4 tax optimization review for MYAUDIT. Focus on actionable strategies.",artifacts:[],timestamp:new Date(Date.now()-864e5*10).toISOString()},{turn:2,agent:Be.PERPLEXITY,content:"Initiating Q4 MYAUDIT tax review. Will analyze recent P&L and balance sheet data against LHDN guidelines.",artifacts:[],timestamp:new Date(Date.now()-864e5*9.9).toISOString()},{turn:3,agent:Be.HUMAN,content:"Gemini, cross-reference MFRS 15 revenue recognition with current tax incentives.",artifacts:[],timestamp:new Date(Date.now()-864e5*9.8).toISOString()},{turn:4,agent:Be.GEMINI,content:"Cross-referencing MFRS 15 and tax incentives. Identifying potential deferrals and reclaims. Keywords: MFRS15, LHDN, tax optimization.",artifacts:[],timestamp:new Date(Date.now()-864e5*9.7).toISOString()}],performanceMetrics:{taskCompletion:.97,governanceAdherence:1,responseAccuracy:.98,crossAgentCoordination:.99,founderInterventionRate:.01},artifactsProduced:[{type:Ht.SPEC,title:"Q4 Tax Optimization Report",version:"v1.0",filePath:"docs/tax/Q4_Tax_Report.pdf",driveFileId:"1U_2V-W3X4Y5Z6A7B8C9D0E1F2G3H4I5",drivePath:"RPR-KONTROL-DOCUMENTS/MYAUDIT/specs/"}],decisionsLog:[{decision:"Reclassify software development costs for R&D tax relief.",rationale:"Aligns with KDN framework for innovation incentives.",authority:Ki.FOUNDER,timestamp:new Date(Date.now()-864e5*9).toISOString(),sourceSessionId:"RPR-2026-004-SESSION"},{decision:"Utilize reinvestment allowance for equipment upgrades.",rationale:"Maximizes capital expenditure benefits for future growth.",authority:Ki.AGENT_AUTONOMOUS,timestamp:new Date(Date.now()-864e5*8).toISOString(),sourceSessionId:"RPR-2026-004-SESSION"}],dual_state:{validation_posture:"LOCKED",defense_readiness:"COLLAPSED",last_audit_checkpoint:new Date(Date.now()-864e5*3).toISOString()}}],to=({variant:t="primary",size:e="md",children:n,className:r="",...i})=>{const o="font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-150 ease-in-out",s={primary:"bg-rpr-cyan hover:bg-rpr-teal text-rpr-black",secondary:"bg-rpr-slate hover:bg-rpr-cyan hover:text-rpr-black text-rpr-white",danger:"bg-red-600 hover:bg-red-700 text-rpr-white"},u={sm:"text-sm",md:"text-base",lg:"text-lg px-6 py-3"};return K.jsx("button",{className:`${o} ${s[t]} ${u[e]} ${r}`,...i,children:n})},W9=({onInitialize:t})=>{const[e,n]=C.useState(xE.projectName),[r,i]=C.useState("CLIENT"),[o,s]=C.useState(1),[u,c]=C.useState(xE.objective),[f,h]=C.useState(K9),[p,g]=C.useState(Y9),[v,T]=C.useState(xE.phase),w=A=>{A.preventDefault();const I=G9(),D=j9(r,o),k={sessionId:I,projectCode:D,timestamp:new Date().toISOString(),classification:f,agentsInvolved:sV,humanOperator:p,context:{projectName:e,phase:v,objective:u},conversation:[{turn:1,agent:Be.HUMAN,content:"Session initialized.",artifacts:[],timestamp:new Date().toISOString(),vetoed:!1}],performanceMetrics:{taskCompletion:0,governanceAdherence:0,responseAccuracy:0,crossAgentCoordination:0,founderInterventionRate:0},artifactsProduced:[],decisionsLog:[],dual_state:lV};t(k)};return K.jsxs("div",{className:"card-style p-6 max-w-4xl mx-auto my-8",children:[K.jsx("h2",{className:"section-prefix text-3xl font-bold mb-6 text-rpr-white text-center",children:"Initialize New RPR-KONTROL Session"}),K.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[K.jsxs("div",{children:[K.jsx("label",{htmlFor:"projectName",className:"block text-rpr-white text-sm font-bold mb-2",children:"Project Name"}),K.jsx("input",{type:"text",id:"projectName",className:"input-style",value:e,onChange:A=>n(A.target.value),required:!0})]}),K.jsxs("div",{children:[K.jsx("label",{htmlFor:"projectCodeClient",className:"block text-rpr-white text-sm font-bold mb-2",children:"Project Code Client"}),K.jsx("input",{type:"text",id:"projectCodeClient",className:"input-style",value:r,onChange:A=>i(A.target.value),required:!0})]}),K.jsxs("div",{children:[K.jsx("label",{htmlFor:"projectCodeTaskNum",className:"block text-rpr-white text-sm font-bold mb-2",children:"Project Code Task Number"}),K.jsx("input",{type:"number",id:"projectCodeTaskNum",className:"input-style",value:o,onChange:A=>s(parseInt(A.target.value)),min:"1",required:!0})]}),K.jsxs("div",{children:[K.jsx("label",{htmlFor:"classification",className:"block text-rpr-white text-sm font-bold mb-2",children:"Classification"}),K.jsx("select",{id:"classification",className:"input-style",value:f,onChange:A=>h(A.target.value),children:Object.values(Cn).map(A=>K.jsx("option",{value:A,children:A},A))})]}),K.jsxs("div",{children:[K.jsx("label",{htmlFor:"humanOperator",className:"block text-rpr-white text-sm font-bold mb-2",children:"Human Operator"}),K.jsx("input",{type:"text",id:"humanOperator",className:"input-style",value:p,onChange:A=>g(A.target.value),required:!0})]}),K.jsxs("div",{children:[K.jsx("label",{htmlFor:"phase",className:"block text-rpr-white text-sm font-bold mb-2",children:"Phase"}),K.jsx("select",{id:"phase",className:"input-style",value:v,onChange:A=>T(A.target.value),children:Object.values(Fl).map(A=>K.jsx("option",{value:A,children:A.charAt(0).toUpperCase()+A.slice(1)},A))})]}),K.jsxs("div",{className:"md:col-span-2",children:[K.jsx("label",{htmlFor:"objective",className:"block text-rpr-white text-sm font-bold mb-2",children:"Objective"}),K.jsx("textarea",{id:"objective",rows:3,className:"input-style",value:u,onChange:A=>c(A.target.value),required:!0})]}),K.jsx("div",{className:"md:col-span-2 text-center",children:K.jsx(to,{type:"submit",className:"w-full sm:w-auto",children:"Initialize Session"})})]})]})},J9=({session:t,onLockBaseline:e,onGenerateAuditReport:n})=>{const r=t.classification===Cn.TS_LAMBDA_3,i=t.dual_state.defense_readiness==="COLLAPSED",o=t.dual_state.validation_posture==="COMPLIANT",s=t.dual_state.validation_posture==="LOCKED";return K.jsxs("div",{className:`card-style p-6 max-w-4xl mx-auto my-8 space-y-6 ${i?"pulse-glow-cyan shadow-cyan-glow":""}`,children:[K.jsx("h2",{className:"section-prefix text-3xl font-bold text-rpr-white text-center mb-6",children:"Session Overview"}),K.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[K.jsxs("div",{className:"flex items-center",children:[K.jsx("strong",{className:"text-rpr-cyan w-1/3",children:"Session ID:"}),K.jsx("span",{className:"w-2/3 break-words",children:t.sessionId})]}),K.jsxs("div",{className:"flex items-center",children:[K.jsx("strong",{className:"text-rpr-cyan w-1/3",children:"Project Code:"}),K.jsx("span",{className:"w-2/3 break-words",children:t.projectCode})]}),K.jsxs("div",{className:"flex items-center",children:[K.jsx("strong",{className:"text-rpr-cyan w-1/3",children:"Timestamp:"}),K.jsx("span",{className:"w-2/3",children:xc(t.timestamp)})]}),K.jsxs("div",{className:"flex items-center",children:[K.jsx("strong",{className:"text-rpr-cyan w-1/3",children:"Classification:"}),K.jsx("span",{className:`w-2/3 font-semibold text-rpr-white ${r?"border border-rpr-cyan shadow-cyan-glow":""}`,style:{"--tw-shadow-color":r?"var(--rpr-cyan)":"transparent",boxShadow:r?"0 0 10px var(--rpr-cyan)":"none"},children:t.classification})]}),K.jsxs("div",{className:"flex items-center",children:[K.jsx("strong",{className:"text-rpr-cyan w-1/3",children:"Human Operator:"}),K.jsx("span",{className:"w-2/3",children:t.humanOperator})]}),K.jsxs("div",{className:"flex items-center",children:[K.jsx("strong",{className:"text-rpr-cyan w-1/3",children:"Project Name:"}),K.jsx("span",{className:"w-2/3 font-bold text-rpr-white",children:t.context.projectName})]}),K.jsxs("div",{className:"flex items-center",children:[K.jsx("strong",{className:"text-rpr-cyan w-1/3",children:"Phase:"}),K.jsx("span",{className:"w-2/3",children:t.context.phase.charAt(0).toUpperCase()+t.context.phase.slice(1)})]}),K.jsxs("div",{className:"flex items-center md:col-span-2",children:[K.jsx("strong",{className:"text-rpr-cyan w-1/3 md:w-1/6",children:"Objective:"}),K.jsx("span",{className:"w-2/3 md:w-5/6 text-justify",children:t.context.objective})]}),K.jsxs("div",{className:"md:col-span-2",children:[K.jsx("strong",{className:"text-rpr-cyan block mb-2",children:"Agents Involved:"}),K.jsx("div",{className:"flex flex-wrap gap-2",children:t.agentsInvolved.map(u=>K.jsx("span",{className:"bg-rpr-slate text-rpr-white text-xs font-medium px-2.5 py-0.5 rounded-full border border-rpr-charcoal",children:u.charAt(0).toUpperCase()+u.slice(1)},u))})]})]}),K.jsx("h3",{className:"section-prefix text-2xl font-semibold text-rpr-white mt-8 mb-4",children:"Dual State"}),K.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-md border ${i?"border-red-500 bg-red-900 bg-opacity-20 shadow-[0_0_10px_rgba(239,68,68,0.7)]":"border-rpr-slate bg-rpr-charcoal"}`,children:[K.jsxs("div",{className:"flex items-center",children:[K.jsx("strong",{className:"text-rpr-cyan w-1/2",children:"Validation Posture:"}),K.jsx("span",{className:`w-1/2 font-medium ${o?"text-rpr-cyan border border-rpr-cyan":s?"text-gray-400 border border-gray-600":"text-orange-400"}`,children:t.dual_state.validation_posture})]}),K.jsxs("div",{className:"flex items-center",children:[K.jsx("strong",{className:"text-rpr-cyan w-1/2",children:"Defense Readiness:"}),K.jsx("span",{className:`w-1/2 font-medium ${i?"text-red-400 pulse-glow-cyan":t.dual_state.defense_readiness==="READY"?"text-rpr-teal":"text-gray-400"}`,children:t.dual_state.defense_readiness})]}),t.dual_state.last_audit_checkpoint&&K.jsxs("div",{className:"flex items-center md:col-span-2",children:[K.jsx("strong",{className:"text-rpr-cyan w-1/4 md:w-1/6",children:"Last Audit:"}),K.jsx("span",{className:"w-3/4 md:w-5/6",children:xc(t.dual_state.last_audit_checkpoint)})]}),K.jsxs("div",{className:"md:col-span-2 flex flex-wrap justify-center gap-4 mt-4",children:[!s&&K.jsx(to,{onClick:()=>e(t.sessionId),variant:"secondary",size:"sm",children:"Lock Baseline (Ground Truth)"}),s&&K.jsx("span",{className:"text-gray-400 text-sm italic py-1 px-3 border border-gray-600 rounded",children:"Baseline Locked"}),i&&K.jsx(to,{onClick:()=>n(t),variant:"primary",size:"sm",className:"animate-pulse",children:"Generate Audit Defense Report"})]})]}),K.jsx("h3",{className:"section-prefix text-2xl font-semibold text-rpr-white mt-8 mb-4",children:"Artifacts Produced"}),t.artifactsProduced.length>0?K.jsx("ul",{className:"list-disc list-inside space-y-1 text-rpr-white",children:t.artifactsProduced.map((u,c)=>K.jsxs("li",{children:[K.jsx("span",{className:"font-medium text-rpr-white",children:u.title})," (Type: ",u.type.charAt(0).toUpperCase()+u.type.slice(1),", Version: ",u.version,")",u.filePath&&K.jsxs("span",{className:"text-sm text-gray-400",children:[" - Path: ",u.filePath]}),u.uri&&K.jsx("a",{href:u.uri,target:"_blank",rel:"noopener noreferrer",className:"text-rpr-cyan hover:underline text-sm ml-2",children:"Link"})]},c))}):K.jsx("p",{className:"text-gray-400",children:"No artifacts recorded yet."}),K.jsx("h3",{className:"section-prefix text-2xl font-semibold text-rpr-white mt-8 mb-4",children:"Decisions Log"}),t.decisionsLog.length>0?K.jsx("ul",{className:"list-decimal list-inside space-y-2 text-rpr-white",children:t.decisionsLog.map((u,c)=>K.jsxs("li",{className:"bg-rpr-slate p-3 rounded-md border border-rpr-charcoal",children:[K.jsx("strong",{className:"block text-rpr-white",children:u.decision}),K.jsxs("span",{className:"text-sm text-gray-300 block",children:["Rationale: ",u.rationale]}),K.jsxs("span",{className:"text-xs text-gray-400 block",children:["Authority: ",u.authority.replace("_"," ").toLowerCase()," | ",xc(u.timestamp)]})]},c))}):K.jsx("p",{className:"text-gray-400",children:"No decisions logged yet."})]})},X9=({conversation:t})=>K.jsxs("div",{className:"card-style p-6 max-w-4xl mx-auto my-8 space-y-4",children:[K.jsx("h2",{className:"section-prefix text-3xl font-bold text-rpr-white text-center mb-6",children:"Conversation History"}),K.jsx("div",{className:"flex flex-col space-y-4 max-h-[600px] overflow-y-auto custom-scrollbar p-2",children:t.map((e,n)=>K.jsx("div",{className:`flex ${e.agent===Be.HUMAN?"justify-end":"justify-start"}`,children:K.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg shadow-md ${e.agent===Be.HUMAN?"bg-rpr-cyan text-rpr-black":e.vetoed?"bg-red-700 text-rpr-white border border-red-500 shadow-[0_0_8px_rgba(239,68,68,0.7)]":"bg-rpr-slate text-rpr-white"}`,children:[K.jsx("div",{className:"font-semibold text-sm mb-1",children:e.agent===Be.HUMAN?"Human Operator":e.agent.charAt(0).toUpperCase()+e.agent.slice(1)}),e.vetoed&&K.jsx("div",{className:"text-red-200 font-bold text-xs mb-2 p-1 bg-red-800 rounded",children:"// SENTINEL VETO: Prohibited Content Detected"}),K.jsx("p",{className:"whitespace-pre-wrap",children:e.content}),K.jsx("div",{className:"text-xs text-gray-400 mt-1 text-right",children:xc(e.timestamp)})]})},n))}),t.length===0&&K.jsx("p",{className:"text-gray-400 text-center mt-4",children:"No conversation turns recorded yet."})]});function cV(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=cV(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function it(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=cV(t))&&(r&&(r+=" "),r+=e);return r}var Q9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function kw(t){if(typeof t!="string")return!1;var e=Q9;return e.includes(t)}var Z9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eG=new Set(Z9);function fV(t){return typeof t!="string"?!1:eG.has(t)}function dV(t){return typeof t=="string"&&t.startsWith("data-")}function mn(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(fV(n)||dV(n))&&(e[n]=t[n]);return e}function nf(t){if(t==null)return null;if(C.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return mn(e)}return typeof t=="object"&&!Array.isArray(t)?mn(t):null}function Dn(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(fV(n)||dV(n)||kw(n))&&(e[n]=t[n]);return e}function tG(t){return t==null?null:C.isValidElement(t)?Dn(t.props):typeof t=="object"&&!Array.isArray(t)?Dn(t):null}var nG=["children","width","height","viewBox","className","style","title","desc"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(null,arguments)}function rG(t,e){if(t==null)return{};var n,r,i=iG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lw=C.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:u,title:c,desc:f}=t,h=rG(t,nG),p=o||{width:r,height:i,x:0,y:0},g=it("recharts-surface",s);return C.createElement("svg",Hb({},Dn(h),{className:g,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),C.createElement("title",null,c),C.createElement("desc",null,f),n)}),oG=["children","className"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gb.apply(null,arguments)}function aG(t,e){if(t==null)return{};var n,r,i=sG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kn=C.forwardRef((t,e)=>{var{children:n,className:r}=t,i=aG(t,oG),o=it("recharts-layer",r);return C.createElement("g",Gb({className:o},Dn(i),{ref:e}),n)}),Uw=aV(),hV=C.createContext(null),lG=()=>C.useContext(hV);function Dt(t){return function(){return t}}const pV=Math.cos,Lg=Math.sin,ho=Math.sqrt,Ug=Math.PI,av=2*Ug,jb=Math.PI,$b=2*jb,kl=1e-6,uG=$b-kl;function mV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function cG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return mV;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class fG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?mV:cG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,u=this._y1,c=r-e,f=i-n,h=s-e,p=u-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>kl)if(!(Math.abs(p*c-f*h)>kl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-s,T=i-u,w=c*c+f*f,A=v*v+T*T,I=Math.sqrt(w),D=Math.sqrt(g),k=o*Math.tan((jb-Math.acos((w+g-A)/(2*I*D)))/2),z=k/D,G=k/I;Math.abs(z-1)>kl&&this._append`L${e+z*h},${n+z*p}`,this._append`A${o},${o},0,0,${+(p*v>h*T)},${this._x1=e+G*c},${this._y1=n+G*f}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,h=n+c,p=1^s,g=s?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>kl||Math.abs(this._y1-h)>kl)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%$b+$b),g>uG?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>kl&&this._append`A${r},${r},0,${+(g>=jb)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Vw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new fG(e)}function Bw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gV(t){this._context=t}gV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sv(t){return new gV(t)}function yV(t){return t[0]}function vV(t){return t[1]}function _V(t,e){var n=Dt(!0),r=null,i=sv,o=null,s=Vw(u);t=typeof t=="function"?t:t===void 0?yV:Dt(t),e=typeof e=="function"?e:e===void 0?vV:Dt(e);function u(c){var f,h=(c=Bw(c)).length,p,g=!1,v;for(r==null&&(o=i(v=s())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+t(p,f,c),+e(p,f,c));if(v)return o=null,v+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Dt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Dt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Dt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function Bm(t,e,n){var r=null,i=Dt(!0),o=null,s=sv,u=null,c=Vw(f);t=typeof t=="function"?t:t===void 0?yV:Dt(+t),e=typeof e=="function"?e:Dt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?vV:Dt(+n);function f(p){var g,v,T,w=(p=Bw(p)).length,A,I=!1,D,k=new Array(w),z=new Array(w);for(o==null&&(u=s(D=c())),g=0;g<=w;++g){if(!(g<w&&i(A=p[g],g,p))===I)if(I=!I)v=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),T=g-1;T>=v;--T)u.point(k[T],z[T]);u.lineEnd(),u.areaEnd()}I&&(k[g]=+t(A,g,p),z[g]=+e(A,g,p),u.point(r?+r(A,g,p):k[g],n?+n(A,g,p):z[g]))}if(D)return u=null,D+""||null}function h(){return _V().defined(i).curve(s).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Dt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Dt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Dt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Dt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Dt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Dt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Dt(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,o!=null&&(u=s(o)),f):s},f.context=function(p){return arguments.length?(p==null?o=u=null:u=s(o=p),f):o},f}class EV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function dG(t){return new EV(t,!0)}function hG(t){return new EV(t,!1)}const Fw={draw(t,e){const n=ho(e/Ug);t.moveTo(n,0),t.arc(0,0,n,0,av)}},pG={draw(t,e){const n=ho(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},SV=ho(1/3),mG=SV*2,gG={draw(t,e){const n=ho(e/mG),r=n*SV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},yG={draw(t,e){const n=ho(e),r=-n/2;t.rect(r,r,n,n)}},vG=.8908130915292852,bV=Lg(Ug/10)/Lg(7*Ug/10),_G=Lg(av/10)*bV,EG=-pV(av/10)*bV,SG={draw(t,e){const n=ho(e*vG),r=_G*n,i=EG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=av*o/5,u=pV(s),c=Lg(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},CE=ho(3),bG={draw(t,e){const n=-ho(e/(CE*3));t.moveTo(0,n*2),t.lineTo(-CE*n,-n),t.lineTo(CE*n,-n),t.closePath()}},Ti=-.5,wi=ho(3)/2,Kb=1/ho(12),TG=(Kb/2+1)*3,wG={draw(t,e){const n=ho(e/TG),r=n/2,i=n*Kb,o=r,s=n*Kb+n,u=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(u,c),t.lineTo(Ti*r-wi*i,wi*r+Ti*i),t.lineTo(Ti*o-wi*s,wi*o+Ti*s),t.lineTo(Ti*u-wi*c,wi*u+Ti*c),t.lineTo(Ti*r+wi*i,Ti*i-wi*r),t.lineTo(Ti*o+wi*s,Ti*s-wi*o),t.lineTo(Ti*u+wi*c,Ti*c-wi*u),t.closePath()}};function AG(t,e){let n=null,r=Vw(i);t=typeof t=="function"?t:Dt(t||Fw),e=typeof e=="function"?e:Dt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Dt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Dt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Vg(){}function Bg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function TV(t){this._context=t}TV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xG(t){return new TV(t)}function wV(t){this._context=t}wV.prototype={areaStart:Vg,areaEnd:Vg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CG(t){return new wV(t)}function AV(t){this._context=t}AV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IG(t){return new AV(t)}function xV(t){this._context=t}xV.prototype={areaStart:Vg,areaEnd:Vg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function PG(t){return new xV(t)}function pR(t){return t<0?-1:1}function mR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(o*i+s*r)/(r+i);return(pR(o)+pR(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function gR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function IE(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,s-u*n,o,s)}function Fg(t){this._context=t}Fg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:IE(this,this._t0,gR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,IE(this,gR(this,n=mR(this,t,e)),n);break;default:IE(this,this._t0,n=mR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function CV(t){this._context=new IV(t)}(CV.prototype=Object.create(Fg.prototype)).point=function(t,e){Fg.prototype.point.call(this,e,t)};function IV(t){this._context=t}IV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function RG(t){return new Fg(t)}function NG(t){return new CV(t)}function PV(t){this._context=t}PV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=yR(t),i=yR(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yR(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function OG(t){return new PV(t)}function lv(t,e){this._context=t,this._t=e}lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function MG(t){return new lv(t,.5)}function DG(t){return new lv(t,0)}function kG(t){return new lv(t,1)}function Ql(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,u=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Yb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function LG(t,e){return t[e]}function UG(t){const e=[];return e.key=t,e}function VG(){var t=Dt([]),e=Yb,n=Ql,r=LG;function i(o){var s=Array.from(t.apply(this,arguments),UG),u,c=s.length,f=-1,h;for(const p of o)for(u=0,++f;u<c;++u)(s[u][f]=[0,+r(p,s[u].key,f,o)]).data=p;for(u=0,h=Bw(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Dt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Dt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Yb:typeof o=="function"?o:Dt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ql,i):n},i}function BG(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Ql(t,e)}}function FG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}Ql(t,e)}}function zG(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],p=h[r][1]||0,g=h[r-1][1]||0,v=(p-g)/2,T=0;T<u;++T){var w=t[e[T]],A=w[r][1]||0,I=w[r-1][1]||0;v+=A-I}c+=p,f+=v*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Ql(t,e)}}var PE={},RE={},vR;function qG(){return vR||(vR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(RE)),RE}var NE={},_R;function RV(){return _R||(_R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(NE)),NE}var OE={},ER;function zw(){return ER||(ER=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(OE)),OE}var ME={},DE={},SR;function HG(){return SR||(SR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(DE)),DE}var bR;function qw(){return bR||(bR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HG(),n=zw();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],s=i.length;if(s===0)return o;let u=0,c="",f="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<s;){const p=i[u];f?p==="\\"&&u+1<s?(u++,c+=i[u]):p===f?f="":c+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,o.push(c),c=""):c+=p:p==="["?(h=!0,c&&(o.push(c),c="")):p==="."?c&&(o.push(c),c=""):c+=p,u++}return c&&o.push(c),o}t.toPath=r})(ME)),ME}var TR;function Hw(){return TR||(TR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qG(),n=RV(),r=zw(),i=qw();function o(u,c,f){if(u==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?n.isDeepKey(c)?o(u,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?f:h}default:{if(Array.isArray(c))return s(u,c,f);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?f:h}}}function s(u,c,f){if(c.length===0)return f;let h=u;for(let p=0;p<c.length;p++){if(h==null||e.isUnsafeProperty(c[p]))return f;h=h[c[p]]}return h===void 0?f:h}t.get=o})(PE)),PE}var kE,wR;function GG(){return wR||(wR=1,kE=Hw().get),kE}var jG=GG();const Bc=$r(jG);var $G=4;function Hs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$G,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Xt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,o,s)=>{var u=n[s-1];return typeof u=="string"?i+u+o:u!==void 0?i+Hs(u)+o:i+o},"")}var zr=t=>t===0?0:t>0?1:-1,uo=t=>typeof t=="number"&&t!=+t,Ua=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Re=t=>(typeof t=="number"||t instanceof Number)&&!uo(t),Jo=t=>Re(t)||typeof t=="string",KG=0,ah=t=>{var e=++KG;return"".concat(t||"").concat(e)},co=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(e)&&typeof e!="string")return r;var o;if(Ua(e)){if(n==null)return r;var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return uo(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},NV=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function dn(t,e,n){return Re(t)&&Re(e)?Hs(t+n*(e-t)):e}function YG(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Bc(r,e))===n)}var gn=t=>t===null||typeof t>"u",Mh=t=>gn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function WG(t){return t!=null}function Dh(){}var JG=["type","size","sizeType"];function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wb.apply(null,arguments)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){XG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XG(t,e,n){return(e=QG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QG(t){var e=ZG(t,"string");return typeof e=="symbol"?e:e+""}function ZG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ej(t,e){if(t==null)return{};var n,r,i=tj(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tj(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var OV={symbolCircle:Fw,symbolCross:pG,symbolDiamond:gG,symbolSquare:yG,symbolStar:SG,symbolTriangle:bG,symbolWye:wG},nj=Math.PI/180,rj=t=>{var e="symbol".concat(Mh(t));return OV[e]||Fw},ij=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*nj;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},oj=(t,e)=>{OV["symbol".concat(Mh(t))]=e},Gw=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=ej(t,JG),o=xR(xR({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var u=()=>{var g=rj(s),v=AG().type(g).size(ij(n,r,s)),T=v();if(T!==null)return T},{className:c,cx:f,cy:h}=o,p=Dn(o);return Re(f)&&Re(h)&&Re(n)?C.createElement("path",Wb({},p,{className:it("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};Gw.registerSymbol=oj;var MV=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,jw=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{kw(i)&&(r[i]=(o=>n[i](n,o)))}),r},aj=(t,e,n)=>r=>(t(e,n,r),null),rf=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];kw(i)&&typeof o=="function"&&(r||(r={}),r[i]=aj(o,e,n))}),r};function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){lj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lj(t,e,n){return(e=uj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uj(t){var e=cj(t,"string");return typeof e=="symbol"?e:e+""}function cj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nn(t,e){var n=sj({},t),r=e,i=Object.keys(e),o=i.reduce((s,u)=>(s[u]===void 0&&r[u]!==void 0&&(s[u]=r[u]),s),n);return o}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(null,arguments)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){dj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dj(t,e,n){return(e=hj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hj(t){var e=pj(t,"string");return typeof e=="symbol"?e:e+""}function pj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xi=32,mj={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function gj(t){var{data:e,iconType:n,inactiveColor:r}=t,i=xi/2,o=xi/6,s=xi/3,u=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline"){var f;return C.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(f=e.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:xi,y2:i,className:"recharts-legend-icon"})}if(c==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(xi,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return C.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(xi/8,"h").concat(xi,"v").concat(xi*3/4,"h").concat(-xi,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var h=fj({},e);return delete h.legendIcon,C.cloneElement(e.legendIcon,h)}return C.createElement(Gw,{fill:u,cx:i,cy:i,size:xi,sizeType:"diameter",type:c})}function yj(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:s}=t,u={x:0,y:0,width:xi,height:xi},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var g=h.formatter||i,v=it({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var T=h.inactive?o:h.color,w=g?g(h.value,h,p):h.value;return C.createElement("li",zg({className:v,style:c,key:"legend-item-".concat(p)},rf(t,h,p)),C.createElement(Lw,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(w," legend icon")},C.createElement(gj,{data:h,iconType:s,inactiveColor:o})),C.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},w))})}var vj=t=>{var e=Nn(t,mj),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:o},C.createElement(yj,zg({},e,{payload:n})))},LE={},UE={},PR;function _j(){return PR||(PR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],u=r(s,o,n);i.has(u)||i.set(u,s)}return Array.from(i.values())}t.uniqBy=e})(UE)),UE}var VE={},RR;function Ej(){return RR||(RR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(VE)),VE}var BE={},NR;function uv(){return NR||(NR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(BE)),BE}var FE={},zE={},qE={},OR;function Sj(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(qE)),qE}var MR;function $w(){return MR||(MR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sj();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(zE)),zE}var HE={},DR;function bj(){return DR||(DR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(HE)),HE}var kR;function Tj(){return kR||(kR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$w(),n=bj();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(FE)),FE}var GE={},jE={},LR;function wj(){return LR||(LR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hw();function n(r){return function(i){return e.get(i,r)}}t.property=n})(jE)),jE}var $E={},KE={},YE={},WE={},UR;function DV(){return UR||(UR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(WE)),WE}var JE={},VR;function kV(){return VR||(VR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(JE)),JE}var XE={},BR;function LV(){return BR||(BR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(XE)),XE}var FR;function Aj(){return FR||(FR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DV(),n=kV(),r=LV();function i(h,p,g){return typeof g!="function"?i(h,p,()=>{}):o(h,p,function v(T,w,A,I,D,k){const z=g(T,w,A,I,D,k);return z!==void 0?!!z:o(T,w,v,k)},new Map)}function o(h,p,g,v){if(p===h)return!0;switch(typeof p){case"object":return s(h,p,g,v);case"function":return Object.keys(p).length>0?o(h,{...p},g,v):r.isEqualsSameValueZero(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(h,p)}}function s(h,p,g,v){if(p==null)return!0;if(Array.isArray(p))return c(h,p,g,v);if(p instanceof Map)return u(h,p,g,v);if(p instanceof Set)return f(h,p,g,v);const T=Object.keys(p);if(h==null||n.isPrimitive(h))return T.length===0;if(T.length===0)return!0;if(v!=null&&v.has(p))return v.get(p)===h;v==null||v.set(p,h);try{for(let w=0;w<T.length;w++){const A=T[w];if(!n.isPrimitive(h)&&!(A in h)||p[A]===void 0&&h[A]!==void 0||p[A]===null&&h[A]!==null||!g(h[A],p[A],A,h,p,v))return!1}return!0}finally{v==null||v.delete(p)}}function u(h,p,g,v){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[T,w]of p.entries()){const A=h.get(T);if(g(A,w,T,h,p,v)===!1)return!1}return!0}function c(h,p,g,v){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const T=new Set;for(let w=0;w<p.length;w++){const A=p[w];let I=!1;for(let D=0;D<h.length;D++){if(T.has(D))continue;const k=h[D];let z=!1;if(g(k,A,w,h,p,v)&&(z=!0),z){T.add(D),I=!0;break}}if(!I)return!1}return!0}function f(h,p,g,v){return p.size===0?!0:h instanceof Set?c([...h],[...p],g,v):!1}t.isMatchWith=i,t.isSetMatch=f})(YE)),YE}var zR;function UV(){return zR||(zR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aj();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(KE)),KE}var QE={},ZE={},eS={},qR;function xj(){return qR||(qR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(eS)),eS}var tS={},HR;function Kw(){return HR||(HR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(tS)),tS}var nS={},GR;function VV(){return GR||(GR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",u="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",v="[object Object]",T="[object Error]",w="[object DataView]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",D="[object Uint16Array]",k="[object Uint32Array]",z="[object BigUint64Array]",G="[object Int8Array]",L="[object Int16Array]",N="[object Int32Array]",M="[object BigInt64Array]",O="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=g,t.arrayTag=h,t.bigInt64ArrayTag=M,t.bigUint64ArrayTag=z,t.booleanTag=i,t.dataViewTag=w,t.dateTag=u,t.errorTag=T,t.float32ArrayTag=O,t.float64ArrayTag=q,t.functionTag=p,t.int16ArrayTag=L,t.int32ArrayTag=N,t.int8ArrayTag=G,t.mapTag=c,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=D,t.uint32ArrayTag=k,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=I})(nS)),nS}var rS={},jR;function Cj(){return jR||(jR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(rS)),rS}var $R;function BV(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xj(),n=Kw(),r=VV(),i=kV(),o=Cj();function s(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,g,v=new Map,T=void 0){const w=T==null?void 0:T(h,p,g,v);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(v.has(h))return v.get(h);if(Array.isArray(h)){const A=new Array(h.length);v.set(h,A);for(let I=0;I<h.length;I++)A[I]=u(h[I],I,g,v,T);return Object.hasOwn(h,"index")&&(A.index=h.index),Object.hasOwn(h,"input")&&(A.input=h.input),A}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const A=new RegExp(h.source,h.flags);return A.lastIndex=h.lastIndex,A}if(h instanceof Map){const A=new Map;v.set(h,A);for(const[I,D]of h)A.set(I,u(D,I,g,v,T));return A}if(h instanceof Set){const A=new Set;v.set(h,A);for(const I of h)A.add(u(I,void 0,g,v,T));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const A=new(Object.getPrototypeOf(h)).constructor(h.length);v.set(h,A);for(let I=0;I<h.length;I++)A[I]=u(h[I],I,g,v,T);return A}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const A=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return v.set(h,A),c(A,h,g,v,T),A}if(typeof File<"u"&&h instanceof File){const A=new File([h],h.name,{type:h.type});return v.set(h,A),c(A,h,g,v,T),A}if(typeof Blob<"u"&&h instanceof Blob){const A=new Blob([h],{type:h.type});return v.set(h,A),c(A,h,g,v,T),A}if(h instanceof Error){const A=new h.constructor;return v.set(h,A),A.message=h.message,A.name=h.name,A.stack=h.stack,A.cause=h.cause,c(A,h,g,v,T),A}if(h instanceof Boolean){const A=new Boolean(h.valueOf());return v.set(h,A),c(A,h,g,v,T),A}if(h instanceof Number){const A=new Number(h.valueOf());return v.set(h,A),c(A,h,g,v,T),A}if(h instanceof String){const A=new String(h.valueOf());return v.set(h,A),c(A,h,g,v,T),A}if(typeof h=="object"&&f(h)){const A=Object.create(Object.getPrototypeOf(h));return v.set(h,A),c(A,h,g,v,T),A}return h}function c(h,p,g=h,v,T){const w=[...Object.keys(p),...e.getSymbols(p)];for(let A=0;A<w.length;A++){const I=w[A],D=Object.getOwnPropertyDescriptor(h,I);(D==null||D.writable)&&(h[I]=u(p[I],I,g,v,T))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=u,t.copyProperties=c})(ZE)),ZE}var KR;function Ij(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BV();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(QE)),QE}var YR;function Pj(){return YR||(YR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UV(),n=Ij();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})($E)),$E}var iS={},oS={},aS={},WR;function Rj(){return WR||(WR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BV(),n=Kw(),r=VV();function i(o,s){return e.cloneDeepWith(o,(u,c,f,h)=>{const p=s==null?void 0:s(u,c,f,h);if(p!==void 0)return p;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const g={};return h.set(o,g),e.copyProperties(g,o,f,h),g}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new o.constructor(o==null?void 0:o.valueOf());return e.copyProperties(g,o),g}case r.argumentsTag:{const g={};return e.copyProperties(g,o),g.length=o.length,g[Symbol.iterator]=o[Symbol.iterator],g}default:return}}})}t.cloneDeepWith=i})(aS)),aS}var JR;function Nj(){return JR||(JR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rj();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(oS)),oS}var sS={},lS={},XR;function FV(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(lS)),lS}var uS={},QR;function Oj(){return QR||(QR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kw();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(uS)),uS}var ZR;function Mj(){return ZR||(ZR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RV(),n=FV(),r=Oj(),i=qw();function o(s,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&(s==null?void 0:s[u])==null?c=i.toPath(u):c=[u],c.length===0)return!1;let f=s;for(let h=0;h<c.length;h++){const p=c[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=o})(sS)),sS}var eN;function Dj(){return eN||(eN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UV(),n=zw(),r=Nj(),i=Hw(),o=Mj();function s(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(f){const h=i.get(f,u);return h===void 0?o.has(f,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=s})(iS)),iS}var tN;function Yw(){return tN||(tN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uv(),n=wj(),r=Pj(),i=Dj();function o(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=o})(GE)),GE}var nN;function kj(){return nN||(nN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_j(),n=Ej(),r=uv(),i=Tj(),o=Yw();function s(u,c=r.identity){return i.isArrayLikeObject(u)?e.uniqBy(Array.from(u),n.ary(o.iteratee(c),1)):[]}t.uniqBy=s})(LE)),LE}var cS,rN;function Lj(){return rN||(rN=1,cS=kj().uniqBy),cS}var Uj=Lj();const iN=$r(Uj);function zV(t,e,n){return e===!0?iN(t,n):typeof e=="function"?iN(t,e):t}var fS={exports:{}},dS={},hS={exports:{}},pS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN;function Vj(){if(oN)return pS;oN=1;var t=tf();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function u(p,g){var v=g(),T=r({inst:{value:v,getSnapshot:g}}),w=T[0].inst,A=T[1];return o(function(){w.value=v,w.getSnapshot=g,c(w)&&A({inst:w})},[p,v,g]),i(function(){return c(w)&&A({inst:w}),p(function(){c(w)&&A({inst:w})})},[p]),s(v),v}function c(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return pS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,pS}var aN;function Bj(){return aN||(aN=1,hS.exports=Vj()),hS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN;function Fj(){if(sN)return dS;sN=1;var t=tf(),e=Bj();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,u=t.useMemo,c=t.useDebugValue;return dS.useSyncExternalStoreWithSelector=function(f,h,p,g,v){var T=o(null);if(T.current===null){var w={hasValue:!1,value:null};T.current=w}else w=T.current;T=u(function(){function I(L){if(!D){if(D=!0,k=L,L=g(L),v!==void 0&&w.hasValue){var N=w.value;if(v(N,L))return z=N}return z=L}if(N=z,r(k,L))return N;var M=g(L);return v!==void 0&&v(N,M)?(k=L,N):(k=L,z=M)}var D=!1,k,z,G=p===void 0?null:p;return[function(){return I(h())},G===null?void 0:function(){return I(G())}]},[h,p,g,v]);var A=i(f,T[0],T[1]);return s(function(){w.hasValue=!0,w.value=A},[A]),c(A),A},dS}var lN;function zj(){return lN||(lN=1,fS.exports=Fj()),fS.exports}var qj=zj(),Ww=C.createContext(null),Hj=t=>t,Pt=()=>{var t=C.useContext(Ww);return t?t.store.dispatch:Hj},vg=()=>{},Gj=()=>vg,jj=(t,e)=>t===e;function Ae(t){var e=C.useContext(Ww);return qj.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Gj,e?e.store.getState:vg,e?e.store.getState:vg,e?t:vg,jj)}function $j(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Kj(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Yj(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var uN=t=>Array.isArray(t)?t:[t];function Wj(t){const e=Array.isArray(t[0])?t[0]:t;return Yj(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Jj(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Xj=class{constructor(t){this.value=t}deref(){return this.value}},Qj=typeof WeakRef<"u"?WeakRef:Xj,Zj=0,cN=1;function Fm(){return{s:Zj,v:void 0,o:null,p:null}}function qV(t,e={}){let n=Fm();const{resultEqualityCheck:r}=e;let i,o=0;function s(){var p;let u=n;const{length:c}=arguments;for(let g=0,v=c;g<v;g++){const T=arguments[g];if(typeof T=="function"||typeof T=="object"&&T!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const A=w.get(T);A===void 0?(u=Fm(),w.set(T,u)):u=A}else{let w=u.p;w===null&&(u.p=w=new Map);const A=w.get(T);A===void 0?(u=Fm(),w.set(T,u)):u=A}}const f=u;let h;if(u.s===cN)h=u.v;else if(h=t.apply(null,arguments),o++,r){const g=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;g!=null&&r(g,h)&&(h=g,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Qj(h):h}return f.s=cN,f.v=h,h}return s.clearCache=()=>{n=Fm(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function e$(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,s=0,u,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),$j(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:v=qV,argsMemoizeOptions:T=[]}=h,w=uN(g),A=uN(T),I=Wj(i),D=p(function(){return o++,f.apply(null,arguments)},...w),k=v(function(){s++;const G=Jj(I,arguments);return u=D.apply(null,G),u},...A);return Object.assign(k,{resultFunc:f,memoizedResultFunc:D,dependencies:I,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var Z=e$(qV),t$=Object.assign((t,e=Z)=>{Kj(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((s,u,c)=>(s[n[c]]=u,s),{}))},{withTypes:()=>t$}),mS={},gS={},yS={},fN;function n$(){return fN||(fN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=e(r),u=e(i);if(s===u&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-s:s-u}return 0};t.compareValues=n})(yS)),yS}var vS={},_S={},dN;function HV(){return dN||(dN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(_S)),_S}var hN;function r$(){return hN||(hN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HV(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}t.isKey=i})(vS)),vS}var pN;function i$(){return pN||(pN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n$(),n=r$(),r=qw();function i(o,s,u,c){if(o==null)return[];u=c?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(v=>String(v));const f=(v,T)=>{let w=v;for(let A=0;A<T.length&&w!=null;++A)w=w[T[A]];return w},h=(v,T)=>T==null||v==null?T:typeof v=="object"&&"key"in v?Object.hasOwn(T,v.key)?T[v.key]:f(T,v.path):typeof v=="function"?v(T):Array.isArray(v)?f(T,v):typeof T=="object"?T[v]:T,p=s.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return o.map(v=>({original:v,criteria:p.map(T=>h(T,v))})).slice().sort((v,T)=>{for(let w=0;w<p.length;w++){const A=e.compareValues(v.criteria[w],T.criteria[w],u[w]);if(A!==0)return A}return 0}).map(v=>v.original)}t.orderBy=i})(gS)),gS}var ES={},mN;function o$(){return mN||(mN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),s=(u,c)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&c<o?s(h,c+1):i.push(h)}};return s(n,0),i}t.flatten=e})(ES)),ES}var SS={},gN;function GV(){return gN||(gN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FV(),n=$w(),r=DV(),i=LV();function o(s,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.isEqualsSameValueZero(c[u],s):!1}t.isIterateeCall=o})(SS)),SS}var yN;function a$(){return yN||(yN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i$(),n=o$(),r=GV();function i(o,...s){const u=s.length;return u>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:u>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(o,n.flatten(s),["asc"])}t.sortBy=i})(mS)),mS}var bS,vN;function s$(){return vN||(vN=1,bS=a$().sortBy),bS}var l$=s$();const cv=$r(l$);var jV=t=>t.legend.settings,u$=t=>t.legend.size,c$=t=>t.legend.payload,f$=Z([c$,jV],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?cv(r,n):r});function d$(){return Ae(f$)}var zm=1;function $V(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-e.height)>zm||Math.abs(s.left-e.left)>zm||Math.abs(s.top-e.top)>zm||Math.abs(s.width-e.width)>zm)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function rr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var h$=typeof Symbol=="function"&&Symbol.observable||"@@observable",_N=h$,TS=()=>Math.random().toString(36).substring(7).split("").join("."),p$={INIT:`@@redux/INIT${TS()}`,REPLACE:`@@redux/REPLACE${TS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${TS()}`},qg=p$;function Jw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function KV(t,e,n){if(typeof t!="function")throw new Error(rr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rr(1));return n(KV)(t,e)}let r=t,i=e,o=new Map,s=o,u=0,c=!1;function f(){s===o&&(s=new Map,o.forEach((A,I)=>{s.set(I,A)}))}function h(){if(c)throw new Error(rr(3));return i}function p(A){if(typeof A!="function")throw new Error(rr(4));if(c)throw new Error(rr(5));let I=!0;f();const D=u++;return s.set(D,A),function(){if(I){if(c)throw new Error(rr(6));I=!1,f(),s.delete(D),o=null}}}function g(A){if(!Jw(A))throw new Error(rr(7));if(typeof A.type>"u")throw new Error(rr(8));if(typeof A.type!="string")throw new Error(rr(17));if(c)throw new Error(rr(9));try{c=!0,i=r(i,A)}finally{c=!1}return(o=s).forEach(D=>{D()}),A}function v(A){if(typeof A!="function")throw new Error(rr(10));r=A,g({type:qg.REPLACE})}function T(){const A=p;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(rr(11));function D(){const z=I;z.next&&z.next(h())}return D(),{unsubscribe:A(D)}},[_N](){return this}}}return g({type:qg.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:v,[_N]:T}}function m$(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:qg.INIT})>"u")throw new Error(rr(12));if(typeof n(void 0,{type:qg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rr(13))})}function YV(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{m$(n)}catch(o){i=o}return function(s={},u){if(i)throw i;let c=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],v=s[p],T=g(v,u);if(typeof T>"u")throw u&&u.type,new Error(rr(14));f[p]=T,c=c||T!==v}return c=c||r.length!==Object.keys(s).length,c?f:s}}function Hg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function g$(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(rr(15))};const s={getState:i.getState,dispatch:(c,...f)=>o(c,...f)},u=t.map(c=>c(s));return o=Hg(...u)(i.dispatch),{...i,dispatch:o}}}function WV(t){return Jw(t)&&"type"in t&&typeof t.type=="string"}var JV=Symbol.for("immer-nothing"),EN=Symbol.for("immer-draftable"),Ir=Symbol.for("immer-state");function Wi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ai=Object,Fc=ai.getPrototypeOf,Gg="constructor",fv="prototype",Jb="configurable",jg="enumerable",_g="writable",sh="value",Va=t=>!!t&&!!t[Ir];function fo(t){var e;return t?XV(t)||hv(t)||!!t[EN]||!!((e=t[Gg])!=null&&e[EN])||pv(t)||mv(t):!1}var y$=ai[fv][Gg].toString(),SN=new WeakMap;function XV(t){if(!t||!Xw(t))return!1;const e=Fc(t);if(e===null||e===ai[fv])return!0;const n=ai.hasOwnProperty.call(e,Gg)&&e[Gg];if(n===Object)return!0;if(!gc(n))return!1;let r=SN.get(n);return r===void 0&&(r=Function.toString.call(n),SN.set(n,r)),r===y$}function dv(t,e,n=!0){kh(t)===0?(n?Reflect.ownKeys(t):ai.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function kh(t){const e=t[Ir];return e?e.type_:hv(t)?1:pv(t)?2:mv(t)?3:0}var bN=(t,e,n=kh(t))=>n===2?t.has(e):ai[fv].hasOwnProperty.call(t,e),Xb=(t,e,n=kh(t))=>n===2?t.get(e):t[e],$g=(t,e,n,r=kh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function v$(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var hv=Array.isArray,pv=t=>t instanceof Map,mv=t=>t instanceof Set,Xw=t=>typeof t=="object",gc=t=>typeof t=="function",wS=t=>typeof t=="boolean";function _$(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var xa=t=>t.copy_||t.base_,Qw=t=>t.modified_?t.copy_:t.base_;function Qb(t,e){if(pv(t))return new Map(t);if(mv(t))return new Set(t);if(hv(t))return Array[fv].slice.call(t);const n=XV(t);if(e===!0||e==="class_only"&&!n){const r=ai.getOwnPropertyDescriptors(t);delete r[Ir];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u[_g]===!1&&(u[_g]=!0,u[Jb]=!0),(u.get||u.set)&&(r[s]={[Jb]:!0,[_g]:!0,[jg]:u[jg],[sh]:t[s]})}return ai.create(Fc(t),r)}else{const r=Fc(t);if(r!==null&&n)return{...t};const i=ai.create(r);return ai.assign(i,t)}}function Zw(t,e=!1){return gv(t)||Va(t)||!fo(t)||(kh(t)>1&&ai.defineProperties(t,{set:qm,add:qm,clear:qm,delete:qm}),ai.freeze(t),e&&dv(t,(n,r)=>{Zw(r,!0)},!1)),t}function E$(){Wi(2)}var qm={[sh]:E$};function gv(t){return t===null||!Xw(t)?!0:ai.isFrozen(t)}var Kg="MapSet",Zb="Patches",TN="ArrayMethods",QV={};function Zl(t){const e=QV[t];return e||Wi(0,t),e}var wN=t=>!!QV[t],lh,ZV=()=>lh,S$=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:wN(Kg)?Zl(Kg):void 0,arrayMethodsPlugin_:wN(TN)?Zl(TN):void 0});function AN(t,e){e&&(t.patchPlugin_=Zl(Zb),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function eT(t){tT(t),t.drafts_.forEach(b$),t.drafts_=null}function tT(t){t===lh&&(lh=t.parent_)}var xN=t=>lh=S$(lh,t);function b$(t){const e=t[Ir];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function CN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Ir].modified_&&(eT(e),Wi(4)),fo(t)&&(t=IN(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Ir].base_,t,e)}else t=IN(e,n);return T$(e,t,!0),eT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==JV?t:void 0}function IN(t,e){if(gv(e))return e;const n=e[Ir];if(!n)return Yg(e,t.handledSet_,t);if(!yv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);n4(n,t)}return n.copy_}function T$(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Zw(e,n)}function e4(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var yv=(t,e)=>t.scope_===e,w$=[];function t4(t,e,n,r){const i=xa(t),o=t.type_;if(r!==void 0&&Xb(i,r,o)===e){$g(i,r,n,o);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;dv(i,(c,f)=>{if(Va(f)){const h=u.get(f)||[];h.push(c),u.set(f,h)}})}const s=t.draftLocations_.get(e)??w$;for(const u of s)$g(i,u,n,o)}function A$(t,e,n){t.callbacks_.push(function(i){var u;const o=e;if(!o||!yv(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const s=Qw(o);t4(t,o.draft_??o,s,n),n4(o,i)})}function n4(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const o=i.getPath(t);o&&i.generatePatches_(t,o,e)}e4(t)}}function x$(t,e,n){const{scope_:r}=t;if(Va(n)){const i=n[Ir];yv(i,r)&&i.callbacks_.push(function(){Eg(t);const s=Qw(i);t4(t,n,s,e)})}else fo(n)&&t.callbacks_.push(function(){const o=xa(t);t.type_===3?o.has(n)&&Yg(n,r.handledSet_,r):Xb(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Yg(Xb(t.copy_,e,t.type_),r.handledSet_,r)})}function Yg(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Va(t)||e.has(t)||!fo(t)||gv(t)||(e.add(t),dv(t,(r,i)=>{if(Va(i)){const o=i[Ir];if(yv(o,n)){const s=Qw(o);$g(t,r,s,t.type_),e4(o)}}else fo(i)&&Yg(i,e,n)})),t}function C$(t,e){const n=hv(t),r={type_:n?1:0,scope_:e?e.scope_:ZV(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=Wg;n&&(i=[r],o=uh);const{revoke:s,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=s,[u,r]}var Wg={get(t,e){if(e===Ir)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=xa(t);if(!bN(i,e,t.type_))return I$(t,i,e);const o=i[e];if(t.finalized_||!fo(o)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&_$(e))return o;if(o===AS(t.base_,e)){Eg(t);const s=t.type_===1?+e:e,u=rT(t.scope_,o,t,s);return t.copy_[s]=u}return o},has(t,e){return e in xa(t)},ownKeys(t){return Reflect.ownKeys(xa(t))},set(t,e,n){const r=r4(xa(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=AS(xa(t),e),o=i==null?void 0:i[Ir];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(v$(n,i)&&(n!==void 0||bN(t.base_,e,t.type_)))return!0;Eg(t),nT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),x$(t,e,n)),!0},deleteProperty(t,e){return Eg(t),AS(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),nT(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=xa(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[_g]:!0,[Jb]:t.type_!==1||e!=="length",[jg]:r[jg],[sh]:n[e]}},defineProperty(){Wi(11)},getPrototypeOf(t){return Fc(t.base_)},setPrototypeOf(){Wi(12)}},uh={};for(let t in Wg){let e=Wg[t];uh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}uh.deleteProperty=function(t,e){return uh.set.call(this,t,e,void 0)};uh.set=function(t,e,n){return Wg.set.call(this,t[0],e,n,t[0])};function AS(t,e){const n=t[Ir];return(n?xa(n):t)[e]}function I$(t,e,n){var i;const r=r4(e,n);return r?sh in r?r[sh]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function r4(t,e){if(!(e in t))return;let n=Fc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Fc(n)}}function nT(t){t.modified_||(t.modified_=!0,t.parent_&&nT(t.parent_))}function Eg(t){t.copy_||(t.assigned_=new Map,t.copy_=Qb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var P$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(gc(n)&&!gc(r)){const s=r;r=n;const u=this;return function(f=s,...h){return u.produce(f,p=>r.call(this,p,...h))}}gc(r)||Wi(6),i!==void 0&&!gc(i)&&Wi(7);let o;if(fo(n)){const s=xN(this),u=rT(s,n,void 0);let c=!0;try{o=r(u),c=!1}finally{c?eT(s):tT(s)}return AN(s,i),CN(o,s)}else if(!n||!Xw(n)){if(o=r(n),o===void 0&&(o=n),o===JV&&(o=void 0),this.autoFreeze_&&Zw(o,!0),i){const s=[],u=[];Zl(Zb).generateReplacementPatches_(n,o,{patches_:s,inversePatches_:u}),i(s,u)}return o}else Wi(1,n)},this.produceWithPatches=(n,r)=>{if(gc(n))return(u,...c)=>this.produceWithPatches(u,f=>n(f,...c));let i,o;return[this.produce(n,r,(u,c)=>{i=u,o=c}),i,o]},wS(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),wS(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),wS(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){fo(e)||Wi(8),Va(e)&&(e=ao(e));const n=xN(this),r=rT(n,e,void 0);return r[Ir].isManual_=!0,tT(n),r}finishDraft(e,n){const r=e&&e[Ir];(!r||!r.isManual_)&&Wi(9);const{scope_:i}=r;return AN(i,n),CN(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Zl(Zb).applyPatches_;return Va(e)?i(e,n):this.produce(e,o=>i(o,n))}};function rT(t,e,n,r){const[i,o]=pv(e)?Zl(Kg).proxyMap_(e,n):mv(e)?Zl(Kg).proxySet_(e,n):C$(e,n);return((n==null?void 0:n.scope_)??ZV()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?A$(n,o,r):o.callbacks_.push(function(c){var h;(h=c.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:f}=c;o.modified_&&f&&f.generatePatches_(o,[],c)}),i}function ao(t){return Va(t)||Wi(10,t),i4(t)}function i4(t){if(!fo(t)||gv(t))return t;const e=t[Ir];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Qb(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Qb(t,!0);return dv(n,(i,o)=>{$g(n,i,i4(o))},r),e&&(e.finalized_=!1),n}var R$=new P$,o4=R$.produce;function a4(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var N$=a4(),O$=a4,M$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hg:Hg.apply(null,arguments)};function Ri(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(li(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>WV(r)&&r.type===t,n}var s4=class Gd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Gd.prototype)}static get[Symbol.species](){return Gd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Gd(...e[0].concat(this)):new Gd(...e.concat(this))}};function PN(t){return fo(t)?o4(t,()=>{}):t}function Hm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function D$(t){return typeof t=="boolean"}var k$=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new s4;return n&&(D$(n)?s.push(N$):s.push(O$(n.extraArgument))),s},l4="RTK_autoBatch",jt=()=>t=>({payload:t,meta:{[l4]:!0}}),RN=t=>e=>{setTimeout(e,t)},u4=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:RN(10):t.type==="callback"?t.queueNotification:RN(t.timeout),f=()=>{s=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),g=r.subscribe(p);return u.add(h),()=>{g(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[l4]),o=!i,o&&(s||(s=!0,c(f))),r.dispatch(h)}finally{i=!0}}})},L$=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new s4(t);return r&&i.push(u4(typeof r=="object"?r:void 0)),i};function U$(t){const e=k$(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(Jw(n))u=YV(n);else throw new Error(li(1));let c;typeof r=="function"?c=r(e):c=e();let f=Hg;i&&(f=M$({trace:!1,...typeof i=="object"&&i}));const h=g$(...c),p=L$(h);let g=typeof s=="function"?s(p):p();const v=f(...g);return KV(u,o,v)}function c4(t){const e={},n=[];let r;const i={addCase(o,s){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(li(28));if(u in e)throw new Error(li(29));return e[u]=s,i},addAsyncThunk(o,s){return s.pending&&(e[o.pending.type]=s.pending),s.rejected&&(e[o.rejected.type]=s.rejected),s.fulfilled&&(e[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function V$(t){return typeof t=="function"}function B$(t,e){let[n,r,i]=c4(e),o;if(V$(t))o=()=>PN(t());else{const u=PN(t);o=()=>u}function s(u=o(),c){let f=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(Va(h)){const v=p(h,c);return v===void 0?h:v}else{if(fo(h))return o4(h,g=>p(g,c));{const g=p(h,c);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},u)}return s.getInitialState=o,s}var F$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",z$=(t=21)=>{let e="",n=t;for(;n--;)e+=F$[Math.random()*64|0];return e},q$=Symbol.for("rtk-slice-createasyncthunk");function H$(t,e){return`${t}/${e}`}function G$({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[q$];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(li(11));const u=(typeof i.reducers=="function"?i.reducers($$()):i.reducers)||{},c=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(z,G){const L=typeof z=="string"?z:z.type;if(!L)throw new Error(li(12));if(L in f.sliceCaseReducersByType)throw new Error(li(13));return f.sliceCaseReducersByType[L]=G,h},addMatcher(z,G){return f.sliceMatchers.push({matcher:z,reducer:G}),h},exposeAction(z,G){return f.actionCreators[z]=G,h},exposeCaseReducer(z,G){return f.sliceCaseReducersByName[z]=G,h}};c.forEach(z=>{const G=u[z],L={reducerName:z,type:H$(o,z),createNotation:typeof i.reducers=="function"};Y$(G)?J$(L,G,h,e):K$(L,G,h)});function p(){const[z={},G=[],L=void 0]=typeof i.extraReducers=="function"?c4(i.extraReducers):[i.extraReducers],N={...z,...f.sliceCaseReducersByType};return B$(i.initialState,M=>{for(let O in N)M.addCase(O,N[O]);for(let O of f.sliceMatchers)M.addMatcher(O.matcher,O.reducer);for(let O of G)M.addMatcher(O.matcher,O.reducer);L&&M.addDefaultCase(L)})}const g=z=>z,v=new Map,T=new WeakMap;let w;function A(z,G){return w||(w=p()),w(z,G)}function I(){return w||(w=p()),w.getInitialState()}function D(z,G=!1){function L(M){let O=M[z];return typeof O>"u"&&G&&(O=Hm(T,L,I)),O}function N(M=g){const O=Hm(v,G,()=>new WeakMap);return Hm(O,M,()=>{const q={};for(const[B,V]of Object.entries(i.selectors??{}))q[B]=j$(V,M,()=>Hm(T,M,I),G);return q})}return{reducerPath:z,getSelectors:N,get selectors(){return N(L)},selectSlice:L}}const k={name:o,reducer:A,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:I,...D(s),injectInto(z,{reducerPath:G,...L}={}){const N=G??s;return z.inject({reducerPath:N,reducer:A},L),{...k,...D(N,!0)}}};return k}}function j$(t,e,n,r){function i(o,...s){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...s)}return i.unwrapped=t,i}var Kr=G$();function $$(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function K$({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!W$(r))throw new Error(li(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?Ri(t,s):Ri(t))}function Y$(t){return t._reducerDefinitionType==="asyncThunk"}function W$(t){return t._reducerDefinitionType==="reducerWithPrepare"}function J$({type:t,reducerName:e},n,r,i){if(!i)throw new Error(li(18));const{payloadCreator:o,fulfilled:s,pending:u,rejected:c,settled:f,options:h}=n,p=i(t,o,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),u&&r.addCase(p.pending,u),c&&r.addCase(p.rejected,c),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:s||Gm,pending:u||Gm,rejected:c||Gm,settled:f||Gm})}function Gm(){}var X$="task",f4="listener",d4="completed",eA="cancelled",Q$=`task-${eA}`,Z$=`task-${d4}`,iT=`${f4}-${eA}`,e8=`${f4}-${d4}`,vv=class{constructor(t){_E(this,"name","TaskAbortError");_E(this,"message");this.code=t,this.message=`${X$} ${eA} (reason: ${t})`}},tA=(t,e)=>{if(typeof t!="function")throw new TypeError(li(32))},Jg=()=>{},h4=(t,e=Jg)=>(t.catch(e),t),p4=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),$l=t=>{if(t.aborted)throw new vv(t.reason)};function m4(t,e){let n=Jg;return new Promise((r,i)=>{const o=()=>i(new vv(t.reason));if(t.aborted){o();return}n=p4(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Jg})}var t8=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof vv?"cancelled":"rejected",error:n}}finally{e==null||e()}},Xg=t=>e=>h4(m4(t,e).then(n=>($l(t),n))),g4=t=>{const e=Xg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Cc}=Object,NN={},_v="listenerMiddleware",n8=(t,e)=>{const n=r=>p4(t,()=>r.abort(t.reason));return(r,i)=>{tA(r);const o=new AbortController;n(o);const s=t8(async()=>{$l(t),$l(o.signal);const u=await r({pause:Xg(o.signal),delay:g4(o.signal),signal:o.signal});return $l(o.signal),u},()=>o.abort(Z$));return i!=null&&i.autoJoin&&e.push(s.catch(Jg)),{result:Xg(t)(s),cancel(){o.abort(Q$)}}}},r8=(t,e)=>{const n=async(r,i)=>{$l(e);let o=()=>{};const u=[new Promise((c,f)=>{let h=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});o=()=>{h(),f()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await m4(e,Promise.race(u));return $l(e),c}finally{o()}};return(r,i)=>h4(n(r,i))},y4=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=Ri(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(li(21));return tA(o),{predicate:i,type:e,effect:o}},v4=Cc(t=>{const{type:e,predicate:n,effect:r}=y4(t);return{id:z$(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(li(22))}}},{withTypes:()=>v4}),ON=(t,e)=>{const{type:n,effect:r,predicate:i}=y4(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},oT=t=>{t.pending.forEach(e=>{e.abort(iT)})},i8=(t,e)=>()=>{for(const n of e.keys())oT(n);t.clear()},MN=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},_4=Cc(Ri(`${_v}/add`),{withTypes:()=>_4}),o8=Ri(`${_v}/removeAll`),E4=Cc(Ri(`${_v}/remove`),{withTypes:()=>E4}),a8=(...t)=>{console.error(`${_v}/error`,...t)},Lh=(t={})=>{const e=new Map,n=new Map,r=v=>{const T=n.get(v)??0;n.set(v,T+1)},i=v=>{const T=n.get(v)??1;T===1?n.delete(v):n.set(v,T-1)},{extra:o,onError:s=a8}=t;tA(s);const u=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),T=>{v.unsubscribe(),T!=null&&T.cancelActive&&oT(v)}),c=v=>{const T=ON(e,v)??v4(v);return u(T)};Cc(c,{withTypes:()=>c});const f=v=>{const T=ON(e,v);return T&&(T.unsubscribe(),v.cancelActive&&oT(T)),!!T};Cc(f,{withTypes:()=>f});const h=async(v,T,w,A)=>{const I=new AbortController,D=r8(c,I.signal),k=[];try{v.pending.add(I),r(v),await Promise.resolve(v.effect(T,Cc({},w,{getOriginalState:A,condition:(z,G)=>D(z,G).then(Boolean),take:D,delay:g4(I.signal),pause:Xg(I.signal),extra:o,signal:I.signal,fork:n8(I.signal,k),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((z,G,L)=>{z!==I&&(z.abort(iT),L.delete(z))})},cancel:()=>{I.abort(iT),v.pending.delete(I)},throwIfCancelled:()=>{$l(I.signal)}})))}catch(z){z instanceof vv||MN(s,z,{raisedBy:"effect"})}finally{await Promise.all(k),I.abort(e8),i(v),v.pending.delete(I)}},p=i8(e,n);return{middleware:v=>T=>w=>{if(!WV(w))return T(w);if(_4.match(w))return c(w.payload);if(o8.match(w)){p();return}if(E4.match(w))return f(w.payload);let A=v.getState();const I=()=>{if(A===NN)throw new Error(li(23));return A};let D;try{if(D=T(w),e.size>0){const k=v.getState(),z=Array.from(e.values());for(const G of z){let L=!1;try{L=G.predicate(w,k,A)}catch(N){L=!1,MN(s,N,{raisedBy:"predicate"})}L&&h(G,w,v,I)}}}finally{A=NN}return D},startListening:c,stopListening:f,clearListeners:p}};function li(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var s8={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},S4=Kr({name:"chartLayout",initialState:s8,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:l8,setLayout:u8,setChartSize:c8,setScale:f8}=S4.actions,d8=S4.reducer;function b4(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Zt(t){return Number.isFinite(t)}function Xo(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){h8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h8(t,e,n){return(e=p8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p8(t){var e=m8(t,"string");return typeof e=="symbol"?e:e+""}function m8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pn(t,e,n){return gn(t)||gn(e)?n:Jo(e)?Bc(t,e,n):typeof e=="function"?e(t):n}var g8=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:u}=e;if((u==="vertical"||u==="horizontal"&&s==="middle")&&o!=="center"&&Re(t[o]))return Ec(Ec({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&s!=="middle"&&Re(t[s]))return Ec(Ec({},t),{},{[s]:t[s]+(i||0)})}return t},tl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",T4=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,o,s=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||s.push(e),o||s.push(n),s},w4=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:u,isCategorical:c,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:g,axisType:v}=t;if(!s)return null;var T=u==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=i==="category"&&s.bandwidth?s.bandwidth()/T:0;if(w=v==="angleAxis"&&o&&o.length>=2?zr(o[0]-o[1])*2*w:w,p||g){var A=(p||g||[]).map((I,D)=>{var k=r?r.indexOf(I):I;return{coordinate:s(k)+w,value:I,offset:w,index:D}});return A.filter(I=>!uo(I.coordinate))}return c&&f?f.map((I,D)=>({coordinate:s(I)+w,value:I,index:D,offset:w})):s.ticks&&h!=null?s.ticks(h).map((I,D)=>({coordinate:s(I)+w,value:I,offset:w,index:D})):s.domain().map((I,D)=>({coordinate:s(I)+w,value:r?r[I]:I,index:D,offset:w}))},kN=1e-4,y8=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-kN,o=Math.max(r[0],r[1])+kN,s=t(e[0]),u=t(e[n-1]);(s<i||s>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},v8=(t,e)=>{if(!e||e.length!==2||!Re(e[0])||!Re(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Re(t[0])||t[0]<n)&&(i[0]=n),(!Re(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},_8=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0,u=0;u<n;++u){var c=t[u],f=c==null?void 0:c[i];if(f!=null){var h=f[1],p=f[0],g=uo(h)?p:h;g>=0?(f[0]=o,f[1]=o+g,o=h):(f[0]=s,f[1]=s+g,s=h)}}}},E8=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0;s<n;++s){var u=t[s],c=u==null?void 0:u[i];if(c!=null){var f=uo(c[1])?c[0]:c[1];f>=0?(c[0]=o,c[1]=o+f,o=c[1]):(c[0]=0,c[1]=0)}}}},S8={sign:_8,expand:BG,none:Ql,silhouette:FG,wiggle:zG,positive:E8},b8=(t,e,n)=>{var r,i=(r=S8[n])!==null&&r!==void 0?r:Ql,o=VG().keys(e).value((u,c)=>Number(pn(u,c,0))).order(Yb).offset(i),s=o(t);return s.forEach((u,c)=>{u.forEach((f,h)=>{var p=pn(t[h],e[c],0);Array.isArray(p)&&p.length===2&&Re(p[0])&&Re(p[1])&&(f[0]=p[0],f[1]=p[1])})}),s};function T8(t){return t==null?void 0:String(t)}var LN=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var u=pn(o,e.dataKey,e.scale.domain()[s]);return gn(u)?null:e.scale(u)-i/2+r},w8=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},A8=t=>{var e=t.flat(2).filter(Re);return[Math.min(...e),Math.max(...e)]},x8=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],C8=(t,e,n)=>{if(t!=null)return x8(Object.keys(t).reduce((r,i)=>{var o=t[i];if(!o)return r;var{stackedData:s}=o,u=s.reduce((c,f)=>{var h=b4(f,e,n),p=A8(h);return!Zt(p[0])||!Zt(p[1])?c:[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},UN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zc=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=cv(e,h=>h.coordinate),o=1/0,s=1,u=i.length;s<u;s++){var c=i[s],f=i[s-1];o=Math.min(((c==null?void 0:c.coordinate)||0)-((f==null?void 0:f.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function BN(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Ec(Ec({},e),{},{dataKey:n,payload:r,value:i,name:o})}function Ev(t,e){if(t)return String(t);if(typeof e=="string")return e}var I8=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},P8=(t,e)=>e==="centric"?t.angle:t.radius,Ya=t=>t.layout.width,Wa=t=>t.layout.height,R8=t=>t.layout.scale,A4=t=>t.layout.margin,Sv=Z(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),bv=Z(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),N8="data-recharts-item-index",O8="data-recharts-item-id",Uh=60;function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){M8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M8(t,e,n){return(e=D8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D8(t){var e=k8(t,"string");return typeof e=="symbol"?e:e+""}function k8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L8=t=>t.brush.height;function U8(t){var e=bv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Uh;return n+i}return n},0)}function V8(t){var e=bv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Uh;return n+i}return n},0)}function B8(t){var e=Sv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function F8(t){var e=Sv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Yn=Z([Ya,Wa,A4,L8,U8,V8,B8,F8,jV,u$],(t,e,n,r,i,o,s,u,c,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},p={top:(n.top||0)+s,bottom:(n.bottom||0)+u},g=jm(jm({},p),h),v=g.bottom;g.bottom+=r,g=g8(g,c,f);var T=t-g.left-g.right,w=e-g.top-g.bottom;return jm(jm({brushBottom:v},g),{},{width:Math.max(T,0),height:Math.max(w,0)})}),z8=Z(Yn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),nA=Z(Ya,Wa,(t,e)=>({x:0,y:0,width:t,height:e})),q8=C.createContext(null),Sr=()=>C.useContext(q8)!=null,Tv=t=>t.brush,wv=Z([Tv,Yn,A4],(t,e,n)=>({height:t.height,x:Re(t.x)?t.x:e.left,y:Re(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Re(t.width)?t.width:e.width})),xS={},CS={},IS={},zN;function H8(){return zN||(zN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let s,u=null;const c=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(s,u),s=void 0,u=null)},p=()=>{f&&h(),w()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},T=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{T(),s=void 0,u=null},A=()=>{h()},I=function(...D){if(i!=null&&i.aborted)return;s=this,u=D;const k=g==null;v(),c&&k&&h()};return I.schedule=v,I.cancel=w,I.flush=A,i==null||i.addEventListener("abort",w,{once:!0}),I}t.debounce=e})(IS)),IS}var qN;function G8(){return qN||(qN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H8();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:u=!0,maxWait:c}=o,f=Array(2);s&&(f[0]="leading"),u&&(f[1]="trailing");let h,p=null;const g=e.debounce(function(...w){h=r.apply(this,w),p=null},i,{edges:f}),v=function(...w){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=r.apply(this,w),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,w),h)},T=()=>(g.flush(),h);return v.cancel=g.cancel,v.flush=T,v}t.debounce=n})(CS)),CS}var HN;function j8(){return HN||(HN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G8();function n(r,i=0,o={}){const{leading:s=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:s,maxWait:i,trailing:u})}t.throttle=n})(xS)),xS}var PS,GN;function $8(){return GN||(GN=1,PS=j8().throttle),PS}var K8=$8();const Y8=$r(K8);var Qg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},x4=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:s}=n,u=Ua(r)?t:Number(r),c=Ua(i)?e:Number(i);return o&&o>0&&(u?c=u/o:c&&(u=c*o),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:u,calculatedHeight:c}},W8={width:0,height:0,overflow:"visible"},J8={width:0,overflowX:"visible"},X8={height:0,overflowY:"visible"},Q8={},Z8=t=>{var{width:e,height:n}=t,r=Ua(e),i=Ua(n);return r&&i?W8:r?J8:i?X8:Q8};function e7(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function aT(){return aT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aT.apply(null,arguments)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $N(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){t7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t7(t,e,n){return(e=n7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n7(t){var e=r7(t,"string");return typeof e=="symbol"?e:e+""}function r7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C4=C.createContext({width:-1,height:-1});function i7(t){return Xo(t.width)&&Xo(t.height)}function I4(t){var{children:e,width:n,height:r}=t,i=C.useMemo(()=>({width:n,height:r}),[n,r]);return i7(i)?C.createElement(C4.Provider,{value:i},e):null}var rA=()=>C.useContext(C4),o7=C.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:s=0,minHeight:u,maxHeight:c,children:f,debounce:h=0,id:p,className:g,onResize:v,style:T={}}=t,w=C.useRef(null),A=C.useRef();A.current=v,C.useImperativeHandle(e,()=>w.current);var[I,D]=C.useState({containerWidth:r.width,containerHeight:r.height}),k=C.useCallback((M,O)=>{D(q=>{var B=Math.round(M),V=Math.round(O);return q.containerWidth===B&&q.containerHeight===V?q:{containerWidth:B,containerHeight:V}})},[]);C.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Dh;var M=V=>{var F,{width:ue,height:ce}=V[0].contentRect;k(ue,ce),(F=A.current)===null||F===void 0||F.call(A,ue,ce)};h>0&&(M=Y8(M,h,{trailing:!0,leading:!1}));var O=new ResizeObserver(M),{width:q,height:B}=w.current.getBoundingClientRect();return k(q,B),O.observe(w.current),()=>{O.disconnect()}},[k,h]);var{containerWidth:z,containerHeight:G}=I;Qg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:L,calculatedHeight:N}=x4(z,G,{width:i,height:o,aspect:n,maxHeight:c});return Qg(L!=null&&L>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,N,i,o,s,u,n),C.createElement("div",{id:p?"".concat(p):void 0,className:it("recharts-responsive-container",g),style:$N($N({},T),{},{width:i,height:o,minWidth:s,minHeight:u,maxHeight:c}),ref:w},C.createElement("div",{style:Z8({width:i,height:o})},C.createElement(I4,{width:L,height:N},f)))}),KN=C.forwardRef((t,e)=>{var n=rA();if(Xo(n.width)&&Xo(n.height))return t.children;var{width:r,height:i}=e7({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:s}=x4(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Re(o)&&Re(s)?C.createElement(I4,{width:o,height:s},t.children):C.createElement(o7,aT({},t,{width:r,height:i,ref:e}))});function P4(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Av=()=>{var t,e=Sr(),n=Ae(z8),r=Ae(wv),i=(t=Ae(Tv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},a7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},R4=()=>{var t;return(t=Ae(Yn))!==null&&t!==void 0?t:a7},iA=()=>Ae(Ya),oA=()=>Ae(Wa),s7=()=>Ae(t=>t.layout.margin),ot=t=>t.layout.layoutType,Vh=()=>Ae(ot),l7=()=>{var t=Vh();return t!==void 0},xv=t=>{var e=Pt(),n=Sr(),{width:r,height:i}=t,o=rA(),s=r,u=i;return o&&(s=o.width>0?o.width:r,u=o.height>0?o.height:i),C.useEffect(()=>{!n&&Xo(s)&&Xo(u)&&e(c8({width:s,height:u}))},[e,n,s,u]),null},N4=Symbol.for("immer-nothing"),YN=Symbol.for("immer-draftable"),ui=Symbol.for("immer-state");function Ji(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ch=Object.getPrototypeOf;function qc(t){return!!t&&!!t[ui]}function eu(t){var e;return t?O4(t)||Array.isArray(t)||!!t[YN]||!!((e=t.constructor)!=null&&e[YN])||Bh(t)||Iv(t):!1}var u7=Object.prototype.constructor.toString(),WN=new WeakMap;function O4(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=WN.get(n);return r===void 0&&(r=Function.toString.call(n),WN.set(n,r)),r===u7}function Zg(t,e,n=!0){Cv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Cv(t){const e=t[ui];return e?e.type_:Array.isArray(t)?1:Bh(t)?2:Iv(t)?3:0}function sT(t,e){return Cv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function M4(t,e,n){const r=Cv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function c7(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Bh(t){return t instanceof Map}function Iv(t){return t instanceof Set}function Ll(t){return t.copy_||t.base_}function lT(t,e){if(Bh(t))return new Map(t);if(Iv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=O4(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ui];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[s]})}return Object.create(ch(t),r)}else{const r=ch(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function aA(t,e=!1){return Pv(t)||qc(t)||!eu(t)||(Cv(t)>1&&Object.defineProperties(t,{set:$m,add:$m,clear:$m,delete:$m}),Object.freeze(t),e&&Object.values(t).forEach(n=>aA(n,!0))),t}function f7(){Ji(2)}var $m={value:f7};function Pv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var d7={};function tu(t){const e=d7[t];return e||Ji(0,t),e}var fh;function D4(){return fh}function h7(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function JN(t,e){e&&(tu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function uT(t){cT(t),t.drafts_.forEach(p7),t.drafts_=null}function cT(t){t===fh&&(fh=t.parent_)}function XN(t){return fh=h7(fh,t)}function p7(t){const e=t[ui];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function QN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ui].modified_&&(uT(e),Ji(4)),eu(t)&&(t=ey(e,t),e.parent_||ty(e,t)),e.patches_&&tu("Patches").generateReplacementPatches_(n[ui].base_,t,e.patches_,e.inversePatches_)):t=ey(e,n,[]),uT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==N4?t:void 0}function ey(t,e,n){if(Pv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[ui];if(!i)return Zg(e,(o,s)=>ZN(t,i,e,o,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return ty(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,u=!1;i.type_===3&&(s=new Set(o),o.clear(),u=!0),Zg(s,(c,f)=>ZN(t,i,o,c,f,n,u),r),ty(t,o,!1),n&&t.patches_&&tu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function ZN(t,e,n,r,i,o,s){if(i==null||typeof i!="object"&&!s)return;const u=Pv(i);if(!(u&&!s)){if(qc(i)){const c=o&&e&&e.type_!==3&&!sT(e.assigned_,r)?o.concat(r):void 0,f=ey(t,i,c);if(M4(n,r,f),qc(f))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(eu(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;ey(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Bh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ty(t,i)}}}function ty(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&aA(e,n)}function m7(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:D4(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=sA;n&&(i=[r],o=dh);const{revoke:s,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=s,u}var sA={get(t,e){if(e===ui)return t;const n=Ll(t);if(!sT(n,e))return g7(t,n,e);const r=n[e];return t.finalized_||!eu(r)?r:r===RS(t.base_,e)?(NS(t),t.copy_[e]=dT(r,t)):r},has(t,e){return e in Ll(t)},ownKeys(t){return Reflect.ownKeys(Ll(t))},set(t,e,n){const r=k4(Ll(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=RS(Ll(t),e),o=i==null?void 0:i[ui];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(c7(n,i)&&(n!==void 0||sT(t.base_,e)))return!0;NS(t),fT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return RS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,NS(t),fT(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ll(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ji(11)},getPrototypeOf(t){return ch(t.base_)},setPrototypeOf(){Ji(12)}},dh={};Zg(sA,(t,e)=>{dh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});dh.deleteProperty=function(t,e){return dh.set.call(this,t,e,void 0)};dh.set=function(t,e,n){return sA.set.call(this,t[0],e,n,t[0])};function RS(t,e){const n=t[ui];return(n?Ll(n):t)[e]}function g7(t,e,n){var i;const r=k4(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function k4(t,e){if(!(e in t))return;let n=ch(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ch(n)}}function fT(t){t.modified_||(t.modified_=!0,t.parent_&&fT(t.parent_))}function NS(t){t.copy_||(t.copy_=lT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var y7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(c=o,...f){return s.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&Ji(6),r!==void 0&&typeof r!="function"&&Ji(7);let i;if(eu(e)){const o=XN(this),s=dT(e,void 0);let u=!0;try{i=n(s),u=!1}finally{u?uT(o):cT(o)}return JN(o,r),QN(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===N4&&(i=void 0),this.autoFreeze_&&aA(i,!0),r){const o=[],s=[];tu("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else Ji(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...u)=>this.produceWithPatches(s,c=>e(c,...u));let r,i;return[this.produce(e,n,(s,u)=>{r=s,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){eu(t)||Ji(8),qc(t)&&(t=v7(t));const e=XN(this),n=dT(t,void 0);return n[ui].isManual_=!0,cT(e),n}finishDraft(t,e){const n=t&&t[ui];(!n||!n.isManual_)&&Ji(9);const{scope_:r}=n;return JN(r,e),QN(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=tu("Patches").applyPatches_;return qc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function dT(t,e){const n=Bh(t)?tu("MapSet").proxyMap_(t,e):Iv(t)?tu("MapSet").proxySet_(t,e):m7(t,e);return(e?e.scope_:D4()).drafts_.push(n),n}function v7(t){return qc(t)||Ji(10,t),L4(t)}function L4(t){if(!eu(t)||Pv(t))return t;const e=t[ui];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=lT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=lT(t,!0);return Zg(n,(i,o)=>{M4(n,i,L4(o))},r),e&&(e.finalized_=!1),n}var _7=new y7;_7.produce;var E7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},U4=Kr({name:"legend",initialState:E7,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:jt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ao(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:jt()},removeLegendPayload:{reducer(t,e){var n=ao(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:jt()}}}),{setLegendSize:eO,setLegendSettings:S7,addLegendPayload:V4,replaceLegendPayload:B4,removeLegendPayload:F4}=U4.actions,b7=U4.reducer,T7=["contextPayload"];function hT(){return hT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hT.apply(null,arguments)}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){w7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w7(t,e,n){return(e=A7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A7(t){var e=x7(t,"string");return typeof e=="symbol"?e:e+""}function x7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C7(t,e){if(t==null)return{};var n,r,i=I7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function I7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function P7(t){return t.value}function R7(t){var{contextPayload:e}=t,n=C7(t,T7),r=zV(e,t.payloadUniqBy,P7),i=Hc(Hc({},n),{},{payload:r});return C.isValidElement(t.content)?C.cloneElement(t.content,i):typeof t.content=="function"?C.createElement(t.content,i):C.createElement(vj,i)}function N7(t,e,n,r,i,o){var{layout:s,align:u,verticalAlign:c}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&s==="vertical"?f={left:((r||0)-o.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((i||0)-o.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Hc(Hc({},f),h)}function O7(t){var e=Pt();return C.useEffect(()=>{e(S7(t))},[e,t]),null}function M7(t){var e=Pt();return C.useEffect(()=>(e(eO(t)),()=>{e(eO({width:0,height:0}))}),[e,t]),null}function D7(t,e,n,r){return t==="vertical"&&Re(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var k7={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function pT(t){var e=Nn(t,k7),n=d$(),r=lG(),i=s7(),{width:o,height:s,wrapperStyle:u,portal:c}=e,[f,h]=$V([n]),p=iA(),g=oA();if(p==null||g==null)return null;var v=p-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),T=D7(e.layout,s,o,v),w=c?u:Hc(Hc({position:"absolute",width:(T==null?void 0:T.width)||o||"auto",height:(T==null?void 0:T.height)||s||"auto"},N7(u,e,i,p,g,f)),u),A=c??r;if(A==null||n==null)return null;var I=C.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},C.createElement(O7,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!c&&C.createElement(M7,{width:f.width,height:f.height}),C.createElement(R7,hT({},e,T,{margin:i,chartWidth:p,chartHeight:g,contextPayload:n})));return Uw.createPortal(I,A)}pT.displayName="Legend";function mT(){return mT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mT.apply(null,arguments)}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){L7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L7(t,e,n){return(e=U7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U7(t){var e=V7(t,"string");return typeof e=="symbol"?e:e+""}function V7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B7(t){return Array.isArray(t)&&Jo(t[0])&&Jo(t[1])?t.join(" ~ "):t}var F7=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:u,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=!1}=t,v=()=>{if(o&&o.length){var G={padding:0,margin:0},L=(u?cv(o,u):o).map((N,M)=>{if(N.type==="none")return null;var O=N.formatter||s||B7,{value:q,name:B}=N,V=q,F=B;if(O){var ue=O(q,B,N,M,o);if(Array.isArray(ue))[V,F]=ue;else if(ue!=null)V=ue;else return null}var ce=OS({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ce},Jo(F)?C.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Jo(F)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},V),C.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:G},L)}return null},T=OS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=OS({margin:0},i),A=!gn(h),I=A?h:"",D=it("recharts-default-tooltip",c),k=it("recharts-tooltip-label",f);A&&p&&o!==void 0&&o!==null&&(I=p(h,o));var z=g?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",mT({className:D,style:T},z),C.createElement("p",{className:k,style:w},C.isValidElement(I)?I:"".concat(I)),v())},Id="recharts-tooltip-wrapper",z7={visibility:"hidden"};function q7(t){var{coordinate:e,translateX:n,translateY:r}=t;return it(Id,{["".concat(Id,"-right")]:Re(n)&&e&&Re(e.x)&&n>=e.x,["".concat(Id,"-left")]:Re(n)&&e&&Re(e.x)&&n<e.x,["".concat(Id,"-bottom")]:Re(r)&&e&&Re(e.y)&&r>=e.y,["".concat(Id,"-top")]:Re(r)&&e&&Re(e.y)&&r<e.y})}function rO(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:u,viewBox:c,viewBoxDimension:f}=t;if(o&&Re(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return s[r]?h:p;var g=c[r];if(g==null)return 0;if(s[r]){var v=h,T=g;return v<T?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var w=p+u,A=g+f;return w>A?Math.max(h,g):Math.max(p,g)}function H7(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function G7(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:u,viewBox:c}=t,f,h,p;return s.height>0&&s.width>0&&n?(h=rO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=rO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=H7({translateX:h,translateY:p,useTranslate3d:u})):f=z7,{cssProperties:f,cssClasses:q7({translateX:h,translateY:p,coordinate:n})}}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){gT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gT(t,e,n){return(e=j7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j7(t){var e=$7(t,"string");return typeof e=="symbol"?e:e+""}function $7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class K7 extends C.PureComponent{constructor(){super(...arguments),gT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),gT(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:u,isAnimationActive:c,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:v,wrapperStyle:T,lastBoundingBox:w,innerRef:A,hasPortalFromProps:I}=this.props,{cssClasses:D,cssProperties:k}=G7({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:v}),z=I?{}:Km(Km({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),G=Km(Km({},z),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},T);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:G,ref:A},o)}}var z4=()=>{var t;return(t=Ae(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function yT(){return yT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yT.apply(null,arguments)}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){Y7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y7(t,e,n){return(e=W7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W7(t){var e=J7(t,"string");return typeof e=="symbol"?e:e+""}function J7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sO={curveBasisClosed:CG,curveBasisOpen:IG,curveBasis:xG,curveBumpX:dG,curveBumpY:hG,curveLinearClosed:PG,curveLinear:sv,curveMonotoneX:RG,curveMonotoneY:NG,curveNatural:OG,curveStep:MG,curveStepAfter:kG,curveStepBefore:DG},ny=t=>Zt(t.x)&&Zt(t.y),lO=t=>t.base!=null&&ny(t.base)&&ny(t),Pd=t=>t.x,Rd=t=>t.y,X7=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Mh(t));return(n==="curveMonotone"||n==="curveBump")&&e?sO["".concat(n).concat(e==="vertical"?"Y":"X")]:sO[n]||sv},Q7=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,s=X7(e,i),u=o?n.filter(ny):n,c;if(Array.isArray(r)){var f=n.map((v,T)=>aO(aO({},v),{},{base:r[T]}));i==="vertical"?c=Bm().y(Rd).x1(Pd).x0(v=>v.base.x):c=Bm().x(Pd).y1(Rd).y0(v=>v.base.y);var h=c.defined(lO).curve(s),p=o?f.filter(lO):f;return h(p)}i==="vertical"&&Re(r)?c=Bm().y(Rd).x1(Pd).x0(r):Re(r)?c=Bm().x(Pd).y1(Rd).y0(r):c=_V().x(Pd).y(Rd);var g=c.defined(ny).curve(s);return g(u)},q4=t=>{var{className:e,points:n,path:r,pathRef:i}=t,o=Vh();if((!n||!n.length)&&!r)return null;var s={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||o,connectNulls:t.connectNulls},u=n&&n.length?Q7(s):r;return C.createElement("path",yT({},mn(t),jw(t),{className:it("recharts-curve",e),d:u===null?void 0:u,ref:i}))},Z7=["x","y","top","left","width","height","className"];function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vT.apply(null,arguments)}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){tK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tK(t,e,n){return(e=nK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nK(t){var e=rK(t,"string");return typeof e=="symbol"?e:e+""}function rK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iK(t,e){if(t==null)return{};var n,r,i=oK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var aK=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),sK=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:u}=t,c=iK(t,Z7),f=eK({x:e,y:n,top:r,left:i,width:o,height:s},c);return!Re(e)||!Re(n)||!Re(o)||!Re(s)||!Re(r)||!Re(i)?null:C.createElement("path",vT({},Dn(f),{className:it("recharts-cross",u),d:aK(e,n,o,s,r,i)}))};function lK(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){uK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uK(t,e,n){return(e=cK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cK(t){var e=fK(t,"string");return typeof e=="symbol"?e:e+""}function fK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dK=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),H4=(t,e,n)=>t.map(r=>"".concat(dK(r)," ").concat(e,"ms ").concat(n)).join(","),hK=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),hh=(t,e)=>Object.keys(e).reduce((n,r)=>fO(fO({},n),{},{[r]:t(r,e[r])}),{});function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){pK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pK(t,e,n){return(e=mK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mK(t){var e=gK(t,"string");return typeof e=="symbol"?e:e+""}function gK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ry=(t,e,n)=>t+(e-t)*n,_T=t=>{var{from:e,to:n}=t;return e!==n},G4=(t,e,n)=>{var r=hh((i,o)=>{if(_T(o)){var[s,u]=t(o.from,o.to,o.velocity);return Mn(Mn({},o),{},{from:s,velocity:u})}return o},e);return n<1?hh((i,o)=>_T(o)&&r[i]!=null?Mn(Mn({},o),{},{velocity:ry(o.velocity,r[i].velocity,n),from:ry(o.from,r[i].from,n)}):o,e):G4(t,r,n-1)};function yK(t,e,n,r,i,o){var s,u=r.reduce((g,v)=>Mn(Mn({},g),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),c=()=>hh((g,v)=>v.from,u),f=()=>!Object.values(u).filter(_T).length,h=null,p=g=>{s||(s=g);var v=g-s,T=v/n.dt;u=G4(n,u,T),i(Mn(Mn(Mn({},t),e),c())),s=g,f()||(h=o.setTimeout(p))};return()=>(h=o.setTimeout(p),()=>{var g;(g=h)===null||g===void 0||g()})}function vK(t,e,n,r,i,o,s){var u=null,c=i.reduce((p,g)=>{var v=t[g],T=e[g];return v==null||T==null?p:Mn(Mn({},p),{},{[g]:[v,T]})},{}),f,h=p=>{f||(f=p);var g=(p-f)/r,v=hh((w,A)=>ry(...A,n(g)),c);if(o(Mn(Mn(Mn({},t),e),v)),g<1)u=s.setTimeout(h);else{var T=hh((w,A)=>ry(...A,n(1)),c);o(Mn(Mn(Mn({},t),e),T))}};return()=>(u=s.setTimeout(h),()=>{var p;(p=u)===null||p===void 0||p()})}const _K=(t,e,n,r,i,o)=>{var s=hK(t,e);return n==null?()=>(i(Mn(Mn({},t),e)),()=>{}):n.isStepper===!0?yK(t,e,n,s,i,o):vK(t,e,n,r,s,i,o)};var iy=1e-4,j4=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],$4=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),hO=(t,e)=>n=>{var r=j4(t,e);return $4(r,n)},EK=(t,e)=>n=>{var r=j4(t,e),i=[...r.map((o,s)=>o*s).slice(1),0];return $4(i,n)},SK=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},bK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=SK(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},TK=(t,e,n,r)=>{var i=hO(t,n),o=hO(e,r),s=EK(t,n),u=f=>f>1?1:f<0?0:f,c=f=>{for(var h=f>1?1:f,p=h,g=0;g<8;++g){var v=i(p)-h,T=s(p);if(Math.abs(v-h)<iy||T<iy)return o(p);p=u(p-v/T)}return o(p)};return c.isStepper=!1,c},pO=function(){return TK(...bK(...arguments))},wK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(s,u,c)=>{var f=-(s-u)*n,h=c*r,p=c+(f-h)*i/1e3,g=c*i/1e3+s;return Math.abs(g-u)<iy&&Math.abs(p)<iy?[u,0]:[g,p]};return o.isStepper=!0,o.dt=i,o},AK=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pO(t);case"spring":return wK();default:if(t.split("(")[0]==="cubic-bezier")return pO(t)}return typeof t=="function"?t:null};function xK(t){var e,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var u=s,[c,...f]=u;if(typeof c=="number"){i=t.setTimeout(o.bind(null,f),c);return}o(c),i=t.setTimeout(o.bind(null,f));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class CK{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function IK(){return xK(new CK)}var PK=C.createContext(IK);function RK(t,e){var n=C.useContext(PK);return C.useMemo(()=>e??n(t),[t,e,n])}var NK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rv={isSsr:NK()},OK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mO={t:0},MS={t:1};function Nv(t){var e=Nn(t,OK),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:u,onAnimationStart:c,children:f}=e,h=n==="auto"?!Rv.isSsr:n,p=RK(e.animationId,e.animationManager),[g,v]=C.useState(h?mO:MS),T=C.useRef(null);return C.useEffect(()=>{h||v(MS)},[h]),C.useEffect(()=>{if(!h||!r)return Dh;var w=_K(mO,MS,AK(o),i,v,p.getTimeoutController()),A=()=>{T.current=w()};return p.start([c,s,A,i,u]),()=>{p.stop(),T.current&&T.current(),u()}},[h,r,i,o,s,c,u,p]),f(g.t)}function Ov(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(ah(e)),r=C.useRef(t);return r.current!==t&&(n.current=ah(e),r.current=t),n.current}var MK=["radius"],DK=["radius"],gO,yO,vO,_O,EO,SO,bO,TO,wO,AO;function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){kK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kK(t,e,n){return(e=LK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LK(t){var e=UK(t,"string");return typeof e=="symbol"?e:e+""}function UK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(null,arguments)}function IO(t,e){if(t==null)return{};var n,r,i=VK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vo(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var PO=(t,e,n,r,i)=>{var o=Hs(n),s=Hs(r),u=Math.min(Math.abs(o)/2,Math.abs(s)/2),c=s>=0?1:-1,f=o>=0?1:-1,h=s>=0&&o>=0||s<0&&o<0?1:0,p;if(u>0&&i instanceof Array){for(var g=[0,0,0,0],v=0,T=4;v<T;v++)g[v]=i[v]>u?u:i[v];p=Xt(gO||(gO=Vo(["M",",",""])),t,e+c*g[0]),g[0]>0&&(p+=Xt(yO||(yO=Vo(["A ",",",",0,0,",",",",",""])),g[0],g[0],h,t+f*g[0],e)),p+=Xt(vO||(vO=Vo(["L ",",",""])),t+n-f*g[1],e),g[1]>0&&(p+=Xt(_O||(_O=Vo(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],h,t+n,e+c*g[1])),p+=Xt(EO||(EO=Vo(["L ",",",""])),t+n,e+r-c*g[2]),g[2]>0&&(p+=Xt(SO||(SO=Vo(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],h,t+n-f*g[2],e+r)),p+=Xt(bO||(bO=Vo(["L ",",",""])),t+f*g[3],e+r),g[3]>0&&(p+=Xt(TO||(TO=Vo(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],h,t,e+r-c*g[3])),p+="Z"}else if(u>0&&i===+i&&i>0){var w=Math.min(u,i);p=Xt(wO||(wO=Vo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*w,w,w,h,t+f*w,e,t+n-f*w,e,w,w,h,t+n,e+c*w,t+n,e+r-c*w,w,w,h,t+n-f*w,e+r,t+f*w,e+r,w,w,h,t,e+r-c*w)}else p=Xt(AO||(AO=Vo(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},RO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},K4=t=>{var e=Nn(t,RO),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var se=n.current.getTotalLength();se&&i(se)}catch{}},[]);var{x:o,y:s,width:u,height:c,radius:f,className:h}=e,{animationEasing:p,animationDuration:g,animationBegin:v,isAnimationActive:T,isUpdateAnimationActive:w}=e,A=C.useRef(u),I=C.useRef(c),D=C.useRef(o),k=C.useRef(s),z=C.useMemo(()=>({x:o,y:s,width:u,height:c,radius:f}),[o,s,u,c,f]),G=Ov(z,"rectangle-");if(o!==+o||s!==+s||u!==+u||c!==+c||u===0||c===0)return null;var L=it("recharts-rectangle",h);if(!w){var N=Dn(e),{radius:M}=N,O=IO(N,MK);return C.createElement("path",oy({},O,{x:Hs(o),y:Hs(s),width:Hs(u),height:Hs(c),radius:typeof f=="number"?f:void 0,className:L,d:PO(o,s,u,c,f)}))}var q=A.current,B=I.current,V=D.current,F=k.current,ue="0px ".concat(r===-1?1:r,"px"),ce="".concat(r,"px 0px"),X=H4(["strokeDasharray"],g,typeof p=="string"?p:RO.animationEasing);return C.createElement(Nv,{animationId:G,key:G,canBegin:r>0,duration:g,easing:p,isActive:w,begin:v},se=>{var le=dn(q,u,se),ge=dn(B,c,se),$=dn(V,o,se),Y=dn(F,s,se);n.current&&(A.current=le,I.current=ge,D.current=$,k.current=Y);var re;T?se>0?re={transition:X,strokeDasharray:ce}:re={strokeDasharray:ue}:re={strokeDasharray:ce};var j=Dn(e),{radius:_e}=j,Pe=IO(j,DK);return C.createElement("path",oy({},Pe,{radius:typeof f=="number"?f:void 0,className:L,d:PO($,Y,le,ge,f),ref:n,style:CO(CO({},re),e.style)}))})};function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){BK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BK(t,e,n){return(e=FK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FK(t){var e=zK(t,"string");return typeof e=="symbol"?e:e+""}function zK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ay=Math.PI/180,sy=t=>t*Math.PI/180,qK=t=>t*180/Math.PI,It=(t,e,n,r)=>({x:t+Math.cos(-ay*r)*n,y:e+Math.sin(-ay*r)*n}),HK=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},GK=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},jK=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,s=GK({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var u=(n-i)/s,c=Math.acos(u);return r>o&&(c=2*Math.PI-c),{radius:s,angle:qK(c),angleInRadian:c}},$K=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},KK=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return t+s*360},YK=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=jK({x:n,y:r},e),{innerRadius:s,outerRadius:u}=e;if(i<s||i>u||i===0)return null;var{startAngle:c,endAngle:f}=$K(e),h=o,p;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=c}return p?OO(OO({},e),{},{radius:i,angle:KK(h,e)}):null},Y4=t=>!C.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function W4(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,s=It(e,n,r,i),u=It(e,n,r,o);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}var MO,DO,kO,LO,UO,VO,BO;function ET(){return ET=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ET.apply(null,arguments)}function zl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var WK=(t,e)=>{var n=zr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Ym=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:u,cornerIsExternal:c}=t,f=u*(s?1:-1)+r,h=Math.asin(u/f)/ay,p=c?i:i+o*h,g=It(e,n,f,p),v=It(e,n,r,p),T=c?i-o*h:i,w=It(e,n,f*Math.cos(h*ay),T);return{center:g,circleTangency:v,lineTangency:w,theta:h}},J4=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=t,u=WK(o,s),c=o+u,f=It(e,n,i,o),h=It(e,n,i,c),p=Xt(MO||(MO=zl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(u)>180),+(o>c),h.x,h.y);if(r>0){var g=It(e,n,r,o),v=It(e,n,r,c);p+=Xt(DO||(DO=zl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,r,r,+(Math.abs(u)>180),+(o<=c),g.x,g.y)}else p+=Xt(kO||(kO=zl(["L ",","," Z"])),e,n);return p},JK=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:f}=t,h=zr(f-c),{circleTangency:p,lineTangency:g,theta:v}=Ym({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:T,lineTangency:w,theta:A}=Ym({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),I=u?Math.abs(c-f):Math.abs(c-f)-v-A;if(I<0)return s?Xt(LO||(LO=zl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,o,o,o*2,o,o,-o*2):J4({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var D=Xt(UO||(UO=zl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,o,o,+(h<0),p.x,p.y,i,i,+(I>180),+(h<0),T.x,T.y,o,o,+(h<0),w.x,w.y);if(r>0){var{circleTangency:k,lineTangency:z,theta:G}=Ym({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:L,lineTangency:N,theta:M}=Ym({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),O=u?Math.abs(c-f):Math.abs(c-f)-G-M;if(O<0&&o===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+=Xt(VO||(VO=zl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,o,o,+(h<0),L.x,L.y,r,r,+(O>180),+(h>0),k.x,k.y,o,o,+(h<0),z.x,z.y)}else D+=Xt(BO||(BO=zl(["L",",","Z"])),e,n);return D},XK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},X4=t=>{var e=Nn(t,XK),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h,className:p}=e;if(o<i||f===h)return null;var g=it("recharts-sector",p),v=o-i,T=co(s,v,0,!0),w;return T>0&&Math.abs(f-h)<360?w=JK({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(T,v/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h}):w=J4({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),C.createElement("path",ET({},Dn(e),{className:g,d:w}))};function QK(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(MV(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:s,angle:u}=e,c=It(r,i,o,u),f=It(r,i,s,u);return[{x:c.x,y:c.y},{x:f.x,y:f.y}]}return W4(e)}}var DS={},kS={},LS={},FO;function ZK(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HV();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(LS)),LS}var zO;function eY(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZK();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(kS)),kS}var qO;function tY(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GV(),n=eY();function r(i,o,s){s&&typeof s!="number"&&e.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const u=Math.max(Math.ceil((o-i)/(s||1)),0),c=new Array(u);for(let f=0;f<u;f++)c[f]=i,i+=s;return c}t.range=r})(DS)),DS}var US,HO;function nY(){return HO||(HO=1,US=tY().range),US}var rY=nY();const Q4=$r(rY);function js(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iY(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lA(t){let e,n,r;t.length!==2?(e=js,n=(u,c)=>js(t(u),c),r=(u,c)=>t(u)-c):(e=t===js||t===iY?t:oY,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function s(u,c,f=0,h=u.length){const p=i(u,c,f,h-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:s,right:o}}function oY(){return 0}function Z4(t){return t===null?NaN:+t}function*aY(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const sY=lA(js),Fh=sY.right;lA(Z4).center;class GO extends Map{constructor(e,n=cY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(jO(this,e))}has(e){return super.has(jO(this,e))}set(e,n){return super.set(lY(this,e),n)}delete(e){return super.delete(uY(this,e))}}function jO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function lY({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function uY({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function cY(t){return t!==null&&typeof t=="object"?t.valueOf():t}function fY(t=js){if(t===js)return eB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function eB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const dY=Math.sqrt(50),hY=Math.sqrt(10),pY=Math.sqrt(2);function ly(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=dY?10:o>=hY?5:o>=pY?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?ly(t,e,n*2):[u,c,f]}function ST(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?ly(e,t,n):ly(t,e,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(s<0)for(let f=0;f<u;++f)c[f]=(o-f)/-s;else for(let f=0;f<u;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function bT(t,e,n){return e=+e,t=+t,n=+n,ly(t,e,n)[2]}function TT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?bT(e,t,n):bT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function $O(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function KO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function tB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?eB:fY(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),v=Math.max(n,Math.floor(e-f*p/c+g)),T=Math.min(r,Math.floor(e+(c-f)*p/c+g));tB(t,e,v,T,i)}const o=t[e];let s=n,u=r;for(Nd(t,n,e),i(t[r],o)>0&&Nd(t,n,r);s<u;){for(Nd(t,s,u),++s,--u;i(t[s],o)<0;)++s;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?Nd(t,n,u):(++u,Nd(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Nd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function mY(t,e,n){if(t=Float64Array.from(aY(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return KO(t);if(e>=1)return $O(t);var r,i=(r-1)*e,o=Math.floor(i),s=$O(tB(t,o).subarray(0,o+1)),u=KO(t.subarray(o+1));return s+(u-s)*(i-o)}}function gY(t,e,n=Z4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return s+(u-s)*(i-o)}}function yY(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Di(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ja(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const wT=Symbol("implicit");function uA(){var t=new GO,e=[],n=[],r=wT;function i(o){let s=t.get(o);if(s===void 0){if(r!==wT)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new GO;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return uA(e,n).unknown(r)},Di.apply(i,arguments),i}function cA(){var t=uA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var g=e().length,v=i<r,T=v?i:r,w=v?r:i;o=(w-T)/Math.max(1,g-c+f*2),u&&(o=Math.floor(o)),T+=(w-T-o*(g-c))*h,s=o*(1-c),u&&(T=Math.round(T),s=Math.round(s));var A=yY(g).map(function(I){return T+o*I});return n(v?A.reverse():A)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(g){return arguments.length?(u=!!g,p()):u},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},t.copy=function(){return cA(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},Di.apply(p(),arguments)}function nB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nB(e())},t}function vY(){return nB(cA.apply(null,arguments).paddingInner(1))}function fA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function zh(){}var ph=.7,uy=1/ph,Ic="\\s*([+-]?\\d+)\\s*",mh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_Y=/^#([0-9a-f]{3,8})$/,EY=new RegExp(`^rgb\\(${Ic},${Ic},${Ic}\\)$`),SY=new RegExp(`^rgb\\(${jo},${jo},${jo}\\)$`),bY=new RegExp(`^rgba\\(${Ic},${Ic},${Ic},${mh}\\)$`),TY=new RegExp(`^rgba\\(${jo},${jo},${jo},${mh}\\)$`),wY=new RegExp(`^hsl\\(${mh},${jo},${jo}\\)$`),AY=new RegExp(`^hsla\\(${mh},${jo},${jo},${mh}\\)$`),YO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fA(zh,gh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:WO,formatHex:WO,formatHex8:xY,formatHsl:CY,formatRgb:JO,toString:JO});function WO(){return this.rgb().formatHex()}function xY(){return this.rgb().formatHex8()}function CY(){return iB(this).formatHsl()}function JO(){return this.rgb().formatRgb()}function gh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_Y.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?XO(e):n===3?new qr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Wm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Wm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=EY.exec(t))?new qr(e[1],e[2],e[3],1):(e=SY.exec(t))?new qr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bY.exec(t))?Wm(e[1],e[2],e[3],e[4]):(e=TY.exec(t))?Wm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=wY.exec(t))?eM(e[1],e[2]/100,e[3]/100,1):(e=AY.exec(t))?eM(e[1],e[2]/100,e[3]/100,e[4]):YO.hasOwnProperty(t)?XO(YO[t]):t==="transparent"?new qr(NaN,NaN,NaN,0):null}function XO(t){return new qr(t>>16&255,t>>8&255,t&255,1)}function Wm(t,e,n,r){return r<=0&&(t=e=n=NaN),new qr(t,e,n,r)}function IY(t){return t instanceof zh||(t=gh(t)),t?(t=t.rgb(),new qr(t.r,t.g,t.b,t.opacity)):new qr}function AT(t,e,n,r){return arguments.length===1?IY(t):new qr(t,e,n,r??1)}function qr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}fA(qr,AT,rB(zh,{brighter(t){return t=t==null?uy:Math.pow(uy,t),new qr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ph:Math.pow(ph,t),new qr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qr(Kl(this.r),Kl(this.g),Kl(this.b),cy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QO,formatHex:QO,formatHex8:PY,formatRgb:ZO,toString:ZO}));function QO(){return`#${ql(this.r)}${ql(this.g)}${ql(this.b)}`}function PY(){return`#${ql(this.r)}${ql(this.g)}${ql(this.b)}${ql((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZO(){const t=cy(this.opacity);return`${t===1?"rgb(":"rgba("}${Kl(this.r)}, ${Kl(this.g)}, ${Kl(this.b)}${t===1?")":`, ${t})`}`}function cy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Kl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ql(t){return t=Kl(t),(t<16?"0":"")+t.toString(16)}function eM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xi(t,e,n,r)}function iB(t){if(t instanceof Xi)return new Xi(t.h,t.s,t.l,t.opacity);if(t instanceof zh||(t=gh(t)),!t)return new Xi;if(t instanceof Xi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,u=o-i,c=(o+i)/2;return u?(e===o?s=(n-r)/u+(n<r)*6:n===o?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?o+i:2-o-i,s*=60):u=c>0&&c<1?0:s,new Xi(s,u,c,t.opacity)}function RY(t,e,n,r){return arguments.length===1?iB(t):new Xi(t,e,n,r??1)}function Xi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}fA(Xi,RY,rB(zh,{brighter(t){return t=t==null?uy:Math.pow(uy,t),new Xi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ph:Math.pow(ph,t),new Xi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qr(VS(t>=240?t-240:t+120,i,r),VS(t,i,r),VS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xi(tM(this.h),Jm(this.s),Jm(this.l),cy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cy(this.opacity);return`${t===1?"hsl(":"hsla("}${tM(this.h)}, ${Jm(this.s)*100}%, ${Jm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tM(t){return t=(t||0)%360,t<0?t+360:t}function Jm(t){return Math.max(0,Math.min(1,t||0))}function VS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dA=t=>()=>t;function NY(t,e){return function(n){return t+n*e}}function OY(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function MY(t){return(t=+t)==1?oB:function(e,n){return n-e?OY(e,n,t):dA(isNaN(e)?n:e)}}function oB(t,e){var n=e-t;return n?NY(t,n):dA(isNaN(t)?e:t)}const nM=(function t(e){var n=MY(e);function r(i,o){var s=n((i=AT(i)).r,(o=AT(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),f=oB(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function DY(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function kY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function LY(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=of(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(u){for(s=0;s<r;++s)o[s]=i[s](u);return o}}function UY(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function fy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function VY(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=of(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var xT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,BS=new RegExp(xT.source,"g");function BY(t){return function(){return t}}function FY(t){return function(e){return t(e)+""}}function zY(t,e){var n=xT.lastIndex=BS.lastIndex=0,r,i,o,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=xT.exec(t))&&(i=BS.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[s]?u[s]+=o:u[++s]=o),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:fy(r,i)})),n=BS.lastIndex;return n<e.length&&(o=e.slice(n),u[s]?u[s]+=o:u[++s]=o),u.length<2?c[0]?FY(c[0].x):BY(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function of(t,e){var n=typeof e,r;return e==null||n==="boolean"?dA(e):(n==="number"?fy:n==="string"?(r=gh(e))?(e=r,nM):zY:e instanceof gh?nM:e instanceof Date?UY:kY(e)?DY:Array.isArray(e)?LY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?VY:fy)(t,e)}function hA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function qY(t,e){e===void 0&&(e=t,t=of);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[u](s-u)}}function HY(t){return function(){return t}}function dy(t){return+t}var rM=[0,1];function Cr(t){return t}function CT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:HY(isNaN(e)?NaN:.5)}function GY(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function jY(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=CT(i,r),o=n(s,o)):(r=CT(r,i),o=n(o,s)),function(u){return o(r(u))}}function $Y(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=CT(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(u){var c=Fh(t,u,1,r)-1;return o[c](i[c](u))}}function qh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Mv(){var t=rM,e=rM,n=of,r,i,o,s=Cr,u,c,f;function h(){var g=Math.min(t.length,e.length);return s!==Cr&&(s=GY(t[0],t[g-1])),u=g>2?$Y:jY,c=f=null,p}function p(g){return g==null||isNaN(g=+g)?o:(c||(c=u(t.map(r),e,n)))(r(s(g)))}return p.invert=function(g){return s(i((f||(f=u(e,t.map(r),fy)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,dy),h()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=hA,h()},p.clamp=function(g){return arguments.length?(s=g?!0:Cr,h()):s!==Cr},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(o=g,p):o},function(g,v){return r=g,i=v,h()}}function pA(){return Mv()(Cr,Cr)}function KY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hy(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Gc(t){return t=hy(Math.abs(t)),t?t[1]:NaN}function YY(t,e){return function(n,r){for(var i=n.length,o=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return o.reverse().join(e)}}function WY(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var JY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yh(t){if(!(e=JY.exec(t)))throw new Error("invalid format: "+t);var e;return new mA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}yh.prototype=mA.prototype;function mA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XY(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var py;function QY(t,e){var n=hy(t,e);if(!n)return py=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(py=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+hy(t,Math.max(0,e+o-1))[0]}function iM(t,e){var n=hy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const oM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:KY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>iM(t*100,e),r:iM,s:QY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aM(t){return t}var sM=Array.prototype.map,lM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZY(t){var e=t.grouping===void 0||t.thousands===void 0?aM:YY(sM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?aM:WY(sM.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p,g){p=yh(p);var v=p.fill,T=p.align,w=p.sign,A=p.symbol,I=p.zero,D=p.width,k=p.comma,z=p.precision,G=p.trim,L=p.type;L==="n"?(k=!0,L="g"):oM[L]||(z===void 0&&(z=12),G=!0,L="g"),(I||v==="0"&&T==="=")&&(I=!0,v="0",T="=");var N=(g&&g.prefix!==void 0?g.prefix:"")+(A==="$"?n:A==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():""),M=(A==="$"?r:/[%p]/.test(L)?s:"")+(g&&g.suffix!==void 0?g.suffix:""),O=oM[L],q=/[defgprs%]/.test(L);z=z===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function B(V){var F=N,ue=M,ce,X,se;if(L==="c")ue=O(V)+ue,V="";else{V=+V;var le=V<0||1/V<0;if(V=isNaN(V)?c:O(Math.abs(V),z),G&&(V=XY(V)),le&&+V==0&&w!=="+"&&(le=!1),F=(le?w==="("?w:u:w==="-"||w==="("?"":w)+F,ue=(L==="s"&&!isNaN(V)&&py!==void 0?lM[8+py/3]:"")+ue+(le&&w==="("?")":""),q){for(ce=-1,X=V.length;++ce<X;)if(se=V.charCodeAt(ce),48>se||se>57){ue=(se===46?i+V.slice(ce+1):V.slice(ce))+ue,V=V.slice(0,ce);break}}}k&&!I&&(V=e(V,1/0));var ge=F.length+V.length+ue.length,$=ge<D?new Array(D-ge+1).join(v):"";switch(k&&I&&(V=e($+V,$.length?D-ue.length:1/0),$=""),T){case"<":V=F+V+ue+$;break;case"=":V=F+$+V+ue;break;case"^":V=$.slice(0,ge=$.length>>1)+F+V+ue+$.slice(ge);break;default:V=$+F+V+ue;break}return o(V)}return B.toString=function(){return p+""},B}function h(p,g){var v=Math.max(-8,Math.min(8,Math.floor(Gc(g)/3)))*3,T=Math.pow(10,-v),w=f((p=yh(p),p.type="f",p),{suffix:lM[8+v/3]});return function(A){return w(T*A)}}return{format:f,formatPrefix:h}}var Xm,gA,aB;eW({thousands:",",grouping:[3],currency:["$",""]});function eW(t){return Xm=ZY(t),gA=Xm.format,aB=Xm.formatPrefix,Xm}function tW(t){return Math.max(0,-Gc(Math.abs(t)))}function nW(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gc(e)/3)))*3-Gc(Math.abs(t)))}function rW(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gc(e)-Gc(t))+1}function sB(t,e,n,r){var i=TT(t,e,n),o;switch(r=yh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=nW(i,s))&&(r.precision=o),aB(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=rW(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=tW(i))&&(r.precision=o-(r.type==="%")*2);break}}return gA(r)}function nl(t){var e=t.domain;return t.ticks=function(n){var r=e();return ST(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return sB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],u=r[o],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=bT(s,u,n),f===c)return r[i]=s,r[o]=u,e(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function lB(){var t=pA();return t.copy=function(){return qh(t,lB())},Di.apply(t,arguments),nl(t)}function uB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,dy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return uB(t).unknown(e)},t=arguments.length?Array.from(t,dy):[0,1],nl(n)}function cB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function uM(t){return Math.log(t)}function cM(t){return Math.exp(t)}function iW(t){return-Math.log(-t)}function oW(t){return-Math.exp(-t)}function aW(t){return isFinite(t)?+("1e"+t):t<0?0:t}function sW(t){return t===10?aW:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lW(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function fM(t){return(e,n)=>-t(-e,n)}function yA(t){const e=t(uM,cM),n=e.domain;let r=10,i,o;function s(){return i=lW(r),o=sW(r),n()[0]<0?(i=fM(i),o=fM(o),t(iW,oW)):t(uM,cM),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),v=i(h),T,w;const A=u==null?10:+u;let I=[];if(!(r%1)&&v-g<A){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(T=1;T<r;++T)if(w=g<0?T/o(-g):T*o(g),!(w<f)){if(w>h)break;I.push(w)}}else for(;g<=v;++g)for(T=r-1;T>=1;--T)if(w=g>0?T/o(-g):T*o(g),!(w<f)){if(w>h)break;I.push(w)}I.length*2<A&&(I=ST(f,h,A))}else I=ST(g,v,Math.min(v-g,A)).map(o);return p?I.reverse():I},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=yh(c)).precision==null&&(c.trim=!0),c=gA(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(cB(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function fB(){const t=yA(Mv()).domain([1,10]);return t.copy=()=>qh(t,fB()).base(t.base()),Di.apply(t,arguments),t}function dM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function hM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vA(t){var e=1,n=t(dM(e),hM(e));return n.constant=function(r){return arguments.length?t(dM(e=+r),hM(e)):e},nl(n)}function dB(){var t=vA(Mv());return t.copy=function(){return qh(t,dB()).constant(t.constant())},Di.apply(t,arguments)}function pM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function uW(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function cW(t){return t<0?-t*t:t*t}function _A(t){var e=t(Cr,Cr),n=1;function r(){return n===1?t(Cr,Cr):n===.5?t(uW,cW):t(pM(n),pM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},nl(e)}function EA(){var t=_A(Mv());return t.copy=function(){return qh(t,EA()).exponent(t.exponent())},Di.apply(t,arguments),t}function fW(){return EA.apply(null,arguments).exponent(.5)}function mM(t){return Math.sign(t)*t*t}function dW(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function hB(){var t=pA(),e=[0,1],n=!1,r;function i(o){var s=dW(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(mM(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,dy)).map(mM)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return hB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Di.apply(i,arguments),nl(i)}function pB(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=gY(t,s/u);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Fh(n,s)]}return o.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(js),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return pB().domain(t).range(e).unknown(r)},Di.apply(o,arguments)}function mB(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[Fh(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return mB().domain([t,e]).range(i).unknown(o)},Di.apply(nl(s),arguments)}function gB(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Fh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return gB().domain(t).range(e).unknown(n)},Di.apply(i,arguments)}const FS=new Date,zS=new Date;function Ln(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),u=i.ceil(o);return o-s<u-o?s:u},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<s)||!(u>0))return c;let f;do c.push(f=new Date(+o)),e(o,u),t(o);while(f<o&&o<s);return c},i.filter=o=>Ln(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!o(s););else for(;--u>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(FS.setTime(+o),zS.setTime(+s),t(FS),t(zS),Math.floor(n(FS,zS))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const my=Ln(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);my.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ln(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):my);my.range;const Ia=1e3,Ii=Ia*60,Pa=Ii*60,Ba=Pa*24,SA=Ba*7,gM=Ba*30,qS=Ba*365,Hl=Ln(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ia)},(t,e)=>(e-t)/Ia,t=>t.getUTCSeconds());Hl.range;const bA=Ln(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ia)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getMinutes());bA.range;const TA=Ln(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getUTCMinutes());TA.range;const wA=Ln(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ia-t.getMinutes()*Ii)},(t,e)=>{t.setTime(+t+e*Pa)},(t,e)=>(e-t)/Pa,t=>t.getHours());wA.range;const AA=Ln(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Pa)},(t,e)=>(e-t)/Pa,t=>t.getUTCHours());AA.range;const Hh=Ln(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ii)/Ba,t=>t.getDate()-1);Hh.range;const Dv=Ln(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ba,t=>t.getUTCDate()-1);Dv.range;const yB=Ln(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ba,t=>Math.floor(t/Ba));yB.range;function pu(t){return Ln(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ii)/SA)}const kv=pu(0),gy=pu(1),hW=pu(2),pW=pu(3),jc=pu(4),mW=pu(5),gW=pu(6);kv.range;gy.range;hW.range;pW.range;jc.range;mW.range;gW.range;function mu(t){return Ln(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/SA)}const Lv=mu(0),yy=mu(1),yW=mu(2),vW=mu(3),$c=mu(4),_W=mu(5),EW=mu(6);Lv.range;yy.range;yW.range;vW.range;$c.range;_W.range;EW.range;const xA=Ln(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());xA.range;const CA=Ln(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CA.range;const Fa=Ln(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ln(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Fa.range;const za=Ln(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());za.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ln(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});za.range;function vB(t,e,n,r,i,o){const s=[[Hl,1,Ia],[Hl,5,5*Ia],[Hl,15,15*Ia],[Hl,30,30*Ia],[o,1,Ii],[o,5,5*Ii],[o,15,15*Ii],[o,30,30*Ii],[i,1,Pa],[i,3,3*Pa],[i,6,6*Pa],[i,12,12*Pa],[r,1,Ba],[r,2,2*Ba],[n,1,SA],[e,1,gM],[e,3,3*gM],[t,1,qS]];function u(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const v=p&&typeof p.range=="function"?p:c(f,h,p),T=v?v.range(f,+h+1):[];return g?T.reverse():T}function c(f,h,p){const g=Math.abs(h-f)/p,v=lA(([,,A])=>A).right(s,g);if(v===s.length)return t.every(TT(f/qS,h/qS,p));if(v===0)return my.every(Math.max(TT(f,h,p),1));const[T,w]=s[g/s[v-1][2]<s[v][2]/g?v-1:v];return T.every(w)}return[u,c]}const[SW,bW]=vB(za,CA,Lv,yB,AA,TA),[TW,wW]=vB(Fa,xA,kv,Hh,wA,bA);function HS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function GS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Od(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function AW(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=Md(i),h=Dd(i),p=Md(o),g=Dd(o),v=Md(s),T=Dd(s),w=Md(u),A=Dd(u),I=Md(c),D=Dd(c),k={a:se,A:le,b:ge,B:$,c:null,d:bM,e:bM,f:YW,g:iJ,G:aJ,H:jW,I:$W,j:KW,L:_B,m:WW,M:JW,p:Y,q:re,Q:AM,s:xM,S:XW,u:QW,U:ZW,V:eJ,w:tJ,W:nJ,x:null,X:null,y:rJ,Y:oJ,Z:sJ,"%":wM},z={a:j,A:_e,b:Pe,B:xe,c:null,d:TM,e:TM,f:fJ,g:SJ,G:TJ,H:lJ,I:uJ,j:cJ,L:SB,m:dJ,M:hJ,p:Me,q:ut,Q:AM,s:xM,S:pJ,u:mJ,U:gJ,V:yJ,w:vJ,W:_J,x:null,X:null,y:EJ,Y:bJ,Z:wJ,"%":wM},G={a:q,A:B,b:V,B:F,c:ue,d:EM,e:EM,f:zW,g:_M,G:vM,H:SM,I:SM,j:UW,L:FW,m:LW,M:VW,p:O,q:kW,Q:HW,s:GW,S:BW,u:RW,U:NW,V:OW,w:PW,W:MW,x:ce,X,y:_M,Y:vM,Z:DW,"%":qW};k.x=L(n,k),k.X=L(r,k),k.c=L(e,k),z.x=L(n,z),z.X=L(r,z),z.c=L(e,z);function L(fe,Ue){return function(He){var ve=[],Yt=-1,Je=0,tn=fe.length,Ft,ur,mo;for(He instanceof Date||(He=new Date(+He));++Yt<tn;)fe.charCodeAt(Yt)===37&&(ve.push(fe.slice(Je,Yt)),(ur=yM[Ft=fe.charAt(++Yt)])!=null?Ft=fe.charAt(++Yt):ur=Ft==="e"?" ":"0",(mo=Ue[Ft])&&(Ft=mo(He,ur)),ve.push(Ft),Je=Yt+1);return ve.push(fe.slice(Je,Yt)),ve.join("")}}function N(fe,Ue){return function(He){var ve=Od(1900,void 0,1),Yt=M(ve,fe,He+="",0),Je,tn;if(Yt!=He.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Ue&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Je=GS(Od(ve.y,0,1)),tn=Je.getUTCDay(),Je=tn>4||tn===0?yy.ceil(Je):yy(Je),Je=Dv.offset(Je,(ve.V-1)*7),ve.y=Je.getUTCFullYear(),ve.m=Je.getUTCMonth(),ve.d=Je.getUTCDate()+(ve.w+6)%7):(Je=HS(Od(ve.y,0,1)),tn=Je.getDay(),Je=tn>4||tn===0?gy.ceil(Je):gy(Je),Je=Hh.offset(Je,(ve.V-1)*7),ve.y=Je.getFullYear(),ve.m=Je.getMonth(),ve.d=Je.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),tn="Z"in ve?GS(Od(ve.y,0,1)).getUTCDay():HS(Od(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(tn+5)%7:ve.w+ve.U*7-(tn+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,GS(ve)):HS(ve)}}function M(fe,Ue,He,ve){for(var Yt=0,Je=Ue.length,tn=He.length,Ft,ur;Yt<Je;){if(ve>=tn)return-1;if(Ft=Ue.charCodeAt(Yt++),Ft===37){if(Ft=Ue.charAt(Yt++),ur=G[Ft in yM?Ue.charAt(Yt++):Ft],!ur||(ve=ur(fe,He,ve))<0)return-1}else if(Ft!=He.charCodeAt(ve++))return-1}return ve}function O(fe,Ue,He){var ve=f.exec(Ue.slice(He));return ve?(fe.p=h.get(ve[0].toLowerCase()),He+ve[0].length):-1}function q(fe,Ue,He){var ve=v.exec(Ue.slice(He));return ve?(fe.w=T.get(ve[0].toLowerCase()),He+ve[0].length):-1}function B(fe,Ue,He){var ve=p.exec(Ue.slice(He));return ve?(fe.w=g.get(ve[0].toLowerCase()),He+ve[0].length):-1}function V(fe,Ue,He){var ve=I.exec(Ue.slice(He));return ve?(fe.m=D.get(ve[0].toLowerCase()),He+ve[0].length):-1}function F(fe,Ue,He){var ve=w.exec(Ue.slice(He));return ve?(fe.m=A.get(ve[0].toLowerCase()),He+ve[0].length):-1}function ue(fe,Ue,He){return M(fe,e,Ue,He)}function ce(fe,Ue,He){return M(fe,n,Ue,He)}function X(fe,Ue,He){return M(fe,r,Ue,He)}function se(fe){return s[fe.getDay()]}function le(fe){return o[fe.getDay()]}function ge(fe){return c[fe.getMonth()]}function $(fe){return u[fe.getMonth()]}function Y(fe){return i[+(fe.getHours()>=12)]}function re(fe){return 1+~~(fe.getMonth()/3)}function j(fe){return s[fe.getUTCDay()]}function _e(fe){return o[fe.getUTCDay()]}function Pe(fe){return c[fe.getUTCMonth()]}function xe(fe){return u[fe.getUTCMonth()]}function Me(fe){return i[+(fe.getUTCHours()>=12)]}function ut(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ue=L(fe+="",k);return Ue.toString=function(){return fe},Ue},parse:function(fe){var Ue=N(fe+="",!1);return Ue.toString=function(){return fe},Ue},utcFormat:function(fe){var Ue=L(fe+="",z);return Ue.toString=function(){return fe},Ue},utcParse:function(fe){var Ue=N(fe+="",!0);return Ue.toString=function(){return fe},Ue}}}var yM={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,xW=/^%/,CW=/[\\^$*+?|[\]().{}]/g;function ht(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function IW(t){return t.replace(CW,"\\$&")}function Md(t){return new RegExp("^(?:"+t.map(IW).join("|")+")","i")}function Dd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function PW(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function RW(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function NW(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function OW(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function MW(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function vM(t,e,n){var r=Wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _M(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function DW(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kW(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function LW(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function EM(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function UW(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function SM(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function VW(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function BW(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function FW(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function zW(t,e,n){var r=Wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function qW(t,e,n){var r=xW.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function HW(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function GW(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function bM(t,e){return ht(t.getDate(),e,2)}function jW(t,e){return ht(t.getHours(),e,2)}function $W(t,e){return ht(t.getHours()%12||12,e,2)}function KW(t,e){return ht(1+Hh.count(Fa(t),t),e,3)}function _B(t,e){return ht(t.getMilliseconds(),e,3)}function YW(t,e){return _B(t,e)+"000"}function WW(t,e){return ht(t.getMonth()+1,e,2)}function JW(t,e){return ht(t.getMinutes(),e,2)}function XW(t,e){return ht(t.getSeconds(),e,2)}function QW(t){var e=t.getDay();return e===0?7:e}function ZW(t,e){return ht(kv.count(Fa(t)-1,t),e,2)}function EB(t){var e=t.getDay();return e>=4||e===0?jc(t):jc.ceil(t)}function eJ(t,e){return t=EB(t),ht(jc.count(Fa(t),t)+(Fa(t).getDay()===4),e,2)}function tJ(t){return t.getDay()}function nJ(t,e){return ht(gy.count(Fa(t)-1,t),e,2)}function rJ(t,e){return ht(t.getFullYear()%100,e,2)}function iJ(t,e){return t=EB(t),ht(t.getFullYear()%100,e,2)}function oJ(t,e){return ht(t.getFullYear()%1e4,e,4)}function aJ(t,e){var n=t.getDay();return t=n>=4||n===0?jc(t):jc.ceil(t),ht(t.getFullYear()%1e4,e,4)}function sJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ht(e/60|0,"0",2)+ht(e%60,"0",2)}function TM(t,e){return ht(t.getUTCDate(),e,2)}function lJ(t,e){return ht(t.getUTCHours(),e,2)}function uJ(t,e){return ht(t.getUTCHours()%12||12,e,2)}function cJ(t,e){return ht(1+Dv.count(za(t),t),e,3)}function SB(t,e){return ht(t.getUTCMilliseconds(),e,3)}function fJ(t,e){return SB(t,e)+"000"}function dJ(t,e){return ht(t.getUTCMonth()+1,e,2)}function hJ(t,e){return ht(t.getUTCMinutes(),e,2)}function pJ(t,e){return ht(t.getUTCSeconds(),e,2)}function mJ(t){var e=t.getUTCDay();return e===0?7:e}function gJ(t,e){return ht(Lv.count(za(t)-1,t),e,2)}function bB(t){var e=t.getUTCDay();return e>=4||e===0?$c(t):$c.ceil(t)}function yJ(t,e){return t=bB(t),ht($c.count(za(t),t)+(za(t).getUTCDay()===4),e,2)}function vJ(t){return t.getUTCDay()}function _J(t,e){return ht(yy.count(za(t)-1,t),e,2)}function EJ(t,e){return ht(t.getUTCFullYear()%100,e,2)}function SJ(t,e){return t=bB(t),ht(t.getUTCFullYear()%100,e,2)}function bJ(t,e){return ht(t.getUTCFullYear()%1e4,e,4)}function TJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$c(t):$c.ceil(t),ht(t.getUTCFullYear()%1e4,e,4)}function wJ(){return"+0000"}function wM(){return"%"}function AM(t){return+t}function xM(t){return Math.floor(+t/1e3)}var fc,TB,wB;AJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function AJ(t){return fc=AW(t),TB=fc.format,fc.parse,wB=fc.utcFormat,fc.utcParse,fc}function xJ(t){return new Date(t)}function CJ(t){return t instanceof Date?+t:+new Date(+t)}function IA(t,e,n,r,i,o,s,u,c,f){var h=pA(),p=h.invert,g=h.domain,v=f(".%L"),T=f(":%S"),w=f("%I:%M"),A=f("%I %p"),I=f("%a %d"),D=f("%b %d"),k=f("%B"),z=f("%Y");function G(L){return(c(L)<L?v:u(L)<L?T:s(L)<L?w:o(L)<L?A:r(L)<L?i(L)<L?I:D:n(L)<L?k:z)(L)}return h.invert=function(L){return new Date(p(L))},h.domain=function(L){return arguments.length?g(Array.from(L,CJ)):g().map(xJ)},h.ticks=function(L){var N=g();return t(N[0],N[N.length-1],L??10)},h.tickFormat=function(L,N){return N==null?G:f(N)},h.nice=function(L){var N=g();return(!L||typeof L.range!="function")&&(L=e(N[0],N[N.length-1],L??10)),L?g(cB(N,L)):h},h.copy=function(){return qh(h,IA(t,e,n,r,i,o,s,u,c,f))},h}function IJ(){return Di.apply(IA(TW,wW,Fa,xA,kv,Hh,wA,bA,Hl,TB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function PJ(){return Di.apply(IA(SW,bW,za,CA,Lv,Dv,AA,TA,Hl,wB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Uv(){var t=0,e=1,n,r,i,o,s=Cr,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(o(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(g){var v,T;return arguments.length?([v,T]=g,s=p(v,T),f):[s(0),s(1)]}}return f.range=h(of),f.rangeRound=h(hA),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function rl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function AB(){var t=nl(Uv()(Cr));return t.copy=function(){return rl(t,AB())},Ja.apply(t,arguments)}function xB(){var t=yA(Uv()).domain([1,10]);return t.copy=function(){return rl(t,xB()).base(t.base())},Ja.apply(t,arguments)}function CB(){var t=vA(Uv());return t.copy=function(){return rl(t,CB()).constant(t.constant())},Ja.apply(t,arguments)}function PA(){var t=_A(Uv());return t.copy=function(){return rl(t,PA()).exponent(t.exponent())},Ja.apply(t,arguments)}function RJ(){return PA.apply(null,arguments).exponent(.5)}function IB(){var t=[],e=Cr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Fh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(js),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>mY(t,o/r))},n.copy=function(){return IB(e).domain(t)},Ja.apply(n,arguments)}function Vv(){var t=0,e=.5,n=1,r=1,i,o,s,u,c,f=Cr,h,p=!1,g;function v(w){return isNaN(w=+w)?g:(w=.5+((w=+h(w))-o)*(r*w<r*o?u:c),f(p?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([t,e,n]=w,i=h(t=+t),o=h(e=+e),s=h(n=+n),u=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,v):[t,e,n]},v.clamp=function(w){return arguments.length?(p=!!w,v):p},v.interpolator=function(w){return arguments.length?(f=w,v):f};function T(w){return function(A){var I,D,k;return arguments.length?([I,D,k]=A,f=qY(w,[I,D,k]),v):[f(0),f(.5),f(1)]}}return v.range=T(of),v.rangeRound=T(hA),v.unknown=function(w){return arguments.length?(g=w,v):g},function(w){return h=w,i=w(t),o=w(e),s=w(n),u=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,v}}function PB(){var t=nl(Vv()(Cr));return t.copy=function(){return rl(t,PB())},Ja.apply(t,arguments)}function RB(){var t=yA(Vv()).domain([.1,1,10]);return t.copy=function(){return rl(t,RB()).base(t.base())},Ja.apply(t,arguments)}function NB(){var t=vA(Vv());return t.copy=function(){return rl(t,NB()).constant(t.constant())},Ja.apply(t,arguments)}function RA(){var t=_A(Vv());return t.copy=function(){return rl(t,RA()).exponent(t.exponent())},Ja.apply(t,arguments)}function NJ(){return RA.apply(null,arguments).exponent(.5)}const jd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cA,scaleDiverging:PB,scaleDivergingLog:RB,scaleDivergingPow:RA,scaleDivergingSqrt:NJ,scaleDivergingSymlog:NB,scaleIdentity:uB,scaleImplicit:wT,scaleLinear:lB,scaleLog:fB,scaleOrdinal:uA,scalePoint:vY,scalePow:EA,scaleQuantile:pB,scaleQuantize:mB,scaleRadial:hB,scaleSequential:AB,scaleSequentialLog:xB,scaleSequentialPow:PA,scaleSequentialQuantile:IB,scaleSequentialSqrt:RJ,scaleSequentialSymlog:CB,scaleSqrt:fW,scaleSymlog:dB,scaleThreshold:gB,scaleTime:IJ,scaleUtc:PJ,tickFormat:sB},Symbol.toStringTag,{value:"Module"}));var Xa=t=>t.chartData,Bv=Z([Xa],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),OB=(t,e,n,r)=>r?Bv(t):Xa(t),OJ=(t,e,n)=>n?Bv(t):Xa(t);function Ws(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Zt(e)&&Zt(n))return!0}return!1}function CM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function MB(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Zt(n))i=n;else if(typeof n=="function")return;if(Zt(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(Ws(s))return s}}function MJ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ws(r))return CM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,s,u;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Re(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&UN.test(i)){var c=UN.exec(i);if(c==null||c[1]==null||e==null)s=void 0;else{var f=+c[1];s=e[0]-f}}else s=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(Re(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&VN.test(o)){var h=VN.exec(o);if(h==null||h[1]==null||e==null)u=void 0;else{var p=+h[1];u=e[1]+p}}else u=e==null?void 0:e[1];var g=[s,u];if(Ws(g))return e==null?g:CM(g,e,n)}}}var af=1e9,DJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OA,Kt=!0,Ni="[DecimalError] ",Yl=Ni+"Invalid argument: ",NA=Ni+"Exponent out of range: ",sf=Math.floor,Ul=Math.pow,kJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oi,jn=1e7,Bt=7,DB=9007199254740991,vy=sf(DB/Bt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Bt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(t){return Ma(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,n=e.constructor;return Nt(Ma(e,new n(t),0,1),n.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return Rn(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(oi))throw Error(Ni+"NaN");if(n.s<1)throw Error(Ni+(n.s?"NaN":"-Infinity"));return n.eq(oi)?new r(0):(Kt=!1,e=Ma(vh(n,o),vh(t,o),o),Kt=!0,Nt(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?UB(e,t):kB(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ni+"NaN");return n.s?(Kt=!1,e=Ma(n,t,0,1).times(t),Kt=!0,n.minus(e)):Nt(new r(n),i)};Ce.naturalExponential=Ce.exp=function(){return LB(this)};Ce.naturalLogarithm=Ce.ln=function(){return vh(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kB(e,t):UB(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Yl+t);if(e=Rn(i)+1,r=i.d.length-1,n=r*Bt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ce.squareRoot=Ce.sqrt=function(){var t,e,n,r,i,o,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Ni+"NaN")}for(t=Rn(u),Kt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Go(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=sf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(o=r,r=o.plus(Ma(u,o,s+2)).times(.5),Go(o.d).slice(0,s)===(e=Go(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Nt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;s+=4}return Kt=!0,Nt(r,n)};Ce.times=Ce.mul=function(t){var e,n,r,i,o,s,u,c,f,h=this,p=h.constructor,g=h.d,v=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,f=v.length,c<f&&(o=g,g=v,v=o,s=c,c=f,f=s),o=[],s=c+f,r=s;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+v[r]*g[i-r-1]+e,o[i--]=u%jn|0,e=u/jn|0;o[i]=(o[i]+e)%jn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Kt?Nt(t,p.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Qo(t,0,af),e===void 0?e=r.rounding:Qo(e,0,8),Nt(n,t+Rn(n)+1,e))};Ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=nu(r,!0):(Qo(t,0,af),e===void 0?e=i.rounding:Qo(e,0,8),r=Nt(new i(r),t+1,e),n=nu(r,!0,t+1)),n};Ce.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?nu(i):(Qo(t,0,af),e===void 0?e=o.rounding:Qo(e,0,8),r=Nt(new o(i),t+Rn(i)+1,e),n=nu(r.abs(),!1,t+Rn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return Nt(new e(t),Rn(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,n,r,i,o,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(oi);if(u=new c(u),!u.s){if(t.s<1)throw Error(Ni+"Infinity");return u}if(u.eq(oi))return u;if(r=c.precision,t.eq(oi))return Nt(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=u.s,s){if((n=h<0?-h:h)<=DB){for(i=new c(oi),e=Math.ceil(r/Bt+4),Kt=!1;n%2&&(i=i.times(u),PM(i.d,e)),n=sf(n/2),n!==0;)u=u.times(u),PM(u.d,e);return Kt=!0,t.s<0?new c(oi).div(i):Nt(i,r)}}else if(o<0)throw Error(Ni+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Kt=!1,i=t.times(vh(u,r+f)),Kt=!0,i=LB(i),i.s=o,i};Ce.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Rn(i),r=nu(i,n<=o.toExpNeg||n>=o.toExpPos)):(Qo(t,1,af),e===void 0?e=o.rounding:Qo(e,0,8),i=Nt(new o(i),t,e),n=Rn(i),r=nu(i,t<=n||n<=o.toExpNeg,t)),r};Ce.toSignificantDigits=Ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Qo(t,1,af),e===void 0?e=r.rounding:Qo(e,0,8)),Nt(new r(n),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rn(t),n=t.constructor;return nu(t,e<=n.toExpNeg||e>=n.toExpPos)};function kB(t,e){var n,r,i,o,s,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Kt?Nt(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(r=c,o=-o,u=f.length):(r=f,i=s,u=c.length),s=Math.ceil(p/Bt),u=s>u?s+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=c.length,o=f.length,u-o<0&&(o=u,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/jn|0,c[o]%=jn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Kt?Nt(e,p):e}function Qo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Yl+t)}function Go(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Bt-r.length,n&&(o+=Ls(n)),o+=r;s=t[e],r=s+"",n=Bt-r.length,n&&(o+=Ls(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Ma=(function(){function t(r,i){var o,s=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+s,r[u]=o%jn|0,s=o/jn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var u,c;if(o!=s)c=o>s?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*jn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var u,c,f,h,p,g,v,T,w,A,I,D,k,z,G,L,N,M,O=r.constructor,q=r.s==i.s?1:-1,B=r.d,V=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Ni+"Division by zero");for(c=r.e-i.e,N=V.length,G=B.length,v=new O(q),T=v.d=[],f=0;V[f]==(B[f]||0);)++f;if(V[f]>(B[f]||0)&&--c,o==null?D=o=O.precision:s?D=o+(Rn(r)-Rn(i))+1:D=o,D<0)return new O(0);if(D=D/Bt+2|0,f=0,N==1)for(h=0,V=V[0],D++;(f<G||h)&&D--;f++)k=h*jn+(B[f]||0),T[f]=k/V|0,h=k%V|0;else{for(h=jn/(V[0]+1)|0,h>1&&(V=t(V,h),B=t(B,h),N=V.length,G=B.length),z=N,w=B.slice(0,N),A=w.length;A<N;)w[A++]=0;M=V.slice(),M.unshift(0),L=V[0],V[1]>=jn/2&&++L;do h=0,u=e(V,w,N,A),u<0?(I=w[0],N!=A&&(I=I*jn+(w[1]||0)),h=I/L|0,h>1?(h>=jn&&(h=jn-1),p=t(V,h),g=p.length,A=w.length,u=e(p,w,g,A),u==1&&(h--,n(p,N<g?M:V,g))):(h==0&&(u=h=1),p=V.slice()),g=p.length,g<A&&p.unshift(0),n(w,p,A),u==-1&&(A=w.length,u=e(V,w,N,A),u<1&&(h++,n(w,N<A?M:V,A))),A=w.length):u===0&&(h++,w=[0]),T[f++]=h,u&&w[0]?w[A++]=B[z]||0:(w=[B[z]],A=1);while((z++<G||w[0]!==void 0)&&D--)}return T[0]||T.shift(),v.e=c,Nt(v,s?o+Rn(v)+1:o)}})();function LB(t,e){var n,r,i,o,s,u,c=0,f=0,h=t.constructor,p=h.precision;if(Rn(t)>16)throw Error(NA+Rn(t));if(!t.s)return new h(oi);for(Kt=!1,u=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(Ul(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new h(oi),h.precision=u;;){if(i=Nt(i.times(t),u),n=n.times(++c),s=o.plus(Ma(i,n,u)),Go(s.d).slice(0,u)===Go(o.d).slice(0,u)){for(;f--;)o=Nt(o.times(o),u);return h.precision=p,e==null?(Kt=!0,Nt(o,p)):o}o=s}}function Rn(t){for(var e=t.e*Bt,n=t.d[0];n>=10;n/=10)e++;return e}function jS(t,e,n){if(e>t.LN10.sd())throw Kt=!0,n&&(t.precision=n),Error(Ni+"LN10 precision limit exceeded");return Nt(new t(t.LN10),e)}function Ls(t){for(var e="";t--;)e+="0";return e}function vh(t,e){var n,r,i,o,s,u,c,f,h,p=1,g=10,v=t,T=v.d,w=v.constructor,A=w.precision;if(v.s<1)throw Error(Ni+(v.s?"NaN":"-Infinity"));if(v.eq(oi))return new w(0);if(e==null?(Kt=!1,f=A):f=e,v.eq(10))return e==null&&(Kt=!0),jS(w,f);if(f+=g,w.precision=f,n=Go(T),r=n.charAt(0),o=Rn(v),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Go(v.d),r=n.charAt(0),p++;o=Rn(v),r>1?(v=new w("0."+n),o++):v=new w(r+"."+n.slice(1))}else return c=jS(w,f+2,A).times(o+""),v=vh(new w(r+"."+n.slice(1)),f-g).plus(c),w.precision=A,e==null?(Kt=!0,Nt(v,A)):v;for(u=s=v=Ma(v.minus(oi),v.plus(oi),f),h=Nt(v.times(v),f),i=3;;){if(s=Nt(s.times(h),f),c=u.plus(Ma(s,new w(i),f)),Go(c.d).slice(0,f)===Go(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(jS(w,f+2,A).times(o+""))),u=Ma(u,new w(p),f),w.precision=A,e==null?(Kt=!0,Nt(u,A)):u;u=c,i+=2}}function IM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=sf(n/Bt),t.d=[],r=(n+1)%Bt,n<0&&(r+=Bt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Bt;r<i;)t.d.push(+e.slice(r,r+=Bt));e=e.slice(r),r=Bt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Kt&&(t.e>vy||t.e<-vy))throw Error(NA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Nt(t,e,n){var r,i,o,s,u,c,f,h,p=t.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Bt,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/Bt),o=p.length,h>=o)return t;for(f=o=p[h],s=1;o>=10;o/=10)s++;r%=Bt,i=r-Bt+s}if(n!==void 0&&(o=Ul(10,s-i-1),u=f/o%10|0,c=e<0||p[h+1]!==void 0||f%o,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/Ul(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(o=Rn(t),p.length=1,e=e-o-1,p[0]=Ul(10,(Bt-e%Bt)%Bt),t.e=sf(-e/Bt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,o=1,h--):(p.length=h+1,o=Ul(10,Bt-r),p[h]=i>0?(f/Ul(10,s-i)%Ul(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==jn&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=jn)break;p[h--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(Kt&&(t.e>vy||t.e<-vy))throw Error(NA+Rn(t));return t}function UB(t,e){var n,r,i,o,s,u,c,f,h,p,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Kt?Nt(e,v):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,u=p.length):(n=p,r=f,u=c.length),i=Math.max(Math.ceil(v/Bt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=jn-1;--c[o],c[i]+=jn}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Kt?Nt(e,v):e):new g(0)}function nu(t,e,n){var r,i=Rn(t),o=Go(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ls(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ls(-i-1)+o,n&&(r=n-s)>0&&(o+=Ls(r))):i>=s?(o+=Ls(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Ls(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Ls(r))),t.s<0?"-"+o:o}function PM(t,e){if(t.length>e)return t.length=e,!0}function VB(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Yl+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return IM(s,o.toString())}else if(typeof o!="string")throw Error(Yl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,kJ.test(o))IM(s,o);else throw Error(Yl+o)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=VB,i.config=i.set=LJ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function LJ(t){if(!t||typeof t!="object")throw Error(Ni+"Object expected");var e,n,r,i=["precision",1,af,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(sf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Yl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Yl+n+": "+r);return this}var OA=VB(DJ);oi=new OA(1);const bt=OA;var UJ=t=>t,BB={},FB=t=>t===BB,RM=t=>function e(){return arguments.length===0||arguments.length===1&&FB(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},zB=(t,e)=>t===1?e:RM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==BB).length;return o>=t?e(...r):zB(t-o,RM(function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];var f=r.map(h=>FB(h)?u.shift():h);return e(...f,...u)}))}),VJ=t=>zB(t.length,t),IT=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},BJ=VJ((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),FJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return UJ;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((u,c)=>c(u),o(...arguments))}};function qB(t){var e;return t===0?e=1:e=Math.floor(new bt(t).abs().log(10).toNumber())+1,e}function HB(t,e,n){for(var r=new bt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var GB=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},jB=(t,e,n)=>{if(t.lte(0))return new bt(0);var r=qB(t.toNumber()),i=new bt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,u=new bt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return e?new bt(c.toNumber()):new bt(Math.ceil(c.toNumber()))},zJ=(t,e,n)=>{var r=new bt(1),i=new bt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new bt(10).pow(qB(t)-1),i=new bt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new bt(Math.floor(t)))}else t===0?i=new bt(Math.floor((e-1)/2)):n||(i=new bt(Math.floor(t)));var s=Math.floor((e-1)/2),u=FJ(BJ(c=>i.add(new bt(c-s).mul(r)).toNumber()),IT);return u(0,e)},$B=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new bt(0),tickMin:new bt(0),tickMax:new bt(0)};var s=jB(new bt(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new bt(0):(u=new bt(e).add(n).div(2),u=u.sub(new bt(u).mod(s)));var c=Math.ceil(u.sub(e).div(s).toNumber()),f=Math.ceil(new bt(n).sub(u).div(s).toNumber()),h=c+f+1;return h>r?$B(e,n,r,i,o+1):(h<r&&(f=n>0?f+(r-h):f,c=n>0?c:c+(r-h)),{step:s,tickMin:u.sub(new bt(c).mul(s)),tickMax:u.add(new bt(f).mul(s))})},qJ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[u,c]=GB([n,r]);if(u===-1/0||c===1/0){var f=c===1/0?[u,...IT(0,i-1).map(()=>1/0)]:[...IT(0,i-1).map(()=>-1/0),c];return n>r?f.reverse():f}if(u===c)return zJ(u,i,o);var{step:h,tickMin:p,tickMax:g}=$B(u,c,s,o,0),v=HB(p,g.add(new bt(.1).mul(h)),h);return n>r?v.reverse():v},HJ=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,u]=GB([r,i]);if(s===-1/0||u===1/0)return[r,i];if(s===u)return[s];var c=Math.max(n,2),f=jB(new bt(u).sub(s).div(c-1),o,0),h=[...HB(new bt(s),new bt(u),f),u];return o===!1&&(h=h.map(p=>Math.round(p))),r>i?h.reverse():h},KB=t=>t.rootProps.maxBarSize,GJ=t=>t.rootProps.barGap,YB=t=>t.rootProps.barCategoryGap,jJ=t=>t.rootProps.barSize,Gh=t=>t.rootProps.stackOffset,WB=t=>t.rootProps.reverseStackOrder,MA=t=>t.options.chartName,DA=t=>t.rootProps.syncId,JB=t=>t.rootProps.syncMethod,kA=t=>t.options.eventEmitter,hn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},zo={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:hn.axis},Fr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:hn.axis},Fv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},$J={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:zo.angleAxisId,includeHidden:!1,name:void 0,reversed:zo.reversed,scale:zo.scale,tick:zo.tick,tickCount:void 0,ticks:void 0,type:zo.type,unit:void 0},KJ={allowDataOverflow:Fr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fr.scale,tick:Fr.tick,tickCount:Fr.tickCount,ticks:void 0,type:Fr.type,unit:void 0},YJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:zo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zo.scale,tick:zo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},WJ={allowDataOverflow:Fr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fr.scale,tick:Fr.tick,tickCount:Fr.tickCount,ticks:void 0,type:"category",unit:void 0},lf=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?YJ:$J,jh=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?WJ:KJ,zv=t=>t.polarOptions,LA=Z([Ya,Wa,Yn],HK),XB=Z([zv,LA],(t,e)=>{if(t!=null)return co(t.innerRadius,e,0)}),QB=Z([zv,LA],(t,e)=>{if(t!=null)return co(t.outerRadius,e,e*.8)}),JJ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},ZB=Z([zv],JJ),XJ=Z([lf,ZB],Fv),e3=Z([LA,XB,QB],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),QJ=Z([jh,e3],Fv),uf=Z([ot,zv,XB,QB,Ya,Wa],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:u,startAngle:c,endAngle:f}=e;return{cx:co(s,i,i/2),cy:co(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),Ot=(t,e)=>e,$h=(t,e,n)=>n;function UA(t){return t==null?void 0:t.id}function t3(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,s=new Map;return t.forEach(u=>{var c,f=(c=u.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var h=UA(u);f.forEach((p,g)=>{var v=o==null||i?g:String(pn(p,o,null)),T=pn(p,u.dataKey,0),w;s.has(v)?w=s.get(v):w={},Object.assign(w,{[h]:T}),s.set(v,w)})}}),Array.from(s.values())}function qv(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Hv=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Gv(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function ZJ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Un=t=>{var e=ot(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},cf=t=>t.tooltip.settings.axisId;function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){eX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eX(t,e,n){return(e=tX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tX(t){var e=nX(t,"string");return typeof e=="symbol"?e:e+""}function nX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PT=[0,"auto"],Hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},n3=(t,e)=>t.cartesianAxis.xAxis[e],Qa=(t,e)=>{var n=n3(t,e);return n??Hn},Gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:PT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Uh},r3=(t,e)=>t.cartesianAxis.yAxis[e],Za=(t,e)=>{var n=r3(t,e);return n??Gn},rX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},VA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??rX},en=(t,e,n)=>{switch(e){case"xAxis":return Qa(t,n);case"yAxis":return Za(t,n);case"zAxis":return VA(t,n);case"angleAxis":return lf(t,n);case"radiusAxis":return jh(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},iX=(t,e,n)=>{switch(e){case"xAxis":return Qa(t,n);case"yAxis":return Za(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ff=(t,e,n)=>{switch(e){case"xAxis":return Qa(t,n);case"yAxis":return Za(t,n);case"angleAxis":return lf(t,n);case"radiusAxis":return jh(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},i3=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function BA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var FA=t=>t.graphicalItems.cartesianItems,oX=Z([Ot,$h],BA),zA=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Kh=Z([FA,en,oX],zA,{memoizeOptions:{resultEqualityCheck:Gv}}),o3=Z([Kh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(qv)),a3=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),aX=Z([Kh],a3),qA=t=>t.map(e=>e.data).filter(Boolean).flat(1),sX=Z([Kh],qA,{memoizeOptions:{resultEqualityCheck:Gv}}),HA=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},GA=Z([sX,OB],HA),jA=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:pn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:pn(i,r)}))):t.map(r=>({value:r})),jv=Z([GA,en,Kh],jA);function s3(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Sg(t){if(Jo(t)||t instanceof Date){var e=Number(t);if(Zt(e))return e}}function OM(t){if(Array.isArray(t)){var e=[Sg(t[0]),Sg(t[1])];return Ws(e)?e:void 0}var n=Sg(t);if(n!=null)return[n,n]}function qa(t){return t.map(Sg).filter(WG)}function lX(t,e,n){return!n||typeof e!="number"||uo(e)?[]:n.length?qa(n.flatMap(r=>{var i=pn(t,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!Zt(o)||!Zt(s)))return[e-o,e+s]})):[]}var Vn=t=>{var e=Un(t),n=cf(t);return ff(t,e,n)},Yh=Z([Vn],t=>t==null?void 0:t.dataKey),uX=Z([o3,OB,Vn],t3),l3=(t,e,n,r)=>{var i={},o=e.reduce((s,u)=>{if(u.stackId==null)return s;var c=s[u.stackId];return c==null&&(c=[]),c.push(u),s[u.stackId]=c,s},i);return Object.fromEntries(Object.entries(o).map(s=>{var[u,c]=s,f=r?[...c].reverse():c,h=f.map(UA);return[u,{stackedData:b8(t,h,n),graphicalItems:f}]}))},RT=Z([uX,o3,Gh,WB],l3),u3=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var s=C8(t,i,o);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},cX=Z([en],t=>t.allowDataOverflow),$A=t=>{var e;if(t==null||!("domain"in t))return PT;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=qa(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:PT},KA=Z([en],$A),YA=Z([KA,cX],MB),fX=Z([RT,Xa,Ot,YA],u3,{memoizeOptions:{resultEqualityCheck:Hv}}),$v=t=>t.errorBars,dX=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>s3(n,r)),Ey=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),u=Math.max(...o);return[s,u]}},WA=(t,e,n,r,i)=>{var o,s;if(n.length>0&&t.forEach(u=>{n.forEach(c=>{var f,h,p=(f=r[c.id])===null||f===void 0?void 0:f.filter(I=>s3(i,I)),g=pn(u,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),v=lX(u,g,p);if(v.length>=2){var T=Math.min(...v),w=Math.max(...v);(o==null||T<o)&&(o=T),(s==null||w>s)&&(s=w)}var A=OM(g);A!=null&&(o=o==null?A[0]:Math.min(o,A[0]),s=s==null?A[1]:Math.max(s,A[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var c=OM(pn(u,e.dataKey));c!=null&&(o=o==null?c[0]:Math.min(o,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),Zt(o)&&Zt(s))return[o,s]},hX=Z([GA,en,aX,$v,Ot],WA,{memoizeOptions:{resultEqualityCheck:Hv}});function pX(t){var{value:e}=t;if(Jo(e)||e instanceof Date)return e}var mX=(t,e,n)=>{var r=t.map(pX).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&NV(r))?Q4(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},c3=t=>t.referenceElements.dots,df=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),gX=Z([c3,Ot,$h],df),f3=t=>t.referenceElements.areas,yX=Z([f3,Ot,$h],df),d3=t=>t.referenceElements.lines,vX=Z([d3,Ot,$h],df),h3=(t,e)=>{if(t!=null){var n=qa(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},_X=Z(gX,Ot,h3),p3=(t,e)=>{if(t!=null){var n=qa(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},EX=Z([yX,Ot],p3);function SX(t){var e;if(t.x!=null)return qa([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:qa(n)}function bX(t){var e;if(t.y!=null)return qa([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:qa(n)}var m3=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?SX(r):bX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},TX=Z([vX,Ot],m3),wX=Z(_X,TX,EX,(t,e,n)=>Ey(t,n,e)),JA=(t,e,n,r,i,o,s,u)=>{if(n!=null)return n;var c=s==="vertical"&&u==="xAxis"||s==="horizontal"&&u==="yAxis",f=c?Ey(r,o,i):Ey(o,i);return MJ(e,f,t.allowDataOverflow)},AX=Z([en,KA,YA,fX,hX,wX,ot,Ot],JA,{memoizeOptions:{resultEqualityCheck:Hv}}),xX=[0,1],XA=(t,e,n,r,i,o,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:u,type:c}=t,f=tl(e,o);if(f&&u==null){var h;return Q4(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return c==="category"?mX(r,t,f):i==="expand"?xX:s}},QA=Z([en,ot,GA,jv,Gh,Ot,AX],XA),g3=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:s}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(Mh(o));return u in jd?u:"point"}}},il=Z([en,ot,i3,MA,Ot],g3);function CX(t){if(t!=null){if(t in jd)return jd[t]();var e="scale".concat(Mh(t));if(e in jd)return jd[e]()}}function Kv(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=CX(e);if(i!=null){var o=i.domain(n).range(r);return y8(o),o}}}var ZA=(t,e,n)=>{var r=$A(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ws(t))return qJ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ws(t))return HJ(t,e.tickCount,e.allowDecimals)}},ex=Z([QA,ff,il],ZA),tx=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ws(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],s=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(s,u)]}return e},IX=Z([en,QA,ex,Ot],tx),PX=Z(jv,en,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(qa(t.map(p=>p.value))).sort((p,g)=>p-g),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var s=o-i;if(s===0)return 1/0;for(var u=0;u<r.length-1;u++){var c=r[u],f=r[u+1];if(!(c==null||f==null)){var h=f-c;n=Math.min(n,h)}}return n/s}}),y3=Z(PX,ot,YB,Yn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Zt(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var s=co(n,t*o),u=t*o/2;return u-s-(u-s)/o*s}return 0}),RX=(t,e,n)=>{var r=Qa(t,e);return r==null||typeof r.padding!="string"?0:y3(t,"xAxis",e,n,r.padding)},NX=(t,e,n)=>{var r=Za(t,e);return r==null||typeof r.padding!="string"?0:y3(t,"yAxis",e,n,r.padding)},OX=Z(Qa,RX,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),MX=Z(Za,NX,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),DX=Z([Yn,OX,wv,Tv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),kX=Z([Yn,ot,MX,wv,Tv,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Wh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return DX(t,n,r);case"yAxis":return kX(t,n,r);case"zAxis":return(i=VA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return ZB(t);case"radiusAxis":return e3(t,n);default:return}},v3=Z([en,Wh],Fv),Yv=Z([en,il,IX,v3],Kv);Z([Kh,$v,Ot],dX);function _3(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Wv=(t,e)=>e,Jv=(t,e,n)=>n,LX=Z(Sv,Wv,Jv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(_3)),UX=Z(bv,Wv,Jv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(_3)),E3=(t,e)=>({width:t.width,height:e.height}),VX=(t,e)=>{var n=typeof e.width=="number"?e.width:Uh;return{width:n,height:t.height}},S3=Z(Yn,Qa,E3),BX=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},FX=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},zX=Z(Wa,Yn,LX,Wv,Jv,(t,e,n,r,i)=>{var o={},s;return n.forEach(u=>{var c=E3(e,u);s==null&&(s=BX(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=s-Number(f)*c.height,s+=(f?-1:1)*c.height}),o}),qX=Z(Ya,Yn,UX,Wv,Jv,(t,e,n,r,i)=>{var o={},s;return n.forEach(u=>{var c=VX(e,u);s==null&&(s=FX(e,r,t));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=s-Number(f)*c.width,s+=(f?-1:1)*c.width}),o}),HX=(t,e)=>{var n=Qa(t,e);if(n!=null)return zX(t,n.orientation,n.mirror)},GX=Z([Yn,Qa,HX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),jX=(t,e)=>{var n=Za(t,e);if(n!=null)return qX(t,n.orientation,n.mirror)},$X=Z([Yn,Za,jX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),b3=Z(Yn,Za,(t,e)=>{var n=typeof e.width=="number"?e.width:Uh;return{width:n,height:t.height}}),MM=(t,e,n)=>{switch(e){case"xAxis":return S3(t,n).width;case"yAxis":return b3(t,n).height;default:return}},T3=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,u=tl(t,r),c=e.map(f=>f.value);if(s&&u&&o==="category"&&i&&NV(c))return c}},Jh=Z([ot,jv,en,Ot],T3),nx=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=tl(t,r);if(s&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},rx=Z([ot,jv,ff,Ot],nx),DM=Z([ot,iX,il,Yv,Jh,rx,Wh,ex,Ot],(t,e,n,r,i,o,s,u,c)=>{if(e!=null){var f=tl(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:s,realScaleType:n,scale:r}}}),w3=(t,e,n,r,i,o,s,u,c)=>{if(!(e==null||r==null)){var f=tl(t,c),{type:h,ticks:p,tickCount:g}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=h==="category"&&r.bandwidth?r.bandwidth()/v:0;T=c==="angleAxis"&&o!=null&&o.length>=2?zr(o[0]-o[1])*2*T:T;var w=p||i;if(w){var A=w.map((I,D)=>{var k=s?s.indexOf(I):I;return{index:D,coordinate:r(k)+T,value:I,offset:T}});return A.filter(I=>Zt(I.coordinate))}return f&&u?u.map((I,D)=>({coordinate:r(I)+T,value:I,index:D,offset:T})).filter(I=>Zt(I.coordinate)):r.ticks?r.ticks(g).map(I=>({coordinate:r(I)+T,value:I,offset:T})):r.domain().map((I,D)=>({coordinate:r(I)+T,value:s?s[I]:I,index:D,offset:T}))}},A3=Z([ot,ff,il,Yv,ex,Wh,Jh,rx,Ot],w3),x3=(t,e,n,r,i,o,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=tl(t,s),{tickCount:c}=e,f=0;return f=s==="angleAxis"&&(r==null?void 0:r.length)>=2?zr(r[0]-r[1])*2*f:f,u&&o?o.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}},Kc=Z([ot,ff,Yv,Wh,Jh,rx,Ot],x3),Yc=Z(en,Yv,(t,e)=>{if(!(t==null||e==null))return _y(_y({},t),{},{scale:e})}),KX=Z([en,il,QA,v3],Kv);Z((t,e,n)=>VA(t,n),KX,(t,e)=>{if(!(t==null||e==null))return _y(_y({},t),{},{scale:e})});var YX=Z([ot,Sv,bv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),C3=t=>t.options.defaultTooltipEventType,I3=t=>t.options.validateTooltipEventTypes;function P3(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function ix(t,e){var n=C3(t),r=I3(t);return P3(e,n,r)}function WX(t){return Ae(e=>ix(e,t))}var R3=(t,e)=>{var n,r=Number(e);if(!(uo(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},JX=t=>t.tooltip.settings,Vs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},XX={itemInteraction:{click:Vs,hover:Vs},axisInteraction:{click:Vs,hover:Vs},keyboardInteraction:Vs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},N3=Kr({name:"tooltip",initialState:XX,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:jt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ao(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:jt()},removeTooltipEntrySettings:{reducer(t,e){var n=ao(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:jt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:QX,replaceTooltipEntrySettings:ZX,removeTooltipEntrySettings:eQ,setTooltipSettingsState:tQ,setActiveMouseOverItemIndex:O3,mouseLeaveItem:nQ,mouseLeaveChart:M3,setActiveClickItemIndex:rQ,setMouseOverAxisIndex:D3,setMouseClickAxisIndex:iQ,setSyncInteraction:NT,setKeyboardInteraction:OT}=N3.actions,oQ=N3.reducer;function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){aQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aQ(t,e,n){return(e=sQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sQ(t){var e=lQ(t,"string");return typeof e=="symbol"?e:e+""}function lQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function cQ(t){return t.index!=null}var k3=(t,e,n,r)=>{if(e==null)return Vs;var i=uQ(t,e,n);if(i==null)return Vs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(cQ(i)){if(o)return Qm(Qm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Qm(Qm({},Vs),{},{coordinate:i.coordinate})};function fQ(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function dQ(t,e){var n=fQ(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),s=Math.max(r,i);return n>=o&&n<=s}function hQ(t,e,n){if(n==null||e==null)return!0;var r=pn(t,e);return r==null||!Ws(n)?!0:dQ(r,n)}var ox=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!Zt(o))return i;var s=0,u=1/0;e.length>0&&(u=e.length-1);var c=Math.max(s,Math.min(o,u)),f=e[c];return f==null||hQ(f,n,r)?String(c):null},L3=(t,e,n,r,i,o,s,u)=>{if(!(o==null||u==null)){var c=s[0],f=c==null?void 0:u(c.positions,o);if(f!=null)return f;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},U3=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=t.tooltipItemPayloads[0];return o!=null?[o]:[]}return t.tooltipItemPayloads.filter(s=>{var u;return((u=s.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},Xh=t=>t.options.tooltipPayloadSearcher,hf=t=>t.tooltip;function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){pQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pQ(t,e,n){return(e=mQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mQ(t){var e=gQ(t,"string");return typeof e=="symbol"?e:e+""}function gQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yQ(t,e){return t??e}var V3=(t,e,n,r,i,o,s)=>{if(!(e==null||o==null)){var{chartData:u,computedData:c,dataStartIndex:f,dataEndIndex:h}=n,p=[];return t.reduce((g,v)=>{var T,{dataDefinedOnItem:w,settings:A}=v,I=yQ(w,u),D=Array.isArray(I)?b4(I,f,h):I,k=(T=A==null?void 0:A.dataKey)!==null&&T!==void 0?T:r,z=A==null?void 0:A.nameKey,G;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&s==="axis"?G=YG(D,r,i):G=o(D,e,c,z),Array.isArray(G))G.forEach(N=>{var M=UM(UM({},A),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});g.push(BN({tooltipEntrySettings:M,dataKey:N.dataKey,payload:N.payload,value:pn(N.payload,N.dataKey),name:N.name}))});else{var L;g.push(BN({tooltipEntrySettings:A,dataKey:k,payload:G,value:pn(G,k),name:(L=pn(G,z))!==null&&L!==void 0?L:A==null?void 0:A.name}))}return g},p)}},ax=Z([Vn,ot,i3,MA,Un],g3),vQ=Z([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),_Q=Z([Un,cf],BA),pf=Z([vQ,Vn,_Q],zA,{memoizeOptions:{resultEqualityCheck:Gv}}),EQ=Z([pf],t=>t.filter(qv)),SQ=Z([pf],qA,{memoizeOptions:{resultEqualityCheck:Gv}}),mf=Z([SQ,Xa],HA),bQ=Z([EQ,Xa,Vn],t3),sx=Z([mf,Vn,pf],jA),B3=Z([Vn],$A),TQ=Z([Vn],t=>t.allowDataOverflow),F3=Z([B3,TQ],MB),wQ=Z([pf],t=>t.filter(qv)),AQ=Z([bQ,wQ,Gh,WB],l3),xQ=Z([AQ,Xa,Un,F3],u3),CQ=Z([pf],a3),IQ=Z([mf,Vn,CQ,$v,Un],WA,{memoizeOptions:{resultEqualityCheck:Hv}}),PQ=Z([c3,Un,cf],df),RQ=Z([PQ,Un],h3),NQ=Z([f3,Un,cf],df),OQ=Z([NQ,Un],p3),MQ=Z([d3,Un,cf],df),DQ=Z([MQ,Un],m3),kQ=Z([RQ,DQ,OQ],Ey),LQ=Z([Vn,B3,F3,xQ,IQ,kQ,ot,Un],JA),Qh=Z([Vn,ot,mf,sx,Gh,Un,LQ],XA),UQ=Z([Qh,Vn,ax],ZA),VQ=Z([Vn,Qh,UQ,Un],tx),z3=t=>{var e=Un(t),n=cf(t),r=!1;return Wh(t,e,n,r)},q3=Z([Vn,z3],Fv),H3=Z([Vn,ax,VQ,q3],Kv),BQ=Z([ot,sx,Vn,Un],T3),FQ=Z([ot,sx,Vn,Un],nx),zQ=(t,e,n,r,i,o,s,u)=>{if(e){var{type:c}=e,f=tl(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?zr(i[0]-i[1])*2*p:p,f&&s?s.map((g,v)=>({coordinate:r(g)+p,value:g,index:v,offset:p})):r.domain().map((g,v)=>({coordinate:r(g)+p,value:o?o[g]:g,index:v,offset:p}))}}},es=Z([ot,Vn,ax,H3,z3,BQ,FQ,Un],zQ),lx=Z([C3,I3,JX],(t,e,n)=>P3(n.shared,t,e)),G3=t=>t.tooltip.settings.trigger,ux=t=>t.tooltip.settings.defaultIndex,Zh=Z([hf,lx,G3,ux],k3),ru=Z([Zh,mf,Yh,Qh],ox),j3=Z([es,ru],R3),$3=Z([Zh],t=>{if(t)return t.dataKey});Z([Zh],t=>{if(t)return t.graphicalItemId});var K3=Z([hf,lx,G3,ux],U3),qQ=Z([Ya,Wa,ot,Yn,es,ux,K3,Xh],L3),HQ=Z([Zh,qQ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),GQ=Z([Zh],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),jQ=Z([K3,ru,Xa,Yh,j3,Xh,lx],V3),$Q=Z([jQ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){KQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KQ(t,e,n){return(e=YQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YQ(t){var e=WQ(t,"string");return typeof e=="symbol"?e:e+""}function WQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JQ=()=>Ae(Vn),XQ=()=>{var t=JQ(),e=Ae(es),n=Ae(H3);return zc(!t||!n?void 0:BM(BM({},t),{},{scale:n}),e)};function FM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(n),!0).forEach(function(r){QQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QQ(t,e,n){return(e=ZQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZQ(t){var e=eZ(t,"string");return typeof e=="symbol"?e:e+""}function eZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tZ=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},nZ=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:s}=r;return dc(dc(dc({},r),It(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var u=i.coordinate,{angle:c}=r;return dc(dc(dc({},r),It(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function rZ(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var Y3=(t,e,n,r,i)=>{var o,s=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(s<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<s;u++){var c,f,h,p,g,v=u>0?(c=n[u-1])===null||c===void 0?void 0:c.coordinate:(f=n[s-1])===null||f===void 0?void 0:f.coordinate,T=(h=n[u])===null||h===void 0?void 0:h.coordinate,w=u>=s-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(g=n[u+1])===null||g===void 0?void 0:g.coordinate,A=void 0;if(!(v==null||T==null||w==null))if(zr(T-v)!==zr(w-T)){var I=[];if(zr(w-T)===zr(i[1]-i[0])){A=w;var D=T+i[1]-i[0];I[0]=Math.min(D,(D+v)/2),I[1]=Math.max(D,(D+v)/2)}else{A=v;var k=w+i[1]-i[0];I[0]=Math.min(T,(k+T)/2),I[1]=Math.max(T,(k+T)/2)}var z=[Math.min(T,(A+T)/2),Math.max(T,(A+T)/2)];if(t>z[0]&&t<=z[1]||t>=I[0]&&t<=I[1]){var G;return(G=n[u])===null||G===void 0?void 0:G.index}}else{var L=Math.min(v,w),N=Math.max(v,w);if(t>(L+T)/2&&t<=(N+T)/2){var M;return(M=n[u])===null||M===void 0?void 0:M.index}}}else if(e)for(var O=0;O<s;O++){var q=e[O];if(q!=null){var B=e[O+1],V=e[O-1];if(O===0&&B!=null&&t<=(q.coordinate+B.coordinate)/2||O===s-1&&V!=null&&t>(q.coordinate+V.coordinate)/2||O>0&&O<s-1&&V!=null&&B!=null&&t>(q.coordinate+V.coordinate)/2&&t<=(q.coordinate+B.coordinate)/2)return q.index}}return-1},iZ=()=>Ae(MA),cx=(t,e)=>e,W3=(t,e,n)=>n,fx=(t,e,n,r)=>r,oZ=Z(es,t=>cv(t,e=>e.coordinate)),dx=Z([hf,cx,W3,fx],k3),hx=Z([dx,mf,Yh,Qh],ox),aZ=(t,e,n)=>{if(e!=null){var r=hf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},J3=Z([hf,cx,W3,fx],U3),Sy=Z([Ya,Wa,ot,Yn,es,fx,J3,Xh],L3),sZ=Z([dx,Sy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),X3=Z([es,hx],R3),lZ=Z([J3,hx,Xa,Yh,X3,Xh,cx],V3),uZ=Z([dx,hx],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),cZ=(t,e,n,r,i,o,s)=>{if(!(!t||!n||!r||!i)&&rZ(t,s)){var u=I8(t,e),c=Y3(u,o,i,n,r),f=tZ(e,i,c,t);return{activeIndex:String(c),activeCoordinate:f}}},fZ=(t,e,n,r,i,o,s)=>{if(!(!t||!r||!i||!o||!n)){var u=YK(t,n);if(u){var c=P8(u,e),f=Y3(c,s,o,r,i),h=nZ(e,o,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},dZ=(t,e,n,r,i,o,s,u)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?cZ(t,e,r,i,o,s,u):fZ(t,e,n,r,i,o,s)},hZ=Z(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),pZ=Z(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(hn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:ZJ}});function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){mZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mZ(t,e,n){return(e=gZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZ(t){var e=yZ(t,"string");return typeof e=="symbol"?e:e+""}function yZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vZ={},_Z={zIndexMap:Object.values(hn).reduce((t,e)=>qM(qM({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),vZ)},EZ=new Set(Object.values(hn));function SZ(t){return EZ.has(t)}var Q3=Kr({name:"zIndex",initialState:_Z,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:jt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!SZ(n)&&delete t.zIndexMap[n])},prepare:jt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:jt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:jt()}}}),{registerZIndexPortal:bZ,unregisterZIndexPortal:TZ,registerZIndexPortalElement:wZ,unregisterZIndexPortalElement:AZ}=Q3.actions,xZ=Q3.reducer;function Rr(t){var{zIndex:e,children:n}=t,r=l7(),i=r&&e!==void 0&&e!==0,o=Sr(),s=Pt();C.useLayoutEffect(()=>i?(s(bZ({zIndex:e})),()=>{s(TZ({zIndex:e}))}):Dh,[s,e,i]);var u=Ae(c=>hZ(c,e,o));return i?u?Uw.createPortal(n,u):null:n}function MT(){return MT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MT.apply(null,arguments)}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){CZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CZ(t,e,n){return(e=IZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IZ(t){var e=PZ(t,"string");return typeof e=="symbol"?e:e+""}function PZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RZ(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return C.isValidElement(e)?C.cloneElement(e,r):C.createElement(n,r)}function NZ(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:s,layout:u,cursor:c,tooltipEventType:f,chartName:h}=t,p=n,g=r,v=i;if(!c||!p||h!=="ScatterChart"&&f!=="axis")return null;var T,w,A;if(h==="ScatterChart")T=p,w=sK,A=hn.cursorLine;else if(h==="BarChart")T=lK(u,p,o,s),w=K4,A=hn.cursorRectangle;else if(u==="radial"&&MV(p)){var{cx:I,cy:D,radius:k,startAngle:z,endAngle:G}=W4(p);T={cx:I,cy:D,startAngle:z,endAngle:G,innerRadius:k,outerRadius:k},w=X4,A=hn.cursorLine}else T={points:QK(u,p,o)},w=q4,A=hn.cursorLine;var L=typeof c=="object"&&"className"in c?c.className:void 0,N=Zm(Zm(Zm(Zm({stroke:"#ccc",pointerEvents:"none"},o),T),nf(c)),{},{payload:g,payloadIndex:v,className:it("recharts-tooltip-cursor",L)});return C.createElement(Rr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},C.createElement(RZ,{cursor:c,cursorComp:w,cursorProps:N}))}function OZ(t){var e=XQ(),n=R4(),r=Vh(),i=iZ();return e==null||n==null||r==null||i==null?null:C.createElement(NZ,MT({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var Z3=C.createContext(null),MZ=()=>C.useContext(Z3),$S={exports:{}},GM;function DZ(){return GM||(GM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,p||c,g),T=n?n+f:f;return c._events[T]?c._events[T].fn?c._events[T]=[c._events[T],v]:c._events[T].push(v):(c._events[T]=v,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,T=new Array(v);g<v;g++)T[g]=p[g].fn;return T},u.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,g,v,T){var w=n?n+f:f;if(!this._events[w])return!1;var A=this._events[w],I=arguments.length,D,k;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),I){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,p),!0;case 4:return A.fn.call(A.context,h,p,g),!0;case 5:return A.fn.call(A.context,h,p,g,v),!0;case 6:return A.fn.call(A.context,h,p,g,v,T),!0}for(k=1,D=new Array(I-1);k<I;k++)D[k-1]=arguments[k];A.fn.apply(A.context,D)}else{var z=A.length,G;for(k=0;k<z;k++)switch(A[k].once&&this.removeListener(f,A[k].fn,void 0,!0),I){case 1:A[k].fn.call(A[k].context);break;case 2:A[k].fn.call(A[k].context,h);break;case 3:A[k].fn.call(A[k].context,h,p);break;case 4:A[k].fn.call(A[k].context,h,p,g);break;default:if(!D)for(G=1,D=new Array(I-1);G<I;G++)D[G-1]=arguments[G];A[k].fn.apply(A[k].context,D)}}return!0},u.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,g){var v=n?n+f:f;if(!this._events[v])return this;if(!h)return s(this,v),this;var T=this._events[v];if(T.fn)T.fn===h&&(!g||T.once)&&(!p||T.context===p)&&s(this,v);else{for(var w=0,A=[],I=T.length;w<I;w++)(T[w].fn!==h||g&&!T[w].once||p&&T[w].context!==p)&&A.push(T[w]);A.length?this._events[v]=A.length===1?A[0]:A:s(this,v)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})($S)),$S.exports}var kZ=DZ();const LZ=$r(kZ);var _h=new LZ,DT="recharts.syncEvent.tooltip",jM="recharts.syncEvent.brush";function eF(t,e){if(e){var n=Number.parseInt(e,10);if(!uo(n))return t==null?void 0:t[n]}}var UZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},tF=Kr({name:"options",initialState:UZ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),VZ=tF.reducer,{createEventEmitter:BZ}=tF.actions;function FZ(t){return t.tooltip.syncInteraction}var zZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},nF=Kr({name:"chartData",initialState:zZ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:$M,setDataStartEndIndexes:qZ,setComputedData:sxe}=nF.actions,HZ=nF.reducer,GZ=["x","y"];function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){jZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jZ(t,e,n){return(e=$Z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Z(t){var e=KZ(t,"string");return typeof e=="symbol"?e:e+""}function KZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YZ(t,e){if(t==null)return{};var n,r,i=WZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function JZ(){var t=Ae(DA),e=Ae(kA),n=Pt(),r=Ae(JB),i=Ae(es),o=Vh(),s=Av(),u=Ae(c=>c.rootProps.className);C.useEffect(()=>{if(t==null)return Dh;var c=(f,h,p)=>{if(e!==p&&t===f){if(r==="index"){var g;if(s&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var v=h.payload.coordinate,{x:T,y:w}=v,A=YZ(v,GZ),{x:I,y:D,width:k,height:z}=h.payload.sourceViewBox,G=hc(hc({},A),{},{x:s.x+(k?(T-I)/k:0)*s.width,y:s.y+(z?(w-D)/z:0)*s.height});n(hc(hc({},h),{},{payload:hc(hc({},h.payload),{},{coordinate:G})}))}else n(h);return}if(i!=null){var L;if(typeof r=="function"){var N={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},M=r(i,N);L=i[M]}else r==="value"&&(L=i.find(X=>String(X.value)===h.payload.label));var{coordinate:O}=h.payload;if(L==null||h.payload.active===!1||O==null||s==null){n(NT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:B}=O,V=Math.min(q,s.x+s.width),F=Math.min(B,s.y+s.height),ue={x:o==="horizontal"?L.coordinate:V,y:o==="horizontal"?F:L.coordinate},ce=NT({active:h.payload.active,coordinate:ue,dataKey:h.payload.dataKey,index:String(L.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(ce)}}};return _h.on(DT,c),()=>{_h.off(DT,c)}},[u,n,e,t,r,i,o,s])}function XZ(){var t=Ae(DA),e=Ae(kA),n=Pt();C.useEffect(()=>{if(t==null)return Dh;var r=(i,o,s)=>{e!==s&&t===i&&n(qZ(o))};return _h.on(jM,r),()=>{_h.off(jM,r)}},[n,e,t])}function QZ(){var t=Pt();C.useEffect(()=>{t(BZ())},[t]),JZ(),XZ()}function ZZ(t,e,n,r,i,o){var s=Ae(v=>aZ(v,t,e)),u=Ae(kA),c=Ae(DA),f=Ae(JB),h=Ae(FZ),p=h==null?void 0:h.active,g=Av();C.useEffect(()=>{if(!p&&c!=null&&u!=null){var v=NT({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});_h.emit(DT,c,v,u)}},[p,n,s,i,r,u,c,f,o,g])}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){eee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eee(t,e,n){return(e=tee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tee(t){var e=nee(t,"string");return typeof e=="symbol"?e:e+""}function nee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ree(t){return t.dataKey}function iee(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(F7,e)}var JM=[],oee={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function XM(t){var e,n,r=Nn(t,oee),{active:i,allowEscapeViewBox:o,animationDuration:s,animationEasing:u,content:c,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:g,position:v,reverseDirection:T,useTranslate3d:w,wrapperStyle:A,cursor:I,shared:D,trigger:k,defaultIndex:z,portal:G,axisId:L}=r,N=Pt(),M=typeof z=="number"?String(z):z;C.useEffect(()=>{N(tQ({shared:D,trigger:k,axisId:L,active:i,defaultIndex:M}))},[N,D,k,L,i,M]);var O=Av(),q=z4(),B=WX(D),{activeIndex:V,isActive:F}=(e=Ae(Me=>uZ(Me,B,k,M)))!==null&&e!==void 0?e:{},ue=Ae(Me=>lZ(Me,B,k,M)),ce=Ae(Me=>X3(Me,B,k,M)),X=Ae(Me=>sZ(Me,B,k,M)),se=ue,le=MZ(),ge=(n=i??F)!==null&&n!==void 0?n:!1,[$,Y]=$V([se,ge]),re=B==="axis"?ce:void 0;ZZ(B,k,X,re,V,ge);var j=G??le;if(j==null||O==null||B==null)return null;var _e=se??JM;ge||(_e=JM),f&&_e.length&&(_e=zV(_e.filter(Me=>Me.value!=null&&(Me.hide!==!0||r.includeHidden)),g,ree));var Pe=_e.length>0,xe=C.createElement(K7,{allowEscapeViewBox:o,animationDuration:s,animationEasing:u,isAnimationActive:h,active:ge,coordinate:X,hasPayload:Pe,offset:p,position:v,reverseDirection:T,useTranslate3d:w,viewBox:O,wrapperStyle:A,lastBoundingBox:$,innerRef:Y,hasPortalFromProps:!!G},iee(c,WM(WM({},r),{},{payload:_e,label:re,active:ge,activeIndex:V,coordinate:X,accessibilityLayer:q})));return C.createElement(C.Fragment,null,Uw.createPortal(xe,j),ge&&C.createElement(OZ,{cursor:I,tooltipEventType:B,coordinate:X,payload:_e,index:V}))}var rF=t=>null;rF.displayName="Cell";function aee(t,e,n){return(e=see(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function see(t){var e=lee(t,"string");return typeof e=="symbol"?e:e+""}function lee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class uee{constructor(e){aee(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(n),!0).forEach(function(r){fee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fee(t,e,n){return(e=dee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dee(t){var e=hee(t,"string");return typeof e=="symbol"?e:e+""}function hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pee={cacheSize:2e3,enableCache:!0},iF=cee({},pee),ZM=new uee(iF.cacheSize),mee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eD="recharts_measurement_span";function gee(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",s=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(u)}var tD=(t,e)=>{try{var n=document.getElementById(eD);n||(n=document.createElement("span"),n.setAttribute("id",eD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,mee,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Yd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Rv.isSsr)return{width:0,height:0};if(!iF.enableCache)return tD(e,n);var r=gee(e,n),i=ZM.get(r);if(i)return i;var o=tD(e,n);return ZM.set(r,o),o},oF;function yee(t,e,n){return(e=vee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vee(t){var e=_ee(t,"string");return typeof e=="symbol"?e:e+""}function _ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Eee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,See=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Tee=["cm","mm","pt","pc","in","Q","px"];function wee(t){return Tee.includes(t)}var Sc="NaN";function Aee(t,e){return t*bee[e]}class ir{static parse(e){var n,[,r,i]=(n=See.exec(e))!==null&&n!==void 0?n:[];return r==null?ir.NaN:new ir(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,uo(e)&&(this.unit=""),n!==""&&!Eee.test(n)&&(this.num=NaN,this.unit=""),wee(n)&&(this.num=Aee(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ir(NaN,""):new ir(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ir(NaN,""):new ir(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ir(NaN,""):new ir(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ir(NaN,""):new ir(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return uo(this.num)}}oF=ir;yee(ir,"NaN",new oF(NaN,""));function aF(t){if(t==null||t.includes(Sc))return Sc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=nD.exec(e))!==null&&n!==void 0?n:[],s=ir.parse(r??""),u=ir.parse(o??""),c=i==="*"?s.multiply(u):s.divide(u);if(c.isNaN())return Sc;e=e.replace(nD,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,g]=(f=rD.exec(e))!==null&&f!==void 0?f:[],v=ir.parse(h??""),T=ir.parse(g??""),w=p==="+"?v.add(T):v.subtract(T);if(w.isNaN())return Sc;e=e.replace(rD,w.toString())}return e}var iD=/\(([^()]*)\)/;function xee(t){for(var e=t,n;(n=iD.exec(e))!=null;){var[,r]=n;e=e.replace(iD,aF(r))}return e}function Cee(t){var e=t.replace(/\s+/g,"");return e=xee(e),e=aF(e),e}function Iee(t){try{return Cee(t)}catch{return Sc}}function KS(t){var e=Iee(t.slice(5,-1));return e===Sc?"":e}var Pee=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Ree=["dx","dy","angle","className","breakAll"];function kT(){return kT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kT.apply(null,arguments)}function oD(t,e){if(t==null)return{};var n,r,i=Nee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sF=/[ \f\n\r\t\v\u2028\u2029]+/,lF=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];gn(e)||(n?i=e.toString().split(""):i=e.toString().split(sF));var o=i.map(u=>({word:u,width:Yd(u,r).width})),s=n?0:Yd("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}};function Oee(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var uF=(t,e,n,r)=>t.reduce((i,o)=>{var{word:s,width:u}=o,c=i[i.length-1];if(c&&u!=null&&(e==null||r||c.width+u+n<Number(e)))c.words.push(s),c.width+=u+n;else{var f={words:[s],width:u};i.push(f)}return i},[]),cF=t=>t.reduce((e,n)=>e.width>n.width?e:n),Mee="",aD=(t,e,n,r,i,o,s,u)=>{var c=t.slice(0,e),f=lF({breakAll:n,style:r,children:c+Mee});if(!f)return[!1,[]];var h=uF(f.wordsWithComputedWidth,o,s,u),p=h.length>i||cF(h).width>Number(o);return[p,h]},Dee=(t,e,n,r,i)=>{var{maxLines:o,children:s,style:u,breakAll:c}=t,f=Re(o),h=String(s),p=uF(e,r,n,i);if(!f||i)return p;var g=p.length>o||cF(p).width>Number(r);if(!g)return p;for(var v=0,T=h.length-1,w=0,A;v<=T&&w<=h.length-1;){var I=Math.floor((v+T)/2),D=I-1,[k,z]=aD(h,D,c,u,o,r,n,i),[G]=aD(h,I,c,u,o,r,n,i);if(!k&&!G&&(v=I+1),k&&G&&(T=I-1),!k&&G){A=z;break}w++}return A||p},sD=t=>{var e=gn(t)?[]:t.toString().split(sF);return[{words:e,width:void 0}]},kee=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=t;if((e||n)&&!Rv.isSsr){var u,c,f=lF({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;u=h,c=p}else return sD(r);return Dee({breakAll:o,children:r,maxLines:s,style:i},u,c,e,!!n)}return sD(r)},fF="#808080",Lee={angle:0,breakAll:!1,capHeight:"0.71em",fill:fF,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ep=C.forwardRef((t,e)=>{var n=Nn(t,Lee),{x:r,y:i,lineHeight:o,capHeight:s,fill:u,scaleToFit:c,textAnchor:f,verticalAnchor:h}=n,p=oD(n,Pee),g=C.useMemo(()=>kee({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:v,dy:T,angle:w,className:A,breakAll:I}=p,D=oD(p,Ree);if(!Jo(r)||!Jo(i)||g.length===0)return null;var k=Number(r)+(Re(v)?v:0),z=Number(i)+(Re(T)?T:0);if(!Zt(k)||!Zt(z))return null;var G;switch(h){case"start":G=KS("calc(".concat(s,")"));break;case"middle":G=KS("calc(".concat((g.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:G=KS("calc(".concat(g.length-1," * -").concat(o,")"));break}var L=[];if(c){var N=g[0].width,{width:M}=p;L.push("scale(".concat(Re(M)&&Re(N)?M/N:1,")"))}return w&&L.push("rotate(".concat(w,", ").concat(k,", ").concat(z,")")),L.length&&(D.transform=L.join(" ")),C.createElement("text",kT({},Dn(D),{ref:e,x:k,y:z,className:it("recharts-text",A),textAnchor:f,fill:u.includes("url")?fF:u}),g.map((O,q)=>{var B=O.words.join(I?"":" ");return C.createElement("tspan",{x:k,dy:q===0?G:o,key:"".concat(B,"-").concat(q)},B)}))});ep.displayName="Text";var Uee=["labelRef"],Vee=["content"];function lD(t,e){if(t==null)return{};var n,r,i=Bee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){Fee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fee(t,e,n){return(e=zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zee(t){var e=qee(t,"string");return typeof e=="symbol"?e:e+""}function qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ca(){return Ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ca.apply(null,arguments)}var dF=C.createContext(null),Hee=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:s,children:u}=t,c=C.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:s}),[e,n,r,i,o,s]);return C.createElement(dF.Provider,{value:c},u)},hF=()=>{var t=C.useContext(dF),e=Av();return t||P4(e)},pF=C.createContext(null),Gee=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s,clockWise:u,children:c}=t,f=C.useMemo(()=>({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s,clockWise:u}),[e,n,r,i,o,s,u]);return C.createElement(pF.Provider,{value:f},c)},mF=()=>{var t=C.useContext(pF),e=Ae(uf);return t||e},jee=t=>{var{value:e,formatter:n}=t,r=gn(t.children)?e:t.children;return typeof n=="function"?n(r):r},px=t=>t!=null&&typeof t=="function",$ee=(t,e)=>{var n=zr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Kee=(t,e,n,r,i)=>{var{offset:o,className:s}=t,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:v}=i,T=(f+h)/2,w=$ee(p,g),A=w>=0?1:-1,I,D;switch(e){case"insideStart":I=p+A*o,D=v;break;case"insideEnd":I=g-A*o,D=!v;break;case"end":I=g+A*o,D=v;break;default:throw new Error("Unsupported position ".concat(e))}D=w<=0?D:!D;var k=It(u,c,T,I),z=It(u,c,T,I+(D?1:-1)*359),G="M".concat(k.x,",").concat(k.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(D?0:1,`,
    `).concat(z.x,",").concat(z.y),L=gn(t.id)?ah("recharts-radial-line-"):t.id;return C.createElement("text",Ca({},r,{dominantBaseline:"central",className:it("recharts-radial-bar-label",s)}),C.createElement("defs",null,C.createElement("path",{id:L,d:G})),C.createElement("textPath",{xlinkHref:"#".concat(L)},n))},Yee=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:c}=t,f=(u+c)/2;if(n==="outside"){var{x:h,y:p}=It(r,i,s+e,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(o+s)/2,{x:v,y:T}=It(r,i,g,f);return{x:v,y:T,textAnchor:"middle",verticalAnchor:"middle"}},LT=t=>"cx"in t&&Re(t.cx),Wee=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!LT(n)&&(o=n);var{x:s,y:u,upperWidth:c,lowerWidth:f,height:h}=e,p=s,g=s+(c-f)/2,v=(p+g)/2,T=(c+f)/2,w=p+c/2,A=h>=0?1:-1,I=A*r,D=A>0?"end":"start",k=A>0?"start":"end",z=c>=0?1:-1,G=z*r,L=z>0?"end":"start",N=z>0?"start":"end";if(i==="top"){var M={x:p+c/2,y:u-I,textAnchor:"middle",verticalAnchor:D};return fn(fn({},M),o?{height:Math.max(u-o.y,0),width:c}:{})}if(i==="bottom"){var O={x:g+f/2,y:u+h+I,textAnchor:"middle",verticalAnchor:k};return fn(fn({},O),o?{height:Math.max(o.y+o.height-(u+h),0),width:f}:{})}if(i==="left"){var q={x:v-G,y:u+h/2,textAnchor:L,verticalAnchor:"middle"};return fn(fn({},q),o?{width:Math.max(q.x-o.x,0),height:h}:{})}if(i==="right"){var B={x:v+T+G,y:u+h/2,textAnchor:N,verticalAnchor:"middle"};return fn(fn({},B),o?{width:Math.max(o.x+o.width-B.x,0),height:h}:{})}var V=o?{width:T,height:h}:{};return i==="insideLeft"?fn({x:v+G,y:u+h/2,textAnchor:N,verticalAnchor:"middle"},V):i==="insideRight"?fn({x:v+T-G,y:u+h/2,textAnchor:L,verticalAnchor:"middle"},V):i==="insideTop"?fn({x:p+c/2,y:u+I,textAnchor:"middle",verticalAnchor:k},V):i==="insideBottom"?fn({x:g+f/2,y:u+h-I,textAnchor:"middle",verticalAnchor:D},V):i==="insideTopLeft"?fn({x:p+G,y:u+I,textAnchor:N,verticalAnchor:k},V):i==="insideTopRight"?fn({x:p+c-G,y:u+I,textAnchor:L,verticalAnchor:k},V):i==="insideBottomLeft"?fn({x:g+G,y:u+h-I,textAnchor:N,verticalAnchor:D},V):i==="insideBottomRight"?fn({x:g+f-G,y:u+h-I,textAnchor:L,verticalAnchor:D},V):i&&typeof i=="object"&&(Re(i.x)||Ua(i.x))&&(Re(i.y)||Ua(i.y))?fn({x:s+co(i.x,T),y:u+co(i.y,h),textAnchor:"end",verticalAnchor:"end"},V):fn({x:w,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},V)},Jee={angle:0,offset:5,zIndex:hn.label,position:"middle",textBreakAll:!1};function Us(t){var e=Nn(t,Jee),{viewBox:n,position:r,value:i,children:o,content:s,className:u="",textBreakAll:c,labelRef:f}=e,h=mF(),p=hF(),g=r==="center"?p:h??p,v,T,w;if(n==null?v=g:LT(n)?v=n:v=P4(n),!v||gn(i)&&gn(o)&&!C.isValidElement(s)&&typeof s!="function")return null;var A=fn(fn({},e),{},{viewBox:v});if(C.isValidElement(s)){var{labelRef:I}=A,D=lD(A,Uee);return C.cloneElement(s,D)}if(typeof s=="function"){var{content:k}=A,z=lD(A,Vee);if(T=C.createElement(s,z),C.isValidElement(T))return T}else T=jee(e);var G=Dn(e);if(LT(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Kee(e,r,T,G,v);w=Yee(v,e.offset,e.position)}else w=Wee(e,v);return C.createElement(Rr,{zIndex:e.zIndex},C.createElement(ep,Ca({ref:f,className:it("recharts-label",u)},G,w,{textAnchor:Oee(G.textAnchor)?G.textAnchor:w.textAnchor,breakAll:c}),T))}Us.displayName="Label";var gF=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?C.createElement(Us,Ca({key:"label-implicit"},r)):Jo(t)?C.createElement(Us,Ca({key:"label-implicit",value:t},r)):C.isValidElement(t)?t.type===Us?C.cloneElement(t,fn({key:"label-implicit"},r)):C.createElement(Us,Ca({key:"label-implicit",content:t},r)):px(t)?C.createElement(Us,Ca({key:"label-implicit",content:t},r)):t&&typeof t=="object"?C.createElement(Us,Ca({},t,{key:"label-implicit"},r)):null};function Xee(t){var{label:e,labelRef:n}=t,r=hF();return gF(e,r,n)||null}function Qee(t){var{label:e}=t,n=mF();return gF(e,n)||null}var YS={},WS={},cD;function Zee(){return cD||(cD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(WS)),WS}var JS={},fD;function ete(){return fD||(fD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(JS)),JS}var dD;function tte(){return dD||(dD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zee(),n=ete(),r=$w();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(YS)),YS}var XS,hD;function nte(){return hD||(hD=1,XS=tte().last),XS}var rte=nte();const yF=$r(rte);var ite=["valueAccessor"],ote=["dataKey","clockWise","id","textBreakAll","zIndex"];function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(null,arguments)}function pD(t,e){if(t==null)return{};var n,r,i=ate(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ate(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ste=t=>Array.isArray(t.value)?yF(t.value):t.value,vF=C.createContext(void 0),_F=vF.Provider,EF=C.createContext(void 0);EF.Provider;function lte(){return C.useContext(vF)}function ute(){return C.useContext(EF)}function bg(t){var{valueAccessor:e=ste}=t,n=pD(t,ite),{dataKey:r,clockWise:i,id:o,textBreakAll:s,zIndex:u}=n,c=pD(n,ote),f=lte(),h=ute(),p=f||h;return!p||!p.length?null:C.createElement(Rr,{zIndex:u??hn.label},C.createElement(kn,{className:"recharts-label-list"},p.map((g,v)=>{var T,w=gn(r)?e(g,v):pn(g&&g.payload,r),A=gn(o)?{}:{id:"".concat(o,"-").concat(v)};return C.createElement(Us,by({key:"label-".concat(v)},Dn(g),c,A,{fill:(T=n.fill)!==null&&T!==void 0?T:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:s,viewBox:g.viewBox,index:v,zIndex:0}))})))}bg.displayName="LabelList";function SF(t){var{label:e}=t;return e?e===!0?C.createElement(bg,{key:"labelList-implicit"}):C.isValidElement(e)||px(e)?C.createElement(bg,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(bg,by({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var cte=["points","className","baseLinePoints","connectNulls"],mD;function bc(){return bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bc.apply(null,arguments)}function fte(t,e){if(t==null)return{};var n,r,i=dte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hte(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var gD=t=>t&&t.x===+t.x&&t.y===+t.y,pte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(r=>{gD(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),gD(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Wd=(t,e)=>{var n=pte(t);e&&(n=[n.reduce((i,o)=>[...i,...o],[])]);var r=n.map(i=>i.reduce((o,s,u)=>Xt(mD||(mD=hte(["","","",",",""])),o,u===0?"M":"L",s.x,s.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},mte=(t,e,n)=>{var r=Wd(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(Wd(Array.from(e).reverse(),n).slice(1))},bF=t=>{var{points:e,className:n,baseLinePoints:r,connectNulls:i}=t,o=fte(t,cte);if(!e||!e.length)return null;var s=it("recharts-polygon",n);if(r&&r.length){var u=o.stroke&&o.stroke!=="none",c=mte(e,r,i);return C.createElement("g",{className:s},C.createElement("path",bc({},Dn(o),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),u?C.createElement("path",bc({},Dn(o),{fill:"none",d:Wd(e,i)})):null,u?C.createElement("path",bc({},Dn(o),{fill:"none",d:Wd(r,i)})):null)}var f=Wd(e,i);return C.createElement("path",bc({},Dn(o),{fill:f.slice(-1)==="Z"?o.fill:"none",className:s,d:f}))};function UT(){return UT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UT.apply(null,arguments)}var mx=t=>{var{cx:e,cy:n,r,className:i}=t,o=it("recharts-dot",i);return Re(e)&&Re(n)&&Re(r)?C.createElement("circle",UT({},mn(t),jw(t),{className:o,cx:e,cy:n,r})):null},TF=t=>t.graphicalItems.polarItems,gte=Z([Ot,$h],BA),Xv=Z([TF,en,gte],zA),yte=Z([Xv],qA),Qv=Z([yte,Bv],HA),wF=Z([Qv,en,Xv],jA);Z([Qv,en,Xv],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,s=pn(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:pn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var yD=()=>{},vte=Z([Qv,en,Xv,$v,Ot],WA),_te=Z([en,KA,YA,yD,vte,yD,ot,Ot],JA),AF=Z([en,ot,Qv,wF,Gh,Ot,_te],XA),xF=Z([AF,en,il],ZA),Ete=Z([en,AF,xF,Ot],tx),gx=(t,e,n)=>{switch(e){case"angleAxis":return lf(t,n);case"radiusAxis":return jh(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},yx=(t,e,n)=>{switch(e){case"angleAxis":return XJ(t,n);case"radiusAxis":return QJ(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},gf=Z([gx,il,Ete,yx],Kv),CF=Z([ot,wF,ff,Ot],nx),yf=Z([ot,gx,il,gf,xF,yx,Jh,CF,Ot],w3),Ste=Z([yf],t=>{if(t){var e=new Map;return t.forEach(n=>{var r=(n.coordinate+360)%360;e.has(r)||e.set(r,n)}),Array.from(e.values())}});Z([ot,gx,gf,yx,Jh,CF,Ot],x3);var bte=(t,e)=>yf(t,"angleAxis",e,!1),Tte=Z([bte],t=>{if(t)return t.map(e=>e.coordinate)}),wte=(t,e)=>yf(t,"radiusAxis",e,!1),Ate=Z([wte],t=>{if(t)return t.map(e=>e.coordinate)}),xte=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function Cte(t,e){if(t==null)return{};var n,r,i=Ite(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ite(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},no.apply(null,arguments)}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){Pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pte(t,e,n){return(e=Rte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rte(t){var e=Nte(t,"string");return typeof e=="symbol"?e:e+""}function Nte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ote=(t,e,n,r)=>{var i="";return r.forEach((o,s)=>{var u=It(e,n,t,o);s?i+="L ".concat(u.x,",").concat(u.y):i+="M ".concat(u.x,",").concat(u.y)}),i+="Z",i},Mte=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,polarAngles:o,radialLines:s}=t;if(!o||!o.length||!s)return null;var u=Eh({stroke:"#ccc"},mn(t));return C.createElement("g",{className:"recharts-polar-grid-angle"},o.map(c=>{var f=It(e,n,r,c),h=It(e,n,i,c);return C.createElement("line",no({key:"line-".concat(c)},u,{x1:f.x,y1:f.y,x2:h.x,y2:h.y}))}))},_D=t=>{var{cx:e,cy:n,radius:r}=t,i=Eh({stroke:"#ccc",fill:"none"},mn(t));return C.createElement("circle",no({},i,{className:it("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:n,r}))},ED=t=>{var{radius:e}=t,n=Eh({stroke:"#ccc",fill:"none"},mn(t));return C.createElement("path",no({},n,{className:it("recharts-polar-grid-concentric-polygon",t.className),d:Ote(e,t.cx,t.cy,t.polarAngles)}))},Dte=t=>{var{polarRadius:e,gridType:n}=t;if(!e||!e.length)return null;var r=Math.max(...e),i=t.fill&&t.fill!=="none";return C.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&C.createElement(_D,no({},t,{radius:r})),i&&n!=="circle"&&C.createElement(ED,no({},t,{radius:r})),e.map((o,s)=>{var u=s;return n==="circle"?C.createElement(_D,no({key:u},t,{fill:"none",radius:o})):C.createElement(ED,no({key:u},t,{fill:"none",radius:o}))}))},IF=t=>{var e,n,r,i,o,s,u,c,f,{gridType:h="polygon",radialLines:p=!0,angleAxisId:g=0,radiusAxisId:v=0,cx:T,cy:w,innerRadius:A,outerRadius:I,polarAngles:D,polarRadius:k}=t,z=Cte(t,xte),G=Ae(uf),L=Ae(V=>Tte(V,g)),N=Ae(V=>Ate(V,v)),M=Array.isArray(D)?D:L,O=Array.isArray(k)?k:N;if(M==null||O==null)return null;var q=Eh(Eh({cx:(e=(n=G==null?void 0:G.cx)!==null&&n!==void 0?n:T)!==null&&e!==void 0?e:0,cy:(r=(i=G==null?void 0:G.cy)!==null&&i!==void 0?i:w)!==null&&r!==void 0?r:0,innerRadius:(o=(s=G==null?void 0:G.innerRadius)!==null&&s!==void 0?s:A)!==null&&o!==void 0?o:0,outerRadius:(u=(c=G==null?void 0:G.outerRadius)!==null&&c!==void 0?c:I)!==null&&u!==void 0?u:0,polarAngles:M,polarRadius:O},z),{},{zIndex:(f=z.zIndex)!==null&&f!==void 0?f:hn.grid}),{outerRadius:B}=q;return B<=0?null:C.createElement(Rr,{zIndex:q.zIndex},C.createElement("g",{className:"recharts-polar-grid"},C.createElement(Dte,no({gridType:h,radialLines:p},q,{polarAngles:M,polarRadius:O})),C.createElement(Mte,no({gridType:h,radialLines:p},q,{polarAngles:M,polarRadius:O}))))};IF.displayName="PolarGrid";var QS={},ZS={},SD;function kte(){return SD||(SD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],o=r(i,0,n);for(let s=1;s<n.length;s++){const u=n[s],c=r(u,s,n);c>o&&(o=c,i=u)}return i}t.maxBy=e})(ZS)),ZS}var bD;function Lte(){return bD||(bD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kte(),n=uv(),r=Yw();function i(o,s){if(o!=null)return e.maxBy(Array.from(o),r.iteratee(s??n.identity))}t.maxBy=i})(QS)),QS}var eb,TD;function Ute(){return TD||(TD=1,eb=Lte().maxBy),eb}var Vte=Ute();const Bte=$r(Vte);var tb={},nb={},wD;function Fte(){return wD||(wD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],o=r(i,0,n);for(let s=1;s<n.length;s++){const u=n[s],c=r(u,s,n);c<o&&(o=c,i=u)}return i}t.minBy=e})(nb)),nb}var AD;function zte(){return AD||(AD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fte(),n=uv(),r=Yw();function i(o,s){if(o!=null)return e.minBy(Array.from(o),r.iteratee(s??n.identity))}t.minBy=i})(tb)),tb}var rb,xD;function qte(){return xD||(xD=1,rb=zte().minBy),rb}var Hte=qte();const Gte=$r(Hte);var jte={radiusAxis:{},angleAxis:{}},PF=Kr({name:"polarAxis",initialState:jte,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:$te,removeRadiusAxis:Kte,addAngleAxis:Yte,removeAngleAxis:Wte}=PF.actions,Jte=PF.reducer,Xte=["cx","cy","angle","axisLine"],Qte=["angle","tickFormatter","stroke","tick"];function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sh.apply(null,arguments)}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){Zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zte(t,e,n){return(e=ene(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ene(t){var e=tne(t,"string");return typeof e=="symbol"?e:e+""}function tne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RF(t,e){if(t==null)return{};var n,r,i=nne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rne="radiusAxis";function ine(t){var e=Pt();return C.useEffect(()=>(e($te(t)),()=>{e(Kte(t))})),null}var one=(t,e,n,r)=>{var{coordinate:i}=t;return It(n,r,i,e)},ane=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},sne=(t,e,n,r)=>{var i=Bte(r,s=>s.coordinate||0),o=Gte(r,s=>s.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:(o==null?void 0:o.coordinate)||0,outerRadius:(i==null?void 0:i.coordinate)||0,clockWise:!1}},lne=(t,e)=>{var{cx:n,cy:r,angle:i,axisLine:o}=t,s=RF(t,Xte),u=e.reduce((p,g)=>[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)],[1/0,-1/0]),c=It(n,r,u[0],i),f=It(n,r,u[1],i),h=Ra(Ra(Ra({},mn(s)),{},{fill:"none"},mn(o)),{},{x1:c.x,y1:c.y,x2:f.x,y2:f.y});return C.createElement("line",Sh({className:"recharts-polar-radius-axis-line"},h))},une=(t,e,n)=>{var r;return C.isValidElement(t)?r=C.cloneElement(t,e):typeof t=="function"?r=t(e):r=C.createElement(ep,Sh({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),r},cne=(t,e)=>{var{angle:n,tickFormatter:r,stroke:i,tick:o}=t,s=RF(t,Qte),u=ane(t.orientation),c=mn(s),f=nf(o),h=e.map((p,g)=>{var v=one(p,t.angle,t.cx,t.cy),T=Ra(Ra(Ra(Ra({textAnchor:u,transform:"rotate(".concat(90-n,", ").concat(v.x,", ").concat(v.y,")")},c),{},{stroke:"none",fill:i},f),{},{index:g},v),{},{payload:p});return C.createElement(kn,Sh({className:it("recharts-polar-radius-axis-tick",Y4(o)),key:"tick-".concat(p.coordinate)},rf(t,p,g)),une(o,T,r?r(p.value,g):p.value))});return C.createElement(kn,{className:"recharts-polar-radius-axis-ticks"},h)},fne=t=>{var{radiusAxisId:e}=t,n=Ae(uf),r=Ae(c=>gf(c,"radiusAxis",e)),i=Ae(c=>yf(c,"radiusAxis",e,!1));if(n==null||!i||!i.length||r==null)return null;var o=Ra(Ra({},t),{},{scale:r},n),{tick:s,axisLine:u}=o;return C.createElement(Rr,{zIndex:o.zIndex},C.createElement(kn,{className:it("recharts-polar-radius-axis",rne,o.className)},u&&lne(o,i),s&&cne(o,i),C.createElement(Gee,sne(o.angle,o.cx,o.cy,i),C.createElement(Qee,{label:o.label}),o.children)))};function NF(t){var e=Nn(t,Fr);return C.createElement(C.Fragment,null,C.createElement(ine,{domain:e.domain,id:e.radiusAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDataOverflow:e.allowDataOverflow,reversed:e.reversed,includeHidden:e.includeHidden,allowDecimals:e.allowDecimals,ticks:e.ticks,tickCount:e.tickCount,tick:e.tick}),C.createElement(fne,e))}NF.displayName="PolarRadiusAxis";var dne=["children"];function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iu.apply(null,arguments)}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hne(t,e,n){return(e=pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pne(t){var e=mne(t,"string");return typeof e=="symbol"?e:e+""}function mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gne(t,e){if(t==null)return{};var n,r,i=yne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var PD=1e-5,vne=Math.cos(sy(45)),_ne="angleAxis";function Ene(t){var e=Pt(),n=C.useMemo(()=>{var{children:o}=t,s=gne(t,dne);return s},[t]),r=Ae(o=>lf(o,n.id)),i=n===r;return C.useEffect(()=>(e(Yte(n)),()=>{e(Wte(n))}),[e,n]),i?t.children:null}var Sne=(t,e)=>{var{cx:n,cy:r,radius:i,orientation:o,tickSize:s}=e,u=s||8,c=It(n,r,i,t.coordinate),f=It(n,r,i+(o==="inner"?-1:1)*u,t.coordinate);return{x1:c.x,y1:c.y,x2:f.x,y2:f.y}},bne=(t,e)=>{var n=Math.cos(sy(-t.coordinate));return n>PD?e==="outer"?"start":"end":n<-PD?e==="outer"?"end":"start":"middle"},Tne=t=>{var e=Math.cos(sy(-t.coordinate)),n=Math.sin(sy(-t.coordinate));return Math.abs(e)<=vne?n>0?"start":"end":"middle"},wne=t=>{var{cx:e,cy:n,radius:r,axisLineType:i,axisLine:o,ticks:s}=t;if(!o)return null;var u=qo(qo({},mn(t)),{},{fill:"none"},mn(o));if(i==="circle")return C.createElement(mx,iu({className:"recharts-polar-angle-axis-line"},u,{cx:e,cy:n,r}));var c=s.map(f=>It(e,n,r,f.coordinate));return C.createElement(bF,iu({className:"recharts-polar-angle-axis-line"},u,{points:c}))},Ane=t=>{var{tick:e,tickProps:n,value:r}=t;return e?C.isValidElement(e)?C.cloneElement(e,n):typeof e=="function"?e(n):C.createElement(ep,iu({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},xne=t=>{var{tick:e,tickLine:n,tickFormatter:r,stroke:i,ticks:o}=t,s=mn(t),u=nf(e),c=qo(qo({},s),{},{fill:"none"},mn(n)),f=o.map((h,p)=>{var g=Sne(h,t),v=bne(h,t.orientation),T=Tne(h),w=qo(qo(qo({},s),{},{textAnchor:v,verticalAnchor:T,stroke:"none",fill:i},u),{},{index:p,payload:h,x:g.x2,y:g.y2});return C.createElement(kn,iu({className:it("recharts-polar-angle-axis-tick",Y4(e)),key:"tick-".concat(h.coordinate)},rf(t,h,p)),n&&C.createElement("line",iu({className:"recharts-polar-angle-axis-tick-line"},c,g)),C.createElement(Ane,{tick:e,tickProps:w,value:r?r(h.value,p):h.value}))});return C.createElement(kn,{className:"recharts-polar-angle-axis-ticks"},f)},Cne=t=>{var{angleAxisId:e}=t,n=Ae(uf),r=Ae(u=>gf(u,"angleAxis",e)),i=Sr(),o=Ae(u=>Ste(u,"angleAxis",e,i));if(n==null||!o||!o.length||r==null)return null;var s=qo(qo(qo({},t),{},{scale:r},n),{},{radius:n.outerRadius,ticks:o});return C.createElement(Rr,{zIndex:s.zIndex},C.createElement(kn,{className:it("recharts-polar-angle-axis",_ne,s.className)},C.createElement(wne,s),C.createElement(xne,s)))};function OF(t){var e=Nn(t,zo);return C.createElement(Ene,{id:e.angleAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:e.reversed,includeHidden:!1,allowDecimals:e.allowDecimals,tickCount:e.tickCount,ticks:e.ticks,tick:e.tick,domain:e.domain},C.createElement(Cne,e))}OF.displayName="PolarAngleAxis";var ib={exports:{}},Ct={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RD;function Ine(){if(RD)return Ct;RD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function T(w){if(typeof w=="object"&&w!==null){var A=w.$$typeof;switch(A){case t:switch(w=w.type,w){case n:case i:case r:case c:case f:case g:return w;default:switch(w=w&&w.$$typeof,w){case s:case u:case p:case h:return w;case o:return w;default:return A}}case e:return A}}}return Ct.ContextConsumer=o,Ct.ContextProvider=s,Ct.Element=t,Ct.ForwardRef=u,Ct.Fragment=n,Ct.Lazy=p,Ct.Memo=h,Ct.Portal=e,Ct.Profiler=i,Ct.StrictMode=r,Ct.Suspense=c,Ct.SuspenseList=f,Ct.isContextConsumer=function(w){return T(w)===o},Ct.isContextProvider=function(w){return T(w)===s},Ct.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Ct.isForwardRef=function(w){return T(w)===u},Ct.isFragment=function(w){return T(w)===n},Ct.isLazy=function(w){return T(w)===p},Ct.isMemo=function(w){return T(w)===h},Ct.isPortal=function(w){return T(w)===e},Ct.isProfiler=function(w){return T(w)===i},Ct.isStrictMode=function(w){return T(w)===r},Ct.isSuspense=function(w){return T(w)===c},Ct.isSuspenseList=function(w){return T(w)===f},Ct.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===c||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===h||w.$$typeof===s||w.$$typeof===o||w.$$typeof===u||w.$$typeof===v||w.getModuleId!==void 0)},Ct.typeOf=T,Ct}var ND;function Pne(){return ND||(ND=1,ib.exports=Ine()),ib.exports}var Rne=Pne(),OD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",MD=null,ob=null,MF=t=>{if(t===MD&&Array.isArray(ob))return ob;var e=[];return C.Children.forEach(t,n=>{gn(n)||(Rne.isFragment(n)?e=e.concat(MF(n.props.children)):e.push(n))}),ob=e,MD=t,e};function Nne(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>OD(i)):r=[OD(e)],MF(t).forEach(i=>{var o=Bc(i,"type.displayName")||Bc(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var One=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,ab={},DD;function Mne(){return DD||(DD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(ab)),ab}var sb,kD;function Dne(){return kD||(kD=1,sb=Mne().isPlainObject),sb}var kne=Dne();const Lne=$r(kne);var LD,UD,VD,BD,FD;function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){Une(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Une(t,e,n){return(e=Vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vne(t){var e=Bne(t,"string");return typeof e=="symbol"?e:e+""}function Bne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(null,arguments)}function kd(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var HD=(t,e,n,r,i)=>{var o=n-r,s;return s=Xt(LD||(LD=kd(["M ",",",""])),t,e),s+=Xt(UD||(UD=kd(["L ",",",""])),t+n,e),s+=Xt(VD||(VD=kd(["L ",",",""])),t+n-o/2,e+i),s+=Xt(BD||(BD=kd(["L ",",",""])),t+n-o/2-r,e+i),s+=Xt(FD||(FD=kd(["L ",","," Z"])),t,e),s},Fne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zne=t=>{var e=Nn(t,Fne),{x:n,y:r,upperWidth:i,lowerWidth:o,height:s,className:u}=e,{animationEasing:c,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,g=C.useRef(null),[v,T]=C.useState(-1),w=C.useRef(i),A=C.useRef(o),I=C.useRef(s),D=C.useRef(n),k=C.useRef(r),z=Ov(t,"trapezoid-");if(C.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ue=g.current.getTotalLength();ue&&T(ue)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||s!==+s||i===0&&o===0||s===0)return null;var G=it("recharts-trapezoid",u);if(!p)return C.createElement("g",null,C.createElement("path",Ty({},Dn(e),{className:G,d:HD(n,r,i,o,s)})));var L=w.current,N=A.current,M=I.current,O=D.current,q=k.current,B="0px ".concat(v===-1?1:v,"px"),V="".concat(v,"px 0px"),F=H4(["strokeDasharray"],f,c);return C.createElement(Nv,{animationId:z,key:z,canBegin:v>0,duration:f,easing:c,isActive:p,begin:h},ue=>{var ce=dn(L,i,ue),X=dn(N,o,ue),se=dn(M,s,ue),le=dn(O,n,ue),ge=dn(q,r,ue);g.current&&(w.current=ce,A.current=X,I.current=se,D.current=le,k.current=ge);var $=ue>0?{transition:F,strokeDasharray:V}:{strokeDasharray:B};return C.createElement("path",Ty({},Dn(e),{className:G,d:HD(le,ge,ce,X,se),ref:g,style:qD(qD({},$),e.style)}))})},qne=["option","shapeType","activeClassName"];function Hne(t,e){if(t==null)return{};var n,r,i=Gne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jne(t,e,n){return(e=$ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Kne(t,"string");return typeof e=="symbol"?e:e+""}function Kne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yne(t,e){return wy(wy({},e),t)}function Wne(t,e){return t==="symbols"}function jD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return C.createElement(K4,n);case"trapezoid":return C.createElement(zne,n);case"sector":return C.createElement(X4,n);case"symbols":if(Wne(e))return C.createElement(Gw,n);break;case"curve":return C.createElement(q4,n);default:return null}}function Jne(t){return C.isValidElement(t)?t.props:t}function Xne(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Hne(t,qne),o;if(C.isValidElement(e))o=C.cloneElement(e,wy(wy({},i),Jne(e)));else if(typeof e=="function")o=e(i,i.index);else if(Lne(e)&&typeof e!="boolean"){var s=Yne(e,i);o=C.createElement(jD,{shapeType:n,elementProps:s})}else{var u=i;o=C.createElement(jD,{shapeType:n,elementProps:u})}return i.isActive?C.createElement(kn,{className:r},o):o}var DF=(t,e,n)=>{var r=Pt();return(i,o)=>s=>{t==null||t(i,o,s),r(O3({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},kF=t=>{var e=Pt();return(n,r)=>i=>{t==null||t(n,r,i),e(nQ())}},LF=(t,e,n)=>{var r=Pt();return(i,o)=>s=>{t==null||t(i,o,s),r(rQ({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function UF(t){var{tooltipEntrySettings:e}=t,n=Pt(),r=Sr(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(QX(e)):i.current!==e&&n(ZX({prev:i.current,next:e})),i.current=e)},[e,n,r]),C.useLayoutEffect(()=>()=>{i.current&&(n(eQ(i.current)),i.current=null)},[n]),null}function Qne(t){var{legendPayload:e}=t,n=Pt(),r=Sr(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(V4(e)):i.current!==e&&n(B4({prev:i.current,next:e})),i.current=e)},[n,r,e]),C.useLayoutEffect(()=>()=>{i.current&&(n(F4(i.current)),i.current=null)},[n]),null}function Zne(t){var{legendPayload:e}=t,n=Pt(),r=Ae(ot),i=C.useRef(null);return C.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(V4(e)):i.current!==e&&n(B4({prev:i.current,next:e})),i.current=e)},[n,r,e]),C.useLayoutEffect(()=>()=>{i.current&&(n(F4(i.current)),i.current=null)},[n]),null}var lb,ere=()=>{var[t]=C.useState(()=>ah("uid-"));return t},tre=(lb=k9.useId)!==null&&lb!==void 0?lb:ere;function nre(t,e){var n=tre();return e||(t?"".concat(t,"-").concat(n):n)}var rre=C.createContext(void 0),VF=t=>{var{id:e,type:n,children:r}=t,i=nre("recharts-".concat(n),e);return C.createElement(rre.Provider,{value:i},r(i))},ire={cartesianItems:[],polarItems:[]},BF=Kr({name:"graphicalItems",initialState:ire,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:jt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ao(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:jt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ao(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:jt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:jt()},removePolarGraphicalItem:{reducer(t,e){var n=ao(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:jt()}}}),{addCartesianGraphicalItem:ore,replaceCartesianGraphicalItem:are,removeCartesianGraphicalItem:sre,addPolarGraphicalItem:lre,removePolarGraphicalItem:ure}=BF.actions,cre=BF.reducer,fre=t=>{var e=Pt(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?e(ore(t)):n.current!==t&&e(are({prev:n.current,next:t})),n.current=t},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(e(sre(n.current)),n.current=null)},[e]),null},dre=C.memo(fre);function hre(t){var e=Pt();return C.useLayoutEffect(()=>(e(lre(t)),()=>{e(ure(t))}),[e,t]),null}var pre=["points"];function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ub(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){mre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mre(t,e,n){return(e=gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gre(t){var e=yre(t,"string");return typeof e=="symbol"?e:e+""}function yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ay(){return Ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ay.apply(null,arguments)}function vre(t,e){if(t==null)return{};var n,r,i=_re(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _re(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ere(t){var{option:e,dotProps:n,className:r}=t;if(C.isValidElement(e))return C.cloneElement(e,n);if(typeof e=="function")return e(n);var i=it(r,typeof e!="boolean"?e.className:""),o=n??{},{points:s}=o,u=vre(o,pre);return C.createElement(mx,Ay({},u,{className:i}))}function Sre(t,e){return t==null?!1:e?!0:t.length===1}function bre(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:s,needClip:u,clipPathId:c,zIndex:f=hn.scatter}=t;if(!Sre(e,n))return null;var h=One(n),p=tG(n),g=e.map((T,w)=>{var A,I,D=ub(ub(ub({r:3},s),p),{},{index:w,cx:(A=T.x)!==null&&A!==void 0?A:void 0,cy:(I=T.y)!==null&&I!==void 0?I:void 0,dataKey:o,value:T.value,payload:T.payload,points:e});return C.createElement(Ere,{key:"dot-".concat(w),option:n,dotProps:D,className:i})}),v={};return u&&c!=null&&(v.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),C.createElement(Rr,{zIndex:f},C.createElement(kn,Ay({className:r},v),g))}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){Tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tre(t,e,n){return(e=wre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wre(t){var e=Are(t,"string");return typeof e=="symbol"?e:e+""}function Are(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FF=0,xre={xAxis:{},yAxis:{},zAxis:{}},zF=Kr({name:"cartesianAxis",initialState:xre,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:jt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:jt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:jt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:jt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:jt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:jt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:jt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:jt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:jt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var s=[...o,r].slice(-3);t.yAxis[n]=YD(YD({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Cre,replaceXAxis:Ire,removeXAxis:Pre,addYAxis:Rre,replaceYAxis:Nre,removeYAxis:Ore,addZAxis:lxe,replaceZAxis:uxe,removeZAxis:cxe,updateYAxisWidth:Mre}=zF.actions,Dre=zF.reducer,kre=Z([Yn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Lre=Z([kre,Ya,Wa],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),qF=()=>Ae(Lre),Ure=()=>Ae($Q);function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){Vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vre(t,e,n){return(e=Bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){var e=Fre(t,"string");return typeof e=="symbol"?e:e+""}function Fre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zre=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=cb(cb(cb({},u),nf(i)),jw(i)),f;return C.isValidElement(i)?f=C.cloneElement(i,c):typeof i=="function"?f=i(c):f=C.createElement(mx,c),C.createElement(kn,{className:"recharts-active-dot",clipPath:s},f)};function qre(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:s=hn.activeDot}=t,u=Ae(ru),c=Ure();if(e==null||c==null)return null;var f=e.find(h=>c.includes(h.payload));return gn(f)?null:C.createElement(Rr,{zIndex:s},C.createElement(zre,{point:f,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){Hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hre(t,e,n){return(e=Gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gre(t){var e=jre(t,"string");return typeof e=="symbol"?e:e+""}function jre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HF=(t,e)=>gf(t,"radiusAxis",e),$re=Z([HF],t=>{if(t!=null)return{scale:t}}),Kre=Z([jh,HF],(t,e)=>{if(!(t==null||e==null))return xy(xy({},t),{},{scale:e})}),Yre=(t,e,n,r)=>yf(t,"radiusAxis",e,r),GF=(t,e,n)=>lf(t,n),jF=(t,e,n)=>gf(t,"angleAxis",n),Wre=Z([GF,jF],(t,e)=>{if(!(t==null||e==null))return xy(xy({},t),{},{scale:e})}),Jre=(t,e,n,r)=>yf(t,"angleAxis",n,r),Xre=Z([GF,jF,uf],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),Qre=(t,e,n,r,i)=>i,Zre=Z([ot,Kre,Yre,Wre,Jre],(t,e,n,r,i)=>tl(t,"radiusAxis")?zc(e,n,!1):zc(r,i,!1)),eie=Z([TF,Qre],(t,e)=>{if(t!=null){var n=t.find(r=>r.type==="radar"&&e===r.id);return n==null?void 0:n.dataKey}}),tie=Z([$re,Xre,Bv,eie,Zre],(t,e,n,r,i)=>{var{chartData:o,dataStartIndex:s,dataEndIndex:u}=n;if(!(t==null||e==null||o==null||i==null||r==null)){var c=o.slice(s,u+1);return fie({radiusAxis:t,angleAxis:e,displayedData:c,dataKey:r,bandSize:i})}}),nie=["id"];function bh(){return bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bh.apply(null,arguments)}function XD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(n),!0).forEach(function(r){rie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rie(t,e,n){return(e=iie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iie(t){var e=oie(t,"string");return typeof e=="symbol"?e:e+""}function oie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aie(t,e){if(t==null)return{};var n,r,i=sie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vx(t,e){return t&&t!=="none"?t:e}var lie=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:o,hide:s}=t;return[{inactive:s,dataKey:e,type:o,color:vx(r,i),value:Ev(n,e),payload:t}]},uie=C.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:s,tooltipType:u,id:c}=t,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:e,name:Ev(o,e),hide:s,type:u,color:vx(n,i),unit:"",graphicalItemId:c}};return C.createElement(UF,{tooltipEntrySettings:f})});function cie(t){var{points:e,props:n}=t,{dot:r,dataKey:i}=n,{id:o}=n,s=aie(n,nie),u=mn(s);return C.createElement(bre,{points:e,dot:r,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:u})}function fie(t){var{radiusAxis:e,angleAxis:n,displayedData:r,dataKey:i,bandSize:o}=t,{cx:s,cy:u}=n,c=!1,f=[],h=n.type!=="number"?o??0:0;r.forEach((g,v)=>{var T=pn(g,n.dataKey,v),w=pn(g,i),A=n.scale(T)+h,I=Array.isArray(w)?yF(w):w,D=gn(I)?0:e.scale(I);Array.isArray(w)&&w.length>=2&&(c=!0),f.push(Hr(Hr({},It(s,u,D,A)),{},{name:T,value:w,cx:s,cy:u,radius:D,angle:A,payload:g}))});var p=[];return c&&f.forEach(g=>{if(Array.isArray(g.value)){var v=g.value[0],T=gn(v)?0:e.scale(v);p.push(Hr(Hr({},g),{},{radius:T},It(s,u,T,g.angle)))}else p.push(g)}),{points:f,isRange:c,baseLinePoints:p}}function die(t){var{showLabels:e,points:n,children:r}=t,i=n.map(o=>{var s,u={x:o.x,y:o.y,width:0,lowerWidth:0,upperWidth:0,height:0};return Hr(Hr({},u),{},{value:(s=o.value)!==null&&s!==void 0?s:"",payload:o.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return C.createElement(_F,{value:e?i:void 0},r)}function hie(t){var{points:e,baseLinePoints:n,props:r}=t;if(e==null)return null;var{shape:i,isRange:o,connectNulls:s}=r,u=h=>{var{onMouseEnter:p}=r;p&&p(r,h)},c=h=>{var{onMouseLeave:p}=r;p&&p(r,h)},f;return C.isValidElement(i)?f=C.cloneElement(i,Hr(Hr({},r),{},{points:e})):typeof i=="function"?f=i(Hr(Hr({},r),{},{points:e})):f=C.createElement(bF,bh({},Dn(r),{onMouseEnter:u,onMouseLeave:c,points:e,baseLinePoints:o?n:void 0,connectNulls:s})),C.createElement(kn,{className:"recharts-radar-polygon"},f,C.createElement(cie,{props:r,points:e}))}var QD=(t,e,n)=>(r,i)=>{var o=t&&t[Math.floor(i*e)];return o?Hr(Hr({},r),{},{x:dn(o.x,r.x,n),y:dn(o.y,r.y,n)}):Hr(Hr({},r),{},{x:dn(r.cx,r.x,n),y:dn(r.cy,r.y,n)})};function pie(t){var{props:e,previousPointsRef:n,previousBaseLinePointsRef:r}=t,{points:i,baseLinePoints:o,isAnimationActive:s,animationBegin:u,animationDuration:c,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,v=r.current,T=g?g.length/i.length:1,w=v?v.length/o.length:1,A=Ov(e,"recharts-radar-"),[I,D]=C.useState(!1),k=!I,z=C.useCallback(()=>{typeof h=="function"&&h(),D(!1)},[h]),G=C.useCallback(()=>{typeof p=="function"&&p(),D(!0)},[p]);return C.createElement(die,{showLabels:k,points:i},C.createElement(Nv,{animationId:A,begin:u,duration:c,isActive:s,easing:f,key:"radar-".concat(A),onAnimationEnd:z,onAnimationStart:G},L=>{var N=L===1?i:i.map(QD(g,T,L)),M=L===1?o:o==null?void 0:o.map(QD(v,w,L));return L>0&&(n.current=N,r.current=M),C.createElement(hie,{points:N,baseLinePoints:M,props:e})}),C.createElement(SF,{label:e.label}),e.children)}function mie(t){var e=C.useRef(void 0),n=C.useRef(void 0);return C.createElement(pie,{props:t,previousPointsRef:e,previousBaseLinePointsRef:n})}var gie={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:hn.area};function yie(t){var{hide:e,className:n,points:r}=t;if(e)return null;var i=it("recharts-radar",n);return C.createElement(Rr,{zIndex:t.zIndex},C.createElement(kn,{className:i},C.createElement(mie,t)),C.createElement(qre,{points:r,mainColor:vx(t.stroke,t.fill),itemDataKey:t.dataKey,activeDot:t.activeDot}))}function vie(t){var e=Sr(),n=Ae(r=>tie(r,t.radiusAxisId,t.angleAxisId,e,t.id));return(n==null?void 0:n.points)==null?null:C.createElement(yie,bh({},t,{points:n==null?void 0:n.points,baseLinePoints:n==null?void 0:n.baseLinePoints,isRange:n==null?void 0:n.isRange}))}function Tg(t){var e=Nn(t,gie);return C.createElement(VF,{id:e.id,type:"radar"},n=>C.createElement(C.Fragment,null,C.createElement(hre,{type:"radar",id:n,data:void 0,dataKey:e.dataKey,hide:e.hide,angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId}),C.createElement(Zne,{legendPayload:lie(e)}),C.createElement(uie,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:n}),C.createElement(vie,bh({},e,{id:n}))))}Tg.displayName="Radar";var ZD=(t,e,n)=>{var r=n??t;if(!gn(r))return co(r,e,0)},_ie=(t,e,n)=>{var r={},i=t.filter(qv),o=t.filter(f=>f.stackId==null),s=i.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),u=Object.entries(s).map(f=>{var[h,p]=f,g=p.map(T=>T.dataKey),v=ZD(e,n,p[0].barSize);return{stackId:h,dataKeys:g,barSize:v}}),c=o.map(f=>{var h=[f.dataKey].filter(g=>g!=null),p=ZD(e,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...c]};function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){Eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eie(t,e,n){return(e=Sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sie(t){var e=bie(t,"string");return typeof e=="symbol"?e:e+""}function bie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tie(t,e,n,r,i){var o=r.length;if(!(o<1)){var s=co(t,n,0,!0),u,c=[];if(Zt(r[0].barSize)){var f=!1,h=n/o,p=r.reduce((I,D)=>I+(D.barSize||0),0);p+=(o-1)*s,p>=n&&(p-=(o-1)*s,s=0),p>=n&&h>0&&(f=!0,h*=.9,p=o*h);var g=(n-p)/2>>0,v={offset:g-s,size:0};u=r.reduce((I,D)=>{var k,z={stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:v.offset+v.size+s,size:f?h:(k=D.barSize)!==null&&k!==void 0?k:0}},G=[...I,z];return v=G[G.length-1].position,G},c)}else{var T=co(e,n,0,!0);n-2*T-(o-1)*s<=0&&(s=0);var w=(n-2*T-(o-1)*s)/o;w>1&&(w>>=0);var A=Zt(i)?Math.min(w,i):w;u=r.reduce((I,D,k)=>[...I,{stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:T+(w+s)*k+(w-A)/2,size:A}}],c)}return u}}var wie=(t,e,n,r,i,o,s)=>{var u=gn(s)?e:s,c=Tie(n,r,i!==o?i:o,t,u);return i!==o&&c!=null&&(c=c.map(f=>eg(eg({},f),{},{position:eg(eg({},f.position),{},{offset:f.position.offset-i/2})}))),c},Aie=(t,e)=>{var n=UA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(s=>s.key===n)}}}};function xie(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Zt(t.zIndex)?t.zIndex:e}var $F=t=>{var{chartData:e}=t,n=Pt(),r=Sr();return C.useEffect(()=>r?()=>{}:(n($M(e)),()=>{n($M(void 0))}),[e,n,r]),null},tk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},KF=Kr({name:"brush",initialState:tk,reducers:{setBrushSettings(t,e){return e.payload==null?tk:e.payload}}}),{setBrushSettings:fxe}=KF.actions,Cie=KF.reducer;function Iie(t,e,n){return(e=Pie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pie(t){var e=Rie(t,"string");return typeof e=="symbol"?e:e+""}function Rie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _x{static create(e){return new _x(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Iie(_x,"EPS",1e-4);function Nie(t){return(t%180+180)%180}var Oie=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Nie(i),s=o*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Mie={dots:[],areas:[],lines:[]},YF=Kr({name:"referenceElements",initialState:Mie,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ao(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ao(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ao(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:dxe,removeDot:hxe,addArea:pxe,removeArea:mxe,addLine:gxe,removeLine:yxe}=YF.actions,Die=YF.reducer,kie=C.createContext(void 0),Lie=t=>{var{children:e}=t,[n]=C.useState("".concat(ah("recharts"),"-clip")),r=qF();if(r==null)return null;var{x:i,y:o,width:s,height:u}=r;return C.createElement(kie.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:o,height:u,width:s}))),e)};function WF(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Uie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Oie(r,n)}function Vie(t,e,n){var r=n==="width",{x:i,y:o,width:s,height:u}=t;return e===1?{start:r?i:o,end:r?i+s:o+u}:{start:r?i+s:o+u,end:r?i:o}}function Th(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Bie(t,e){return WF(t,e+1)}function Fie(t,e,n,r,i){for(var o=(r||[]).slice(),{start:s,end:u}=e,c=0,f=1,h=s,p=function(){var T=r==null?void 0:r[c];if(T===void 0)return{v:WF(r,f)};var w=c,A,I=()=>(A===void 0&&(A=n(T,w)),A),D=T.coordinate,k=c===0||Th(t,D,I,h,u);k||(c=0,h=s,f+=1),k&&(h=D+t*(I()/2+i),c+=f)},g;f<=o.length;)if(g=p(),g)return g.v;return[]}function zie(t,e,n,r,i){var o=(r||[]).slice(),s=o.length;if(s===0)return[];for(var{start:u,end:c}=e,f=1;f<=s;f++){for(var h=(s-1)%f,p=u,g=!0,v=function(){var D=r[T],k=T,z,G=()=>(z===void 0&&(z=n(D,k)),z),L=D.coordinate,N=T===h||Th(t,L,G,p,c);if(!N)return g=!1,1;N&&(p=L+t*(G()/2+i))},T=h;T<s&&!v();T+=f);if(g){for(var w=[],A=h;A<s;A+=f)w.push(r[A]);return w}}return[]}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qie(t,e,n){return(e=Hie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hie(t){var e=Gie(t,"string");return typeof e=="symbol"?e:e+""}function Gie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jie(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:u}=e,{end:c}=e,f=function(g){var v=o[g],T,w=()=>(T===void 0&&(T=n(v,g)),T);if(g===s-1){var A=t*(v.coordinate+t*w()/2-c);o[g]=v=pr(pr({},v),{},{tickCoord:A>0?v.coordinate-A*t:v.coordinate})}else o[g]=v=pr(pr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var I=Th(t,v.tickCoord,w,u,c);I&&(c=v.tickCoord-t*(w()/2+i),o[g]=pr(pr({},v),{},{isShow:!0}))}},h=s-1;h>=0;h--)f(h);return o}function $ie(t,e,n,r,i,o){var s=(r||[]).slice(),u=s.length,{start:c,end:f}=e;if(o){var h=r[u-1],p=n(h,u-1),g=t*(h.coordinate+t*p/2-f);if(s[u-1]=h=pr(pr({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate}),h.tickCoord!=null){var v=Th(t,h.tickCoord,()=>p,c,f);v&&(f=h.tickCoord-t*(p/2+i),s[u-1]=pr(pr({},h),{},{isShow:!0}))}}for(var T=o?u-1:u,w=function(D){var k=s[D],z,G=()=>(z===void 0&&(z=n(k,D)),z);if(D===0){var L=t*(k.coordinate-t*G()/2-c);s[D]=k=pr(pr({},k),{},{tickCoord:L<0?k.coordinate-L*t:k.coordinate})}else s[D]=k=pr(pr({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var N=Th(t,k.tickCoord,G,c,f);N&&(c=k.tickCoord+t*(G()/2+i),s[D]=pr(pr({},k),{},{isShow:!0}))}},A=0;A<T;A++)w(A);return s}function Ex(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:u,interval:c,tickFormatter:f,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(Re(c)||Rv.isSsr){var g;return(g=Bie(i,Re(c)?c:0))!==null&&g!==void 0?g:[]}var v=[],T=u==="top"||u==="bottom"?"width":"height",w=h&&T==="width"?Yd(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(k,z)=>{var G=typeof f=="function"?f(k.value,z):k.value;return T==="width"?Uie(Yd(G,{fontSize:e,letterSpacing:n}),w,p):Yd(G,{fontSize:e,letterSpacing:n})[T]},I=i.length>=2?zr(i[1].coordinate-i[0].coordinate):1,D=Vie(o,I,T);return c==="equidistantPreserveStart"?Fie(I,D,A,i,s):c==="equidistantPreserveEnd"?zie(I,D,A,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=$ie(I,D,A,i,s,c==="preserveStartEnd"):v=jie(I,D,A,i,s),v.filter(k=>k.isShow))}var Kie=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,s=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>s&&(s=p.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+o,f=s+c+u+(n?r:0);return Math.round(f)}return 0},Yie=["axisLine","width","height","className","hide","ticks","axisType"];function Wie(t,e){if(t==null)return{};var n,r,i=Jie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ou.apply(null,arguments)}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){Xie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xie(t,e,n){return(e=Qie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qie(t){var e=Zie(t,"string");return typeof e=="symbol"?e:e+""}function Zie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Da={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:hn.axis};function eoe(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:u,otherSvgProps:c}=t;if(!u)return null;var f=In(In(In({},c),mn(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!s||o==="bottom"&&s);f=In(In({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(o==="left"&&!s||o==="right"&&s);f=In(In({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return C.createElement("line",ou({},f,{className:it("recharts-cartesian-axis-line",Bc(u,"className"))}))}function toe(t,e,n,r,i,o,s,u,c){var f,h,p,g,v,T,w=u?-1:1,A=t.tickSize||s,I=Re(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":f=h=t.coordinate,g=n+ +!u*i,p=g-w*A,T=p-w*c,v=I;break;case"left":p=g=t.coordinate,h=e+ +!u*r,f=h-w*A,v=f-w*c,T=I;break;case"right":p=g=t.coordinate,h=e+ +u*r,f=h+w*A,v=f+w*c,T=I;break;default:f=h=t.coordinate,g=n+ +u*i,p=g+w*A,T=p+w*c,v=I;break}return{line:{x1:f,y1:p,x2:h,y2:g},tick:{x:v,y:T}}}function noe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function roe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ioe(t){var{option:e,tickProps:n,value:r}=t,i,o=it(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))i=C.cloneElement(e,In(In({},n),{},{className:o}));else if(typeof e=="function")i=e(In(In({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=it(s,e==null?void 0:e.className)),i=C.createElement(ep,ou({},n,{className:s}),r)}return i}var ooe=C.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:s,unit:u,padding:c,tickTextProps:f,orientation:h,mirror:p,x:g,y:v,width:T,height:w,tickSize:A,tickMargin:I,fontSize:D,letterSpacing:k,getTicksConfig:z,events:G,axisType:L}=t,N=Ex(In(In({},z),{},{ticks:n}),D,k),M=noe(h,p),O=roe(h,p),q=mn(z),B=nf(r),V={};typeof i=="object"&&(V=i);var F=In(In({},q),{},{fill:"none"},V),ue=N.map(se=>In({entry:se},toe(se,g,v,T,w,h,A,p,I))),ce=ue.map(se=>{var{entry:le,line:ge}=se;return C.createElement(kn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},i&&C.createElement("line",ou({},F,ge,{className:it("recharts-cartesian-axis-tick-line",Bc(i,"className"))})))}),X=ue.map((se,le)=>{var{entry:ge,tick:$}=se,Y=In(In(In(In({textAnchor:M,verticalAnchor:O},q),{},{stroke:"none",fill:o},B),$),{},{index:le,payload:ge,visibleTicksCount:N.length,tickFormatter:s,padding:c},f);return C.createElement(kn,ou({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ge.value,"-").concat(ge.coordinate,"-").concat(ge.tickCoord)},rf(G,ge,le)),r&&C.createElement(ioe,{option:r,tickProps:Y,value:"".concat(typeof s=="function"?s(ge.value,le):ge.value).concat(u||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},X.length>0&&C.createElement(Rr,{zIndex:hn.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:e},X)),ce.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},ce))}),aoe=C.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:s,ticks:u,axisType:c}=t,f=Wie(t,Yie),[h,p]=C.useState(""),[g,v]=C.useState(""),T=C.useRef(null);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Kie({ticks:T.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var w=C.useCallback(A=>{if(A){var I=A.getElementsByClassName("recharts-cartesian-axis-tick-value");T.current=I;var D=I[0];if(D){var k=window.getComputedStyle(D),z=k.fontSize,G=k.letterSpacing;(z!==h||G!==g)&&(p(z),v(G))}}},[h,g]);return s||r!=null&&r<=0||i!=null&&i<=0?null:C.createElement(Rr,{zIndex:t.zIndex},C.createElement(kn,{className:it("recharts-cartesian-axis",o)},C.createElement(eoe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:mn(t)}),C.createElement(ooe,{ref:w,axisType:c,events:f,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),C.createElement(Hee,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},C.createElement(Xee,{label:t.label,labelRef:t.labelRef}),t.children)))}),Sx=C.forwardRef((t,e)=>{var n=Nn(t,Da);return C.createElement(aoe,ou({},n,{ref:e}))});Sx.displayName="CartesianAxis";var soe=["x1","y1","x2","y2","key"],loe=["offset"],uoe=["xAxisId","yAxisId"],coe=["xAxisId","yAxisId"];function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){foe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function foe(t,e,n){return(e=doe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function doe(t){var e=hoe(t,"string");return typeof e=="symbol"?e:e+""}function hoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(null,arguments)}function Cy(t,e){if(t==null)return{};var n,r,i=poe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function poe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var moe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:u}=t;return C.createElement("rect",{x:r,y:i,ry:u,width:o,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function JF(t){var{option:e,lineItemProps:n}=t,r;if(C.isValidElement(e))r=C.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:o,y1:s,x2:u,y2:c,key:f}=n,h=Cy(n,soe),p=(i=mn(h))!==null&&i!==void 0?i:{},{offset:g}=p,v=Cy(p,loe);r=C.createElement("line",Gl({},v,{x1:o,y1:s,x2:u,y2:c,fill:"none",key:f}))}return r}function goe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=t,u=Cy(t,uoe),c=i.map((f,h)=>{var p=gr(gr({},u),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(h),index:h});return C.createElement(JF,{key:"line-".concat(h),option:r,lineItemProps:p})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function yoe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=t,u=Cy(t,coe),c=i.map((f,h)=>{var p=gr(gr({},u),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(h),index:h});return C.createElement(JF,{option:r,lineItemProps:p,key:"line-".concat(h)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function voe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:u,horizontal:c=!0}=t;if(!c||!e||!e.length||u==null)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var v=!f[g+1],T=v?i+s-p:f[g+1]-p;if(T<=0)return null;var w=g%e.length;return C.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:T,width:o,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function _oe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:u,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var v=!f[g+1],T=v?i+s-p:f[g+1]-p;if(T<=0)return null;var w=g%n.length;return C.createElement("rect",{key:"react-".concat(g),x:p,y:o,width:T,height:u,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Eoe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return T4(Ex(gr(gr(gr({},Da),n),{},{ticks:w4(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},Soe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return T4(Ex(gr(gr(gr({},Da),n),{},{ticks:w4(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},boe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:hn.grid};function XF(t){var e=iA(),n=oA(),r=R4(),i=gr(gr({},Nn(t,boe)),{},{x:Re(t.x)?t.x:r.left,y:Re(t.y)?t.y:r.top,width:Re(t.width)?t.width:r.width,height:Re(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:s,x:u,y:c,width:f,height:h,syncWithTicks:p,horizontalValues:g,verticalValues:v}=i,T=Sr(),w=Ae(O=>DM(O,"xAxis",o,T)),A=Ae(O=>DM(O,"yAxis",s,T));if(!Xo(f)||!Xo(h)||!Re(u)||!Re(c))return null;var I=i.verticalCoordinatesGenerator||Eoe,D=i.horizontalCoordinatesGenerator||Soe,{horizontalPoints:k,verticalPoints:z}=i;if((!k||!k.length)&&typeof D=="function"){var G=g&&g.length,L=D({yAxis:A?gr(gr({},A),{},{ticks:G?g:A.ticks}):void 0,width:e??f,height:n??h,offset:r},G?!0:p);Qg(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(k=L)}if((!z||!z.length)&&typeof I=="function"){var N=v&&v.length,M=I({xAxis:w?gr(gr({},w),{},{ticks:N?v:w.ticks}):void 0,width:e??f,height:n??h,offset:r},N?!0:p);Qg(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(z=M)}return C.createElement(Rr,{zIndex:i.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(moe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(voe,Gl({},i,{horizontalPoints:k})),C.createElement(_oe,Gl({},i,{verticalPoints:z})),C.createElement(goe,Gl({},i,{offset:r,horizontalPoints:k,xAxis:w,yAxis:A})),C.createElement(yoe,Gl({},i,{offset:r,verticalPoints:z,xAxis:w,yAxis:A}))))}XF.displayName="CartesianGrid";var Toe={},QF=Kr({name:"errorBars",initialState:Toe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:vxe,replaceErrorBar:_xe,removeErrorBar:Exe}=QF.actions,woe=QF.reducer,Aoe=["children"];function xoe(t,e){if(t==null)return{};var n,r,i=Coe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Coe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ioe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Poe=C.createContext(Ioe);function Roe(t){var{children:e}=t,n=xoe(t,Aoe);return C.createElement(Poe.Provider,{value:n},e)}function ZF(t,e){var n,r,i=Ae(f=>Qa(f,t)),o=Ae(f=>Za(f,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Hn.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Gn.allowDataOverflow,c=s||u;return{needClip:c,needClipX:s,needClipY:u}}function Noe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=qF(),{needClipX:o,needClipY:s,needClip:u}=ZF(e,n);if(!u||!i)return null;var{x:c,y:f,width:h,height:p}=i;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:o?c:c-h/2,y:s?f:f-p/2,width:o?h:h*2,height:s?p:p*2}))}var fb={exports:{}},db={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ok;function Ooe(){if(ok)return db;ok=1;var t=tf();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,s=t.useMemo,u=t.useDebugValue;return db.useSyncExternalStoreWithSelector=function(c,f,h,p,g){var v=i(null);if(v.current===null){var T={hasValue:!1,value:null};v.current=T}else T=v.current;v=s(function(){function A(G){if(!I){if(I=!0,D=G,G=p(G),g!==void 0&&T.hasValue){var L=T.value;if(g(L,G))return k=L}return k=G}if(L=k,n(D,G))return L;var N=p(G);return g!==void 0&&g(L,N)?(D=G,L):(D=G,k=N)}var I=!1,D,k,z=h===void 0?null:h;return[function(){return A(f())},z===null?void 0:function(){return A(z())}]},[f,h,p,g]);var w=r(c,v[0],v[1]);return o(function(){T.hasValue=!0,T.value=w},[w]),u(w),w},db}var ak;function Moe(){return ak||(ak=1,fb.exports=Ooe()),fb.exports}Moe();function Doe(t){t()}function koe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Doe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var sk={notify(){},get:()=>[]};function Loe(t,e){let n,r=sk,i=0,o=!1;function s(w){h();const A=r.subscribe(w);let I=!1;return()=>{I||(I=!0,A(),p())}}function u(){r.notify()}function c(){T.onStateChange&&T.onStateChange()}function f(){return o}function h(){i++,n||(n=t.subscribe(c),r=koe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=sk)}function g(){o||(o=!0,h())}function v(){o&&(o=!1,p())}const T={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:f,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return T}var Uoe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Voe=Uoe(),Boe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Foe=Boe(),zoe=()=>Voe||Foe?C.useLayoutEffect:C.useEffect,qoe=zoe();function lk(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Hoe(t,e){if(lk(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!lk(t[n[i]],e[n[i]]))return!1;return!0}var hb=Symbol.for("react-redux-context"),pb=typeof globalThis<"u"?globalThis:{};function Goe(){if(!C.createContext)return{};const t=pb[hb]??(pb[hb]=new Map);let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var joe=Goe();function $oe(t){const{children:e,context:n,serverState:r,store:i}=t,o=C.useMemo(()=>{const c=Loe(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=C.useMemo(()=>i.getState(),[i]);qoe(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,s]);const u=n||joe;return C.createElement(u.Provider,{value:o},e)}var Koe=$oe,Yoe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Woe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function bx(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Yoe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Hoe(t[r],e[r]))return!1}else if(!Woe(t[r],e[r]))return!1;return!0}function gu(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:FF}function yu(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:FF}var Joe="Invariant failed";function Xoe(t,e){throw new Error(Joe)}function VT(){return VT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VT.apply(null,arguments)}function Iy(t){return C.createElement(Xne,VT({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Qoe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Re(e))return e;var o=Re(r)||gn(r);return o?e(r,i):(o||Xoe(),n)}},Zoe=(t,e,n)=>n,eae=(t,e)=>e,tp=Z([FA,eae],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),tae=Z([tp],t=>t==null?void 0:t.maxBarSize),nae=(t,e,n,r)=>r,rae=Z([ot,FA,gu,yu,Zoe],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),iae=(t,e,n)=>{var r=ot(t),i=gu(t,e),o=yu(t,e);if(!(i==null||o==null))return r==="horizontal"?RT(t,"yAxis",o,n):RT(t,"xAxis",i,n)},oae=(t,e)=>{var n=ot(t),r=gu(t,e),i=yu(t,e);if(!(r==null||i==null))return n==="horizontal"?MM(t,"xAxis",r):MM(t,"yAxis",i)},aae=Z([rae,jJ,oae],_ie),sae=(t,e,n)=>{var r,i,o=tp(t,e);if(o!=null){var s=gu(t,e),u=yu(t,e);if(!(s==null||u==null)){var c=ot(t),f=KB(t),{maxBarSize:h}=o,p=gn(h)?f:h,g,v;return c==="horizontal"?(g=Yc(t,"xAxis",s,n),v=Kc(t,"xAxis",s,n)):(g=Yc(t,"yAxis",u,n),v=Kc(t,"yAxis",u,n)),(r=(i=zc(g,v,!0))!==null&&i!==void 0?i:p)!==null&&r!==void 0?r:0}}},ez=(t,e,n)=>{var r=ot(t),i=gu(t,e),o=yu(t,e);if(!(i==null||o==null)){var s,u;return r==="horizontal"?(s=Yc(t,"xAxis",i,n),u=Kc(t,"xAxis",i,n)):(s=Yc(t,"yAxis",o,n),u=Kc(t,"yAxis",o,n)),zc(s,u)}},lae=Z([aae,KB,GJ,YB,sae,ez,tae],wie),uae=(t,e,n)=>{var r=gu(t,e);if(r!=null)return Yc(t,"xAxis",r,n)},cae=(t,e,n)=>{var r=yu(t,e);if(r!=null)return Yc(t,"yAxis",r,n)},fae=(t,e,n)=>{var r=gu(t,e);if(r!=null)return Kc(t,"xAxis",r,n)},dae=(t,e,n)=>{var r=yu(t,e);if(r!=null)return Kc(t,"yAxis",r,n)},hae=Z([lae,tp],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),pae=Z([iae,tp],Aie),mae=Z([Yn,nA,uae,cae,fae,dae,hae,ot,OJ,ez,pae,tp,nae],(t,e,n,r,i,o,s,u,c,f,h,p,g)=>{var{chartData:v,dataStartIndex:T,dataEndIndex:w}=c;if(!(p==null||s==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||f==null)){var{data:A}=p,I;if(A!=null&&A.length>0?I=A:I=v==null?void 0:v.slice(T,w+1),I!=null)return Gae({layout:u,barSettings:p,pos:s,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:h,displayedData:I,offset:t,cells:g,dataStartIndex:T})}}),gae=["index"];function BT(){return BT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BT.apply(null,arguments)}function yae(t,e){if(t==null)return{};var n,r,i=vae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tz=C.createContext(void 0),_ae=t=>{var e=C.useContext(tz);if(e!=null)return e.stackId;if(t!=null)return T8(t)},Eae=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Sae=t=>{var e=C.useContext(tz);if(e!=null){var{stackId:n}=e;return"url(#".concat(Eae(n,t),")")}},bae=t=>{var{index:e}=t,n=yae(t,gae),r=Sae(e);return C.createElement(kn,BT({className:"recharts-bar-stack-layer",clipPath:r},n))},Tae=["onMouseEnter","onMouseLeave","onClick"],wae=["value","background","tooltipPosition"],Aae=["id"],xae=["onMouseEnter","onClick","onMouseLeave"];function Ha(){return Ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ha.apply(null,arguments)}function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){Cae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cae(t,e,n){return(e=Iae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iae(t){var e=Pae(t,"string");return typeof e=="symbol"?e:e+""}function Pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Py(t,e){if(t==null)return{};var n,r,i=Rae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nae=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:Ev(n,e),payload:t}]},Oae=C.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:s,unit:u,tooltipType:c,id:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Ev(o,e),hide:s,type:c,color:i,unit:u,graphicalItemId:f}};return C.createElement(UF,{tooltipEntrySettings:h})});function Mae(t){var e=Ae(ru),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:s,onMouseLeave:u,onClick:c}=o,f=Py(o,Tae),h=DF(s,r,o.id),p=kF(u),g=LF(c,r,o.id);if(!i||n==null)return null;var v=nf(i);return C.createElement(Rr,{zIndex:xie(i,hn.barBackground)},n.map((T,w)=>{var{value:A,background:I,tooltipPosition:D}=T,k=Py(T,wae);if(!I)return null;var z=h(T,w),G=p(T,w),L=g(T,w),N=xr(xr(xr(xr(xr({option:i,isActive:String(w)===e},k),{},{fill:"#eee"},I),v),rf(f,T,w)),{},{onMouseEnter:z,onMouseLeave:G,onClick:L,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return C.createElement(Iy,Ha({key:"background-bar-".concat(w)},N))}))}function Dae(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(o=>{var s={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return xr(xr({},s),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:s,fill:o.fill})});return C.createElement(_F,{value:e?i:void 0},n)}function kae(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:o,dataKey:s}=t,u=Ae(ru),c=Ae($3),f=n&&String(o)===u&&(c==null||s===c),h=f?n:e;return f?C.createElement(Rr,{zIndex:hn.activeBar},C.createElement(Iy,Ha({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:s}))):C.createElement(Iy,Ha({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:s}))}function Lae(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:o}=t;return C.createElement(Iy,Ha({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:o}))}function Uae(t){var e,{data:n,props:r}=t,i=(e=mn(r))!==null&&e!==void 0?e:{},{id:o}=i,s=Py(i,Aae),{shape:u,dataKey:c,activeBar:f}=r,{onMouseEnter:h,onClick:p,onMouseLeave:g}=r,v=Py(r,xae),T=DF(h,c,o),w=kF(g),A=LF(p,c,o);return n?C.createElement(C.Fragment,null,n.map((I,D)=>C.createElement(bae,Ha({index:D,key:"rectangle-".concat(I==null?void 0:I.x,"-").concat(I==null?void 0:I.y,"-").concat(I==null?void 0:I.value,"-").concat(D),className:"recharts-bar-rectangle"},rf(v,I,D),{onMouseEnter:T(I,D),onMouseLeave:w(I,D),onClick:A(I,D)}),f?C.createElement(kae,{shape:u,activeBar:f,baseProps:s,entry:I,index:D,dataKey:c}):C.createElement(Lae,{shape:u,baseProps:s,entry:I,index:D,dataKey:c})))):null}function Vae(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:u,animationEasing:c,onAnimationEnd:f,onAnimationStart:h}=e,p=n.current,g=Ov(e,"recharts-bar-"),[v,T]=C.useState(!1),w=!v,A=C.useCallback(()=>{typeof f=="function"&&f(),T(!1)},[f]),I=C.useCallback(()=>{typeof h=="function"&&h(),T(!0)},[h]);return C.createElement(Dae,{showLabels:w,rects:r},C.createElement(Nv,{animationId:g,begin:s,duration:u,isActive:o,easing:c,onAnimationEnd:A,onAnimationStart:I,key:g},D=>{var k=D===1?r:r==null?void 0:r.map((z,G)=>{var L=p&&p[G];if(L)return xr(xr({},z),{},{x:dn(L.x,z.x,D),y:dn(L.y,z.y,D),width:dn(L.width,z.width,D),height:dn(L.height,z.height,D)});if(i==="horizontal"){var N=dn(0,z.height,D),M=dn(z.stackedBarStart,z.y,D);return xr(xr({},z),{},{y:M,height:N})}var O=dn(0,z.width,D),q=dn(z.stackedBarStart,z.x,D);return xr(xr({},z),{},{width:O,x:q})});return D>0&&(n.current=k??null),k==null?null:C.createElement(kn,null,C.createElement(Uae,{props:e,data:k}))}),C.createElement(SF,{label:e.label}),e.children)}function Bae(t){var e=C.useRef(null);return C.createElement(Vae,{previousRectanglesRef:e,props:t})}var nz=0,Fae=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:pn(t,e)}};class zae extends C.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:s,needClip:u,background:c,id:f}=this.props;if(e||n==null)return null;var h=it("recharts-bar",i),p=f;return C.createElement(kn,{className:h,id:f},u&&C.createElement("defs",null,C.createElement(Noe,{clipPathId:p,xAxisId:o,yAxisId:s})),C.createElement(kn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},C.createElement(Mae,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),C.createElement(Bae,this.props)))}}var qae={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:nz,xAxisId:0,yAxisId:0,zIndex:hn.bar};function Hae(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h}=t,{needClip:p}=ZF(e,n),g=Vh(),v=Sr(),T=Nne(t.children,rF),w=Ae(D=>mae(D,t.id,v,T));if(g!=="vertical"&&g!=="horizontal")return null;var A,I=w==null?void 0:w[0];return I==null||I.height==null||I.width==null?A=0:A=g==="vertical"?I.height/2:I.width/2,C.createElement(Roe,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:Fae,errorBarOffset:A},C.createElement(zae,Ha({},t,{layout:g,needClip:p,data:w,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h})))}function Gae(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:s,yAxis:u,xAxisTicks:c,yAxisTicks:f,stackedData:h,displayedData:p,offset:g,cells:v,parentViewBox:T,dataStartIndex:w}=t,A=e==="horizontal"?u:s,I=h?A.scale.domain():null,D=w8({numericAxis:A}),k=A.scale(D);return p.map((z,G)=>{var L,N,M,O,q,B;if(h){var V=h[G+w];if(V==null)return null;L=v8(V,I)}else L=pn(z,n),Array.isArray(L)||(L=[D,L]);var F=Qoe(r,nz)(L[1],G);if(e==="horizontal"){var ue,[ce,X]=[u.scale(L[0]),u.scale(L[1])];N=LN({axis:s,ticks:c,bandSize:o,offset:i.offset,entry:z,index:G}),M=(ue=X??ce)!==null&&ue!==void 0?ue:void 0,O=i.size;var se=ce-X;if(q=uo(se)?0:se,B={x:N,y:g.top,width:O,height:g.height},Math.abs(F)>0&&Math.abs(q)<Math.abs(F)){var le=zr(q||F)*(Math.abs(F)-Math.abs(q));M-=le,q+=le}}else{var[ge,$]=[s.scale(L[0]),s.scale(L[1])];if(N=ge,M=LN({axis:u,ticks:f,bandSize:o,offset:i.offset,entry:z,index:G}),O=$-ge,q=i.size,B={x:g.left,y:M,width:g.width,height:q},Math.abs(F)>0&&Math.abs(O)<Math.abs(F)){var Y=zr(O||F)*(Math.abs(F)-Math.abs(O));O+=Y}}if(N==null||M==null||O==null||q==null)return null;var re=xr(xr({},z),{},{stackedBarStart:k,x:N,y:M,width:O,height:q,value:h?L:L[1],payload:z,background:B,tooltipPosition:{x:N+O/2,y:M+q/2},parentViewBox:T},v&&v[G]&&v[G].props);return re}).filter(Boolean)}function jae(t){var e=Nn(t,qae),n=_ae(e.stackId),r=Sr();return C.createElement(VF,{id:e.id,type:"bar"},i=>C.createElement(C.Fragment,null,C.createElement(Qne,{legendPayload:Nae(e)}),C.createElement(Oae,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),C.createElement(dre,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),C.createElement(Rr,{zIndex:e.zIndex},C.createElement(Hae,Ha({},e,{id:i})))))}var rz=C.memo(jae,bx);rz.displayName="Bar";var $ae=["domain","range"],Kae=["domain","range"];function ck(t,e){if(t==null)return{};var n,r,i=Yae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fk(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function iz(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=ck(t,$ae),{domain:o,range:s}=e,u=ck(e,Kae);return!fk(n,o)||!fk(r,s)?!1:bx(i,u)}var Wae=["dangerouslySetInnerHTML","ticks","scale"],Jae=["id","scale"];function FT(){return FT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FT.apply(null,arguments)}function dk(t,e){if(t==null)return{};var n,r,i=Xae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qae(t){var e=Pt(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?e(Cre(t)):n.current!==t&&e(Ire({prev:n.current,next:t})),n.current=t},[t,e]),C.useLayoutEffect(()=>()=>{n.current&&(e(Pre(n.current)),n.current=null)},[e]),null}var Zae=t=>{var{xAxisId:e,className:n}=t,r=Ae(nA),i=Sr(),o="xAxis",s=Ae(I=>A3(I,o,e,i)),u=Ae(I=>S3(I,e)),c=Ae(I=>GX(I,e)),f=Ae(I=>n3(I,e));if(u==null||c==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p,scale:g}=t,v=dk(t,Wae),{id:T,scale:w}=f,A=dk(f,Jae);return C.createElement(Sx,FT({},v,A,{x:c.x,y:c.y,width:u.width,height:u.height,className:it("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:s,axisType:o}))},ese={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:Hn.allowDecimals,allowDuplicatedCategory:Hn.allowDuplicatedCategory,angle:Hn.angle,axisLine:Da.axisLine,height:Hn.height,hide:!1,includeHidden:Hn.includeHidden,interval:Hn.interval,minTickGap:Hn.minTickGap,mirror:Hn.mirror,orientation:Hn.orientation,padding:Hn.padding,reversed:Hn.reversed,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,tickLine:Da.tickLine,tickSize:Da.tickSize,type:Hn.type,xAxisId:0},tse=t=>{var e=Nn(t,ese);return C.createElement(C.Fragment,null,C.createElement(Qae,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),C.createElement(Zae,e))},oz=C.memo(tse,iz);oz.displayName="XAxis";var nse=["dangerouslySetInnerHTML","ticks","scale"],rse=["id","scale"];function zT(){return zT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zT.apply(null,arguments)}function hk(t,e){if(t==null)return{};var n,r,i=ise(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ise(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ose(t){var e=Pt(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?e(Rre(t)):n.current!==t&&e(Nre({prev:n.current,next:t})),n.current=t},[t,e]),C.useLayoutEffect(()=>()=>{n.current&&(e(Ore(n.current)),n.current=null)},[e]),null}var ase=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,o=C.useRef(null),s=C.useRef(null),u=Ae(nA),c=Sr(),f=Pt(),h="yAxis",p=Ae(L=>b3(L,e)),g=Ae(L=>$X(L,e)),v=Ae(L=>A3(L,h,e,c)),T=Ae(L=>r3(L,e));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!p||px(i)||C.isValidElement(i)||T==null)){var L=o.current;if(L){var N=L.getCalculatedWidth();Math.round(p.width)!==Math.round(N)&&f(Mre({id:e,width:N}))}}},[v,p,f,i,e,r,T]),p==null||g==null||T==null)return null;var{dangerouslySetInnerHTML:w,ticks:A,scale:I}=t,D=hk(t,nse),{id:k,scale:z}=T,G=hk(T,rse);return C.createElement(Sx,zT({},D,G,{ref:o,labelRef:s,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:it("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:v,axisType:h}))},sse={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:Gn.allowDecimals,allowDuplicatedCategory:Gn.allowDuplicatedCategory,angle:Gn.angle,axisLine:Da.axisLine,hide:!1,includeHidden:Gn.includeHidden,interval:Gn.interval,minTickGap:Gn.minTickGap,mirror:Gn.mirror,orientation:Gn.orientation,padding:Gn.padding,reversed:Gn.reversed,scale:Gn.scale,tick:Gn.tick,tickCount:Gn.tickCount,tickLine:Da.tickLine,tickSize:Da.tickSize,type:Gn.type,width:Gn.width,yAxisId:0},lse=t=>{var e=Nn(t,sse);return C.createElement(C.Fragment,null,C.createElement(ose,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),C.createElement(ase,e))},az=C.memo(lse,iz);az.displayName="YAxis";var use=(t,e)=>e,Tx=Z([use,ot,uf,Un,q3,es,oZ,Yn],dZ),wx=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},sz=Ri("mouseClick"),lz=Lh();lz.startListening({actionCreator:sz,effect:(t,e)=>{var n=t.payload,r=Tx(e.getState(),wx(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(iQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var qT=Ri("mouseMove"),uz=Lh(),tg=null;uz.startListening({actionCreator:qT,effect:(t,e)=>{var n=t.payload;tg!==null&&cancelAnimationFrame(tg);var r=wx(n);tg=requestAnimationFrame(()=>{var i=e.getState(),o=ix(i,i.tooltip.settings.shared);if(o==="axis"){var s=Tx(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(D3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(M3())}tg=null})}});function cse(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var pk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},cz=Kr({name:"rootProps",initialState:pk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:pk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),fse=cz.reducer,{updateOptions:dse}=cz.actions,fz=Kr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:hse}=fz.actions,pse=fz.reducer,dz=Ri("keyDown"),hz=Ri("focus"),Ax=Lh();Ax.startListening({actionCreator:dz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=ox(i,mf(n),Yh(n),Qh(n)),u=s==null?-1:Number(s);if(!(!Number.isFinite(u)||u<0)){var c=es(n);if(o==="Enter"){var f=Sy(n,"axis","hover",String(i.index));e.dispatch(OT({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=YX(n),p=h==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,v=u+g*p;if(!(c==null||v>=c.length||v<0)){var T=Sy(n,"axis","hover",String(v));e.dispatch(OT({active:!0,activeIndex:v.toString(),activeCoordinate:T}))}}}}}});Ax.startListening({actionCreator:hz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=Sy(n,"axis","hover",String(o));e.dispatch(OT({active:!0,activeIndex:o,activeCoordinate:s}))}}}});var Ai=Ri("externalEvent"),pz=Lh(),mb=new Map;pz.startListening({actionCreator:Ai,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=mb.get(i);o!==void 0&&cancelAnimationFrame(o);var s=requestAnimationFrame(()=>{try{var u=e.getState(),c={activeCoordinate:HQ(u),activeDataKey:$3(u),activeIndex:ru(u),activeLabel:j3(u),activeTooltipIndex:ru(u),isTooltipActive:GQ(u)};n(c,r)}finally{mb.delete(i)}});mb.set(i,s)}}});var mse=Z([hf],t=>t.tooltipItemPayloads),gse=Z([mse,Xh,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=e(o,n);return s}}}),mz=Ri("touchMove"),gz=Lh();gz.startListening({actionCreator:mz,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=ix(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var s=Tx(r,wx({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(D3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var u,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(N8),p=(u=f.getAttribute(O8))!==null&&u!==void 0?u:void 0,g=pf(r).find(w=>w.id===p);if(h==null||g==null||p==null)return;var{dataKey:v}=g,T=gse(r,h,p);e.dispatch(O3({activeDataKey:v,activeIndex:h,activeCoordinate:T,activeGraphicalItemId:p}))}}}});var yse=YV({brush:Cie,cartesianAxis:Dre,chartData:HZ,errorBars:woe,graphicalItems:cre,layout:d8,legend:b7,options:VZ,polarAxis:Jte,polarOptions:pse,referenceElements:Die,rootProps:fse,tooltip:oQ,zIndex:xZ}),vse=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return U$({reducer:yse,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([lz.middleware,uz.middleware,Ax.middleware,pz.middleware,gz.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(u4({type:"raf"}))},devTools:{serialize:{replacer:cse},name:"recharts-".concat(n)}})};function yz(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Sr(),o=C.useRef(null);if(i)return n;o.current==null&&(o.current=vse(e,r));var s=Ww;return C.createElement(Koe,{context:s,store:o.current},n)}function _se(t){var{layout:e,margin:n}=t,r=Pt(),i=Sr();return C.useEffect(()=>{i||(r(u8(e)),r(l8(n)))},[r,i,e,n]),null}var vz=C.memo(_se,bx);function _z(t){var e=Pt();return C.useEffect(()=>{e(dse(t))},[e,t]),null}function mk(t){var{zIndex:e,isPanorama:n}=t,r=C.useRef(null),i=Pt();return C.useLayoutEffect(()=>(r.current&&i(wZ({zIndex:e,element:r.current,isPanorama:n})),()=>{i(AZ({zIndex:e,isPanorama:n}))}),[i,e,n]),C.createElement("g",{tabIndex:-1,ref:r})}function gk(t){var{children:e,isPanorama:n}=t,r=Ae(pZ);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),o=r.filter(s=>s>0);return C.createElement(C.Fragment,null,i.map(s=>C.createElement(mk,{key:s,zIndex:s,isPanorama:n})),e,o.map(s=>C.createElement(mk,{key:s,zIndex:s,isPanorama:n})))}var Ese=["children"];function Sse(t,e){if(t==null)return{};var n,r,i=bse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ry(){return Ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ry.apply(null,arguments)}var Tse={width:"100%",height:"100%",display:"block"},wse=C.forwardRef((t,e)=>{var n=iA(),r=oA(),i=z4();if(!Xo(n)||!Xo(r))return null;var{children:o,otherAttributes:s,title:u,desc:c}=t,f,h;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),C.createElement(Lw,Ry({},s,{title:u,desc:c,role:h,tabIndex:f,width:n,height:r,style:Tse,ref:e}),o)}),Ase=t=>{var{children:e}=t,n=Ae(wv);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return C.createElement(Lw,{width:r,height:i,x:s,y:o},e)},yk=C.forwardRef((t,e)=>{var{children:n}=t,r=Sse(t,Ese),i=Sr();return i?C.createElement(Ase,null,C.createElement(gk,{isPanorama:!0},n)):C.createElement(wse,Ry({ref:e},r),C.createElement(gk,{isPanorama:!1},n))});function xse(){var t=Pt(),[e,n]=C.useState(null),r=Ae(R8);return C.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Zt(o)&&o!==r&&t(f8(o))}},[e,t,r]),n}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){Ise(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ise(t,e,n){return(e=Pse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pse(t){var e=Rse(t,"string");return typeof e=="symbol"?e:e+""}function Rse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},au.apply(null,arguments)}var Nse=()=>(QZ(),null);function Ny(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Ose=C.forwardRef((t,e)=>{var n,r,i=C.useRef(null),[o,s]=C.useState({containerWidth:Ny((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Ny((r=t.style)===null||r===void 0?void 0:r.height)}),u=C.useCallback((f,h)=>{s(p=>{var g=Math.round(f),v=Math.round(h);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),c=C.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();u(h,p);var g=T=>{var{width:w,height:A}=T[0].contentRect;u(w,A)},v=new ResizeObserver(g);v.observe(f),i.current=v}},[e,u]);return C.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),C.createElement(C.Fragment,null,C.createElement(xv,{width:o.containerWidth,height:o.containerHeight}),C.createElement("div",au({ref:c},t)))}),Mse=C.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=C.useState({containerWidth:Ny(n),containerHeight:Ny(r)}),s=C.useCallback((c,f)=>{o(h=>{var p=Math.round(c),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),u=C.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:f,height:h}=c.getBoundingClientRect();s(f,h)}},[e,s]);return C.createElement(C.Fragment,null,C.createElement(xv,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",au({ref:u},t)))}),Dse=C.forwardRef((t,e)=>{var{width:n,height:r}=t;return C.createElement(C.Fragment,null,C.createElement(xv,{width:n,height:r}),C.createElement("div",au({ref:e},t)))}),kse=C.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ua(n)||Ua(r)?C.createElement(Mse,au({},t,{ref:e})):C.createElement(Dse,au({},t,{ref:e}))});function Lse(t){return t===!0?Ose:kse}var Use=C.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:u,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:v,onTouchMove:T,onTouchStart:w,style:A,width:I,responsive:D,dispatchTouchEvents:k=!0}=t,z=C.useRef(null),G=Pt(),[L,N]=C.useState(null),[M,O]=C.useState(null),q=xse(),B=rA(),V=(B==null?void 0:B.width)>0?B.width:I,F=(B==null?void 0:B.height)>0?B.height:i,ue=C.useCallback(fe=>{q(fe),typeof e=="function"&&e(fe),N(fe),O(fe),fe!=null&&(z.current=fe)},[q,e,N,O]),ce=C.useCallback(fe=>{G(sz(fe)),G(Ai({handler:o,reactEvent:fe}))},[G,o]),X=C.useCallback(fe=>{G(qT(fe)),G(Ai({handler:f,reactEvent:fe}))},[G,f]),se=C.useCallback(fe=>{G(M3()),G(Ai({handler:h,reactEvent:fe}))},[G,h]),le=C.useCallback(fe=>{G(qT(fe)),G(Ai({handler:p,reactEvent:fe}))},[G,p]),ge=C.useCallback(()=>{G(hz())},[G]),$=C.useCallback(fe=>{G(dz(fe.key))},[G]),Y=C.useCallback(fe=>{G(Ai({handler:s,reactEvent:fe}))},[G,s]),re=C.useCallback(fe=>{G(Ai({handler:u,reactEvent:fe}))},[G,u]),j=C.useCallback(fe=>{G(Ai({handler:c,reactEvent:fe}))},[G,c]),_e=C.useCallback(fe=>{G(Ai({handler:g,reactEvent:fe}))},[G,g]),Pe=C.useCallback(fe=>{G(Ai({handler:w,reactEvent:fe}))},[G,w]),xe=C.useCallback(fe=>{k&&G(mz(fe)),G(Ai({handler:T,reactEvent:fe}))},[G,k,T]),Me=C.useCallback(fe=>{G(Ai({handler:v,reactEvent:fe}))},[G,v]),ut=Lse(D);return C.createElement(Z3.Provider,{value:L},C.createElement(hV.Provider,{value:M},C.createElement(ut,{width:V??(A==null?void 0:A.width),height:F??(A==null?void 0:A.height),className:it("recharts-wrapper",r),style:Cse({position:"relative",cursor:"default",width:V,height:F},A),onClick:ce,onContextMenu:Y,onDoubleClick:re,onFocus:ge,onKeyDown:$,onMouseDown:j,onMouseEnter:X,onMouseLeave:se,onMouseMove:le,onMouseUp:_e,onTouchEnd:Me,onTouchMove:xe,onTouchStart:Pe,ref:ue},C.createElement(Nse,null),n)))}),Vse=["width","height","responsive","children","className","style","compact","title","desc"];function Bse(t,e){if(t==null)return{};var n,r,i=Fse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ez=C.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:s,style:u,compact:c,title:f,desc:h}=t,p=Bse(t,Vse),g=mn(p);return c?C.createElement(C.Fragment,null,C.createElement(xv,{width:n,height:r}),C.createElement(yk,{otherAttributes:g,title:f,desc:h},o)):C.createElement(Use,{className:s,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(yk,{otherAttributes:g,title:f,desc:h,ref:e},C.createElement(Lie,null,o)))});function HT(){return HT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HT.apply(null,arguments)}var zse={top:5,right:5,bottom:5,left:5},qse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:zse,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Hse=C.forwardRef(function(e,n){var r,i=Nn(e.categoricalChartProps,qse),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:f}=e,h={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return C.createElement(yz,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:o},C.createElement($F,{chartData:f.data}),C.createElement(vz,{layout:i.layout,margin:i.margin}),C.createElement(_z,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(Ez,HT({},i,{ref:n})))}),Gse=["axis","item"],jse=C.forwardRef((t,e)=>C.createElement(Hse,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Gse,tooltipPayloadSearcher:eF,categoricalChartProps:t,ref:e}));function $se(t){var e=Pt();return C.useEffect(()=>{e(hse(t))},[e,t]),null}var Kse=["layout"];function GT(){return GT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GT.apply(null,arguments)}function Yse(t,e){if(t==null)return{};var n,r,i=Wse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Jse={top:5,right:5,bottom:5,left:5},Sz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jse,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Xse=C.forwardRef(function(e,n){var r,i=Nn(e.categoricalChartProps,Sz),{layout:o}=i,s=Yse(i,Kse),{chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,p={chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return C.createElement(yz,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},C.createElement($F,{chartData:i.data}),C.createElement(vz,{layout:o,margin:i.margin}),C.createElement(_z,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement($se,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),C.createElement(Ez,GT({},s,{ref:n})))});function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(r){Qse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qse(t,e,n){return(e=Zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=ele(t,"string");return typeof e=="symbol"?e:e+""}function ele(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tle=["axis"],nle=Ek(Ek({},Sz),{},{layout:"centric",startAngle:90,endAngle:-270}),rle=C.forwardRef((t,e)=>{var n=Nn(t,nle);return C.createElement(Xse,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tle,tooltipPayloadSearcher:eF,categoricalChartProps:n,ref:e})});const ile=()=>{const t=Object.values(Be).filter(n=>n!==Be.HUMAN).map(n=>{const r=fR[n];return r?{agent:n.charAt(0).toUpperCase()+n.slice(1),"Task Completion":r.taskCompletion*100,"Governance Adherence":r.governanceAdherence*100,"Response Accuracy":r.responseAccuracy*100}:null}).filter(Boolean),e=Object.values(Be).filter(n=>n!==Be.HUMAN).map(n=>{const r=fR[n];return r?{agent:n.charAt(0).toUpperCase()+n.slice(1),"Intervention Count":r.interventionCount}:null}).filter(Boolean);return K.jsxs("div",{className:"card-style p-6 max-w-4xl mx-auto my-8 space-y-8",children:[K.jsx("h2",{className:"section-prefix text-3xl font-bold text-rpr-white text-center mb-6",children:"Agent Performance Dashboard"}),K.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-center justify-center",children:[K.jsxs("div",{className:"w-full lg:w-1/2 h-80 bg-rpr-slate rounded-lg p-4 shadow-inner",children:[K.jsx("h3",{className:"section-prefix text-xl font-semibold text-rpr-white mb-4 text-center",children:"Core Metrics (%)"}),K.jsx(KN,{width:"100%",height:"100%",children:K.jsxs(rle,{outerRadius:90,data:t,children:[K.jsx(IF,{stroke:"var(--rpr-charcoal)"}),K.jsx(OF,{dataKey:"agent",stroke:"var(--rpr-white)"}),K.jsx(NF,{angle:90,domain:[0,100],stroke:"var(--rpr-white)"}),K.jsx(Tg,{name:"Task Completion",dataKey:"Task Completion",stroke:"var(--rpr-cyan)",fill:"var(--rpr-cyan)",fillOpacity:.6}),K.jsx(Tg,{name:"Governance Adherence",dataKey:"Governance Adherence",stroke:"#f05b4a",fill:"#f05b4a",fillOpacity:.6})," ",K.jsx(Tg,{name:"Response Accuracy",dataKey:"Response Accuracy",stroke:"var(--rpr-teal)",fill:"var(--rpr-teal)",fillOpacity:.6}),K.jsx(pT,{wrapperStyle:{color:"var(--rpr-white)"}}),K.jsx(XM,{cursor:{strokeDasharray:"3 3"},wrapperClassName:"text-sm bg-rpr-charcoal text-rpr-white p-2 rounded border border-rpr-slate"})]})})]}),K.jsxs("div",{className:"w-full lg:w-1/2 h-80 bg-rpr-slate rounded-lg p-4 shadow-inner",children:[K.jsx("h3",{className:"section-prefix text-xl font-semibold text-rpr-white mb-4 text-center",children:"Founder Intervention Count"}),K.jsx(KN,{width:"100%",height:"100%",children:K.jsxs(jse,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[K.jsx(XF,{strokeDasharray:"3 3",stroke:"var(--rpr-charcoal)"}),K.jsx(oz,{dataKey:"agent",stroke:"var(--rpr-white)"}),K.jsx(az,{allowDecimals:!1,stroke:"var(--rpr-white)"}),K.jsx(XM,{cursor:{fill:"transparent"},wrapperClassName:"text-sm bg-rpr-charcoal text-rpr-white p-2 rounded border border-rpr-slate"}),K.jsx(pT,{wrapperStyle:{color:"var(--rpr-white)"}}),K.jsx(rz,{dataKey:"Intervention Count",fill:"var(--rpr-cyan)"})]})})]})]}),K.jsx("div",{className:"text-center mt-8",children:K.jsx("p",{className:"text-gray-400 text-sm",children:"Metrics are normalized to 0-100% for visualization. Intervention Count reflects instances where human guidance was required."})})]})};function ole(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ale=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,sle=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lle={};function Sk(t,e){return(lle.jsx?sle:ale).test(t)}const ule=/[ \t\n\f\r]/g;function cle(t){return typeof t=="object"?t.type==="text"?bk(t.value):!1:bk(t)}function bk(t){return t.replace(ule,"")===""}class np{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}np.prototype.normal={};np.prototype.property={};np.prototype.space=void 0;function bz(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new np(n,r,e)}function jT(t){return t.toLowerCase()}class Yr{constructor(e,n){this.attribute=n,this.property=e}}Yr.prototype.attribute="";Yr.prototype.booleanish=!1;Yr.prototype.boolean=!1;Yr.prototype.commaOrSpaceSeparated=!1;Yr.prototype.commaSeparated=!1;Yr.prototype.defined=!1;Yr.prototype.mustUseProperty=!1;Yr.prototype.number=!1;Yr.prototype.overloadedBoolean=!1;Yr.prototype.property="";Yr.prototype.spaceSeparated=!1;Yr.prototype.space=void 0;let fle=0;const Ye=vu(),xn=vu(),$T=vu(),Se=vu(),Mt=vu(),Pc=vu(),ii=vu();function vu(){return 2**++fle}const KT=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ye,booleanish:xn,commaOrSpaceSeparated:ii,commaSeparated:Pc,number:Se,overloadedBoolean:$T,spaceSeparated:Mt},Symbol.toStringTag,{value:"Module"})),gb=Object.keys(KT);class xx extends Yr{constructor(e,n,r,i){let o=-1;if(super(e,n),Tk(this,"space",i),typeof r=="number")for(;++o<gb.length;){const s=gb[o];Tk(this,gb[o],(r&KT[s])===KT[s])}}}xx.prototype.defined=!0;function Tk(t,e,n){n&&(t[e]=n)}function vf(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new xx(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[jT(r)]=r,n[jT(o.attribute)]=r}return new np(e,n,t.space)}const Tz=vf({properties:{ariaActiveDescendant:null,ariaAtomic:xn,ariaAutoComplete:null,ariaBusy:xn,ariaChecked:xn,ariaColCount:Se,ariaColIndex:Se,ariaColSpan:Se,ariaControls:Mt,ariaCurrent:null,ariaDescribedBy:Mt,ariaDetails:null,ariaDisabled:xn,ariaDropEffect:Mt,ariaErrorMessage:null,ariaExpanded:xn,ariaFlowTo:Mt,ariaGrabbed:xn,ariaHasPopup:null,ariaHidden:xn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Mt,ariaLevel:Se,ariaLive:null,ariaModal:xn,ariaMultiLine:xn,ariaMultiSelectable:xn,ariaOrientation:null,ariaOwns:Mt,ariaPlaceholder:null,ariaPosInSet:Se,ariaPressed:xn,ariaReadOnly:xn,ariaRelevant:null,ariaRequired:xn,ariaRoleDescription:Mt,ariaRowCount:Se,ariaRowIndex:Se,ariaRowSpan:Se,ariaSelected:xn,ariaSetSize:Se,ariaSort:null,ariaValueMax:Se,ariaValueMin:Se,ariaValueNow:Se,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function wz(t,e){return e in t?t[e]:e}function Az(t,e){return wz(t,e.toLowerCase())}const dle=vf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Pc,acceptCharset:Mt,accessKey:Mt,action:null,allow:null,allowFullScreen:Ye,allowPaymentRequest:Ye,allowUserMedia:Ye,alt:null,as:null,async:Ye,autoCapitalize:null,autoComplete:Mt,autoFocus:Ye,autoPlay:Ye,blocking:Mt,capture:null,charSet:null,checked:Ye,cite:null,className:Mt,cols:Se,colSpan:null,content:null,contentEditable:xn,controls:Ye,controlsList:Mt,coords:Se|Pc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ye,defer:Ye,dir:null,dirName:null,disabled:Ye,download:$T,draggable:xn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ye,formTarget:null,headers:Mt,height:Se,hidden:$T,high:Se,href:null,hrefLang:null,htmlFor:Mt,httpEquiv:Mt,id:null,imageSizes:null,imageSrcSet:null,inert:Ye,inputMode:null,integrity:null,is:null,isMap:Ye,itemId:null,itemProp:Mt,itemRef:Mt,itemScope:Ye,itemType:Mt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ye,low:Se,manifest:null,max:null,maxLength:Se,media:null,method:null,min:null,minLength:Se,multiple:Ye,muted:Ye,name:null,nonce:null,noModule:Ye,noValidate:Ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ye,optimum:Se,pattern:null,ping:Mt,placeholder:null,playsInline:Ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ye,referrerPolicy:null,rel:Mt,required:Ye,reversed:Ye,rows:Se,rowSpan:Se,sandbox:Mt,scope:null,scoped:Ye,seamless:Ye,selected:Ye,shadowRootClonable:Ye,shadowRootDelegatesFocus:Ye,shadowRootMode:null,shape:null,size:Se,sizes:null,slot:null,span:Se,spellCheck:xn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Se,step:null,style:null,tabIndex:Se,target:null,title:null,translate:null,type:null,typeMustMatch:Ye,useMap:null,value:xn,width:Se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Mt,axis:null,background:null,bgColor:null,border:Se,borderColor:null,bottomMargin:Se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ye,declare:Ye,event:null,face:null,frame:null,frameBorder:null,hSpace:Se,leftMargin:Se,link:null,longDesc:null,lowSrc:null,marginHeight:Se,marginWidth:Se,noResize:Ye,noHref:Ye,noShade:Ye,noWrap:Ye,object:null,profile:null,prompt:null,rev:null,rightMargin:Se,rules:null,scheme:null,scrolling:xn,standby:null,summary:null,text:null,topMargin:Se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ye,disableRemotePlayback:Ye,prefix:null,property:null,results:Se,security:null,unselectable:null},space:"html",transform:Az}),hle=vf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ii,accentHeight:Se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Se,amplitude:Se,arabicForm:null,ascent:Se,attributeName:null,attributeType:null,azimuth:Se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Se,by:null,calcMode:null,capHeight:Se,className:Mt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Se,diffuseConstant:Se,direction:null,display:null,dur:null,divisor:Se,dominantBaseline:null,download:Ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:Se,enableBackground:null,end:null,event:null,exponent:Se,externalResourcesRequired:null,fill:null,fillOpacity:Se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Pc,g2:Pc,glyphName:Pc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Se,horizOriginX:Se,horizOriginY:Se,id:null,ideographic:Se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Se,k:Se,k1:Se,k2:Se,k3:Se,k4:Se,kernelMatrix:ii,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Se,overlineThickness:Se,paintOrder:null,panose1:null,path:null,pathLength:Se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Mt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Se,pointsAtY:Se,pointsAtZ:Se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ii,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ii,rev:ii,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ii,requiredFeatures:ii,requiredFonts:ii,requiredFormats:ii,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Se,specularExponent:Se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Se,strikethroughThickness:Se,string:null,stroke:null,strokeDashArray:ii,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Se,strokeOpacity:Se,strokeWidth:null,style:null,surfaceScale:Se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ii,tabIndex:Se,tableValues:null,target:null,targetX:Se,targetY:Se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ii,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Se,underlineThickness:Se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Se,values:null,vAlphabetic:Se,vMathematical:Se,vectorEffect:null,vHanging:Se,vIdeographic:Se,version:null,vertAdvY:Se,vertOriginX:Se,vertOriginY:Se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:wz}),xz=vf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Cz=vf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Az}),Iz=vf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),ple={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},mle=/[A-Z]/g,wk=/-[a-z]/g,gle=/^data[-\w.:]+$/i;function yle(t,e){const n=jT(e);let r=e,i=Yr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&gle.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(wk,_le);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!wk.test(o)){let s=o.replace(mle,vle);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=xx}return new i(r,e)}function vle(t){return"-"+t.toLowerCase()}function _le(t){return t.charAt(1).toUpperCase()}const Ele=bz([Tz,dle,xz,Cz,Iz],"html"),Cx=bz([Tz,hle,xz,Cz,Iz],"svg");function Sle(t){return t.join(" ").trim()}var pc={},yb,Ak;function ble(){if(Ak)return yb;Ak=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,f="/",h="*",p="",g="comment",v="declaration";function T(A,I){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];I=I||{};var D=1,k=1;function z(ue){var ce=ue.match(e);ce&&(D+=ce.length);var X=ue.lastIndexOf(c);k=~X?ue.length-X:k+ue.length}function G(){var ue={line:D,column:k};return function(ce){return ce.position=new L(ue),O(),ce}}function L(ue){this.start=ue,this.end={line:D,column:k},this.source=I.source}L.prototype.content=A;function N(ue){var ce=new Error(I.source+":"+D+":"+k+": "+ue);if(ce.reason=ue,ce.filename=I.source,ce.line=D,ce.column=k,ce.source=A,!I.silent)throw ce}function M(ue){var ce=ue.exec(A);if(ce){var X=ce[0];return z(X),A=A.slice(X.length),ce}}function O(){M(n)}function q(ue){var ce;for(ue=ue||[];ce=B();)ce!==!1&&ue.push(ce);return ue}function B(){var ue=G();if(!(f!=A.charAt(0)||h!=A.charAt(1))){for(var ce=2;p!=A.charAt(ce)&&(h!=A.charAt(ce)||f!=A.charAt(ce+1));)++ce;if(ce+=2,p===A.charAt(ce-1))return N("End of comment missing");var X=A.slice(2,ce-2);return k+=2,z(X),A=A.slice(ce),k+=2,ue({type:g,comment:X})}}function V(){var ue=G(),ce=M(r);if(ce){if(B(),!M(i))return N("property missing ':'");var X=M(o),se=ue({type:v,property:w(ce[0].replace(t,p)),value:X?w(X[0].replace(t,p)):p});return M(s),se}}function F(){var ue=[];q(ue);for(var ce;ce=V();)ce!==!1&&(ue.push(ce),q(ue));return ue}return O(),F()}function w(A){return A?A.replace(u,p):p}return yb=T,yb}var xk;function Tle(){if(xk)return pc;xk=1;var t=pc&&pc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pc,"__esModule",{value:!0}),pc.default=n;const e=t(ble());function n(r,i){let o=null;if(!r||typeof r!="string")return o;const s=(0,e.default)(r),u=typeof i=="function";return s.forEach(c=>{if(c.type!=="declaration")return;const{property:f,value:h}=c;u?i(f,h,c):h&&(o=o||{},o[f]=h)}),o}return pc}var Ld={},Ck;function wle(){if(Ck)return Ld;Ck=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(f){return!f||n.test(f)||t.test(f)},s=function(f,h){return h.toUpperCase()},u=function(f,h){return"".concat(h,"-")},c=function(f,h){return h===void 0&&(h={}),o(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(i,u):f=f.replace(r,u),f.replace(e,s))};return Ld.camelCase=c,Ld}var Ud,Ik;function Ale(){if(Ik)return Ud;Ik=1;var t=Ud&&Ud.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Tle()),n=wle();function r(i,o){var s={};return!i||typeof i!="string"||(0,e.default)(i,function(u,c){u&&c&&(s[(0,n.camelCase)(u,o)]=c)}),s}return r.default=r,Ud=r,Ud}var xle=Ale();const Cle=$r(xle),Pz=Rz("end"),Ix=Rz("start");function Rz(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Ile(t){const e=Ix(t),n=Pz(t);if(e&&n)return{start:e,end:n}}function Jd(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Pk(t.position):"start"in t||"end"in t?Pk(t):"line"in t||"column"in t?YT(t):""}function YT(t){return Rk(t&&t.line)+":"+Rk(t&&t.column)}function Pk(t){return YT(t&&t.start)+"-"+YT(t&&t.end)}function Rk(t){return t&&typeof t=="number"?t:1}class br extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(s=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?o.ruleId=r:(o.source=r.slice(0,c),o.ruleId=r.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Jd(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}br.prototype.file="";br.prototype.name="";br.prototype.reason="";br.prototype.message="";br.prototype.stack="";br.prototype.column=void 0;br.prototype.line=void 0;br.prototype.ancestors=void 0;br.prototype.cause=void 0;br.prototype.fatal=void 0;br.prototype.place=void 0;br.prototype.ruleId=void 0;br.prototype.source=void 0;const Px={}.hasOwnProperty,Ple=new Map,Rle=/[A-Z]/g,Nle=new Set(["table","tbody","thead","tfoot","tr"]),Ole=new Set(["td","th"]),Nz="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Mle(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=zle(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Fle(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Cx:Ele,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=Oz(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function Oz(t,e,n){if(e.type==="element")return Dle(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return kle(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Ule(t,e,n);if(e.type==="mdxjsEsm")return Lle(t,e);if(e.type==="root")return Vle(t,e,n);if(e.type==="text")return Ble(t,e)}function Dle(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Cx,t.schema=i),t.ancestors.push(e);const o=Dz(t,e.tagName,!1),s=qle(t,e);let u=Nx(t,e);return Nle.has(e.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!cle(c):!0})),Mz(t,s,o,e),Rx(s,u),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function kle(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}wh(t,e.position)}function Lle(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);wh(t,e.position)}function Ule(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Cx,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:Dz(t,e.name,!0),s=Hle(t,e),u=Nx(t,e);return Mz(t,s,o,e),Rx(s,u),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function Vle(t,e,n){const r={};return Rx(r,Nx(t,e)),t.create(e,t.Fragment,r,n)}function Ble(t,e){return e.value}function Mz(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Rx(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Fle(t,e,n){return r;function r(i,o,s,u){const f=Array.isArray(s.children)?n:e;return u?f(o,s,u):f(o,s)}}function zle(t,e){return n;function n(r,i,o,s){const u=Array.isArray(o.children),c=Ix(r);return e(i,o,s,u,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function qle(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Px.call(e.properties,i)){const o=Gle(t,i,e.properties[i]);if(o){const[s,u]=o;t.tableCellAlignToStyle&&s==="align"&&typeof u=="string"&&Ole.has(e.tagName)?r=u:n[s]=u}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Hle(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const u=s.properties[0];u.type,Object.assign(n,t.evaluater.evaluateExpression(u.argument))}else wh(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const u=r.value.data.estree.body[0];u.type,o=t.evaluater.evaluateExpression(u.expression)}else wh(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Nx(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Ple;for(;++r<e.children.length;){const o=e.children[r];let s;if(t.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const f=i.get(c)||0;s=c+"-"+f,i.set(c,f+1)}}const u=Oz(t,o,s);u!==void 0&&n.push(u)}return n}function Gle(t,e,n){const r=yle(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ole(n):Sle(n)),r.property==="style"){let i=typeof n=="object"?n:jle(t,String(n));return t.stylePropertyNameCase==="css"&&(i=$le(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?ple[r.property]||r.property:r.attribute,n]}}function jle(t,e){try{return Cle(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new br("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=Nz+"#cannot-parse-style-attribute",i}}function Dz(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,s;for(;++o<i.length;){const u=Sk(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=s}else r=Sk(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Px.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);wh(t)}function wh(t,e){const n=new br("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Nz+"#cannot-handle-mdx-estrees-without-createevaluater",n}function $le(t){const e={};let n;for(n in t)Px.call(t,n)&&(e[Kle(n)]=t[n]);return e}function Kle(t){let e=t.replace(Rle,Yle);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Yle(t){return"-"+t.toLowerCase()}const vb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Wle={};function Jle(t,e){const n=Wle,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return kz(t,r,i)}function kz(t,e,n){if(Xle(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Nk(t.children,e,n)}return Array.isArray(t)?Nk(t,e,n):""}function Nk(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=kz(t[i],e,n);return r.join("")}function Xle(t){return!!(t&&typeof t=="object")}const Ok=document.createElement("i");function Ox(t){const e="&"+t+";";Ok.innerHTML=e;const n=Ok.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Zo(t,e,n,r){const i=t.length;let o=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(e,0),t.splice(...s),o+=1e4,e+=1e4}function Ci(t,e){return t.length>0?(Zo(t,t.length,0,e),t):e}const Mk={}.hasOwnProperty;function Qle(t){const e={};let n=-1;for(;++n<t.length;)Zle(e,t[n]);return e}function Zle(t,e){let n;for(n in e){const i=(Mk.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;if(o)for(s in o){Mk.call(i,s)||(i[s]=[]);const u=o[s];eue(i[s],Array.isArray(u)?u:u?[u]:[])}}}function eue(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Zo(t,0,0,r)}function Lz(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Rc(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ho=ol(/[A-Za-z]/),si=ol(/[\dA-Za-z]/),tue=ol(/[#-'*+\--9=?A-Z^-~]/);function WT(t){return t!==null&&(t<32||t===127)}const JT=ol(/\d/),nue=ol(/[\dA-Fa-f]/),rue=ol(/[!-/:-@[-`{-~]/);function Fe(t){return t!==null&&t<-2}function Gr(t){return t!==null&&(t<0||t===32)}function yt(t){return t===-2||t===-1||t===32}const iue=ol(new RegExp("\\p{P}|\\p{S}","u")),oue=ol(/\s/);function ol(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function _f(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let s="";if(o===37&&si(t.charCodeAt(n+1))&&si(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const u=t.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(s=String.fromCharCode(o,u),i=1):s=""}else s=String.fromCharCode(o);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function kt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(c){return yt(c)?(t.enter(n),u(c)):e(c)}function u(c){return yt(c)&&o++<i?(t.consume(c),u):(t.exit(n),e(c))}}const aue={tokenize:sue};function sue(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),kt(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),o(u)}function o(u){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,s(u)}function s(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return Fe(u)?(t.consume(u),t.exit("chunkText"),o):(t.consume(u),s)}}const lue={tokenize:uue},Dk={tokenize:cue};function uue(t){const e=this,n=[];let r=0,i,o,s;return u;function u(k){if(r<n.length){const z=n[r];return e.containerState=z[1],t.attempt(z[0].continuation,c,f)(k)}return f(k)}function c(k){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&D();const z=e.events.length;let G=z,L;for(;G--;)if(e.events[G][0]==="exit"&&e.events[G][1].type==="chunkFlow"){L=e.events[G][1].end;break}I(r);let N=z;for(;N<e.events.length;)e.events[N][1].end={...L},N++;return Zo(e.events,G+1,0,e.events.slice(z)),e.events.length=N,f(k)}return u(k)}function f(k){if(r===n.length){if(!i)return g(k);if(i.currentConstruct&&i.currentConstruct.concrete)return T(k);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Dk,h,p)(k)}function h(k){return i&&D(),I(r),g(k)}function p(k){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,T(k)}function g(k){return e.containerState={},t.attempt(Dk,v,T)(k)}function v(k){return r++,n.push([e.currentConstruct,e.containerState]),g(k)}function T(k){if(k===null){i&&D(),I(0),t.consume(k);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),w(k)}function w(k){if(k===null){A(t.exit("chunkFlow"),!0),I(0),t.consume(k);return}return Fe(k)?(t.consume(k),A(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(k),w)}function A(k,z){const G=e.sliceStream(k);if(z&&G.push(null),k.previous=o,o&&(o.next=k),o=k,i.defineSkip(k.start),i.write(G),e.parser.lazy[k.start.line]){let L=i.events.length;for(;L--;)if(i.events[L][1].start.offset<s&&(!i.events[L][1].end||i.events[L][1].end.offset>s))return;const N=e.events.length;let M=N,O,q;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){if(O){q=e.events[M][1].end;break}O=!0}for(I(r),L=N;L<e.events.length;)e.events[L][1].end={...q},L++;Zo(e.events,M+1,0,e.events.slice(N)),e.events.length=L}}function I(k){let z=n.length;for(;z-- >k;){const G=n[z];e.containerState=G[1],G[0].exit.call(e,t)}n.length=k}function D(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function cue(t,e,n){return kt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function kk(t){if(t===null||Gr(t)||oue(t))return 1;if(iue(t))return 2}function Mx(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const XT={name:"attention",resolveAll:fue,tokenize:due};function fue(t,e){let n=-1,r,i,o,s,u,c,f,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[r][1].end},g={...t[n][1].start};Lk(p,-c),Lk(g,c),s={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},o={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...s.start},end:{...u.end}},t[r][1].end={...s.start},t[n][1].start={...u.end},f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=Ci(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=Ci(f,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",o,e]]),f=Ci(f,Mx(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=Ci(f,[["exit",o,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,f=Ci(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Zo(t,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function due(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=kk(r);let o;return s;function s(c){return o=c,t.enter("attentionSequence"),u(c)}function u(c){if(c===o)return t.consume(c),u;const f=t.exit("attentionSequence"),h=kk(c),p=!h||h===2&&i||n.includes(c),g=!i||i===2&&h||n.includes(r);return f._open=!!(o===42?p:p&&(i||!g)),f._close=!!(o===42?g:g&&(h||!p)),e(c)}}function Lk(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const hue={name:"autolink",tokenize:pue};function pue(t,e,n){let r=0;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(v){return Ho(v)?(t.consume(v),s):v===64?n(v):f(v)}function s(v){return v===43||v===45||v===46||si(v)?(r=1,u(v)):f(v)}function u(v){return v===58?(t.consume(v),r=0,c):(v===43||v===45||v===46||si(v))&&r++<32?(t.consume(v),u):(r=0,f(v))}function c(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):v===null||v===32||v===60||WT(v)?n(v):(t.consume(v),c)}function f(v){return v===64?(t.consume(v),h):tue(v)?(t.consume(v),f):n(v)}function h(v){return si(v)?p(v):n(v)}function p(v){return v===46?(t.consume(v),r=0,h):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):g(v)}function g(v){if((v===45||si(v))&&r++<63){const T=v===45?g:p;return t.consume(v),T}return n(v)}}const Zv={partial:!0,tokenize:mue};function mue(t,e,n){return r;function r(o){return yt(o)?kt(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||Fe(o)?e(o):n(o)}}const Uz={continuation:{tokenize:yue},exit:vue,name:"blockQuote",tokenize:gue};function gue(t,e,n){const r=this;return i;function i(s){if(s===62){const u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return yt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function yue(t,e,n){const r=this;return i;function i(s){return yt(s)?kt(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return t.attempt(Uz,e,n)(s)}}function vue(t){t.exit("blockQuote")}const Vz={name:"characterEscape",tokenize:_ue};function _ue(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return rue(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const Bz={name:"characterReference",tokenize:Eue};function Eue(t,e,n){const r=this;let i=0,o,s;return u;function u(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),c}function c(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),o=31,s=si,h(p))}function f(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=nue,h):(t.enter("characterReferenceValue"),o=7,s=JT,h(p))}function h(p){if(p===59&&i){const g=t.exit("characterReferenceValue");return s===si&&!Ox(r.sliceSerialize(g))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(p)&&i++<o?(t.consume(p),h):n(p)}}const Uk={partial:!0,tokenize:bue},Vk={concrete:!0,name:"codeFenced",tokenize:Sue};function Sue(t,e,n){const r=this,i={partial:!0,tokenize:G};let o=0,s=0,u;return c;function c(L){return f(L)}function f(L){const N=r.events[r.events.length-1];return o=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,u=L,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(L)}function h(L){return L===u?(s++,t.consume(L),h):s<3?n(L):(t.exit("codeFencedFenceSequence"),yt(L)?kt(t,p,"whitespace")(L):p(L))}function p(L){return L===null||Fe(L)?(t.exit("codeFencedFence"),r.interrupt?e(L):t.check(Uk,w,z)(L)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(L))}function g(L){return L===null||Fe(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(L)):yt(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),kt(t,v,"whitespace")(L)):L===96&&L===u?n(L):(t.consume(L),g)}function v(L){return L===null||Fe(L)?p(L):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),T(L))}function T(L){return L===null||Fe(L)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(L)):L===96&&L===u?n(L):(t.consume(L),T)}function w(L){return t.attempt(i,z,A)(L)}function A(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),I}function I(L){return o>0&&yt(L)?kt(t,D,"linePrefix",o+1)(L):D(L)}function D(L){return L===null||Fe(L)?t.check(Uk,w,z)(L):(t.enter("codeFlowValue"),k(L))}function k(L){return L===null||Fe(L)?(t.exit("codeFlowValue"),D(L)):(t.consume(L),k)}function z(L){return t.exit("codeFenced"),e(L)}function G(L,N,M){let O=0;return q;function q(ce){return L.enter("lineEnding"),L.consume(ce),L.exit("lineEnding"),B}function B(ce){return L.enter("codeFencedFence"),yt(ce)?kt(L,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):V(ce)}function V(ce){return ce===u?(L.enter("codeFencedFenceSequence"),F(ce)):M(ce)}function F(ce){return ce===u?(O++,L.consume(ce),F):O>=s?(L.exit("codeFencedFenceSequence"),yt(ce)?kt(L,ue,"whitespace")(ce):ue(ce)):M(ce)}function ue(ce){return ce===null||Fe(ce)?(L.exit("codeFencedFence"),N(ce)):M(ce)}}}function bue(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const _b={name:"codeIndented",tokenize:wue},Tue={partial:!0,tokenize:Aue};function wue(t,e,n){const r=this;return i;function i(f){return t.enter("codeIndented"),kt(t,o,"linePrefix",5)(f)}function o(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(f):n(f)}function s(f){return f===null?c(f):Fe(f)?t.attempt(Tue,s,c)(f):(t.enter("codeFlowValue"),u(f))}function u(f){return f===null||Fe(f)?(t.exit("codeFlowValue"),s(f)):(t.consume(f),u)}function c(f){return t.exit("codeIndented"),e(f)}}function Aue(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Fe(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):kt(t,o,"linePrefix",5)(s)}function o(s){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(s):Fe(s)?i(s):n(s)}}const xue={name:"codeText",previous:Iue,resolve:Cue,tokenize:Pue};function Cue(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Iue(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Pue(t,e,n){let r=0,i,o;return s;function s(p){return t.enter("codeText"),t.enter("codeTextSequence"),u(p)}function u(p){return p===96?(t.consume(p),r++,u):(t.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),c):p===96?(o=t.enter("codeTextSequence"),i=0,h(p)):Fe(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||Fe(p)?(t.exit("codeTextData"),c(p)):(t.consume(p),f)}function h(p){return p===96?(t.consume(p),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(o.type="codeTextData",f(p))}}class Rue{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Vd(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Vd(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Vd(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Vd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Vd(this.left,n.reverse())}}}function Vd(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Fz(t){const e={};let n=-1,r,i,o,s,u,c,f;const h=new Rue(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Nue(h,n)),n=e[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=h.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},u=h.slice(i,n),u.unshift(r),h.splice(i,n-i+1,u))}}return Zo(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function Nue(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const u=s.events,c=[],f={};let h,p,g=-1,v=n,T=0,w=0;const A=[w];for(;v;){for(;t.get(++i)[1]!==v;);o.push(i),v._tokenizer||(h=r.sliceStream(v),v.next||h.push(null),p&&s.defineSkip(v.start),v._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),v._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=n;++g<u.length;)u[g][0]==="exit"&&u[g-1][0]==="enter"&&u[g][1].type===u[g-1][1].type&&u[g][1].start.line!==u[g][1].end.line&&(w=g+1,A.push(w),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(s.events=[],v?(v._tokenizer=void 0,v.previous=void 0):A.pop(),g=A.length;g--;){const I=u.slice(A[g],A[g+1]),D=o.pop();c.push([D,D+I.length-1]),t.splice(D,2,I)}for(c.reverse(),g=-1;++g<c.length;)f[T+c[g][0]]=T+c[g][1],T+=c[g][1]-c[g][0]-1;return f}const Oue={resolve:Due,tokenize:kue},Mue={partial:!0,tokenize:Lue};function Due(t){return Fz(t),t}function kue(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):Fe(u)?t.check(Mue,s,o)(u):(t.consume(u),i)}function o(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function s(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Lue(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),kt(t,o,"linePrefix")}function o(s){if(s===null||Fe(s))return n(s);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function zz(t,e,n,r,i,o,s,u,c){const f=c||Number.POSITIVE_INFINITY;let h=0;return p;function p(I){return I===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(I),t.exit(o),g):I===null||I===32||I===41||WT(I)?n(I):(t.enter(r),t.enter(s),t.enter(u),t.enter("chunkString",{contentType:"string"}),w(I))}function g(I){return I===62?(t.enter(o),t.consume(I),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),v(I))}function v(I){return I===62?(t.exit("chunkString"),t.exit(u),g(I)):I===null||I===60||Fe(I)?n(I):(t.consume(I),I===92?T:v)}function T(I){return I===60||I===62||I===92?(t.consume(I),v):v(I)}function w(I){return!h&&(I===null||I===41||Gr(I))?(t.exit("chunkString"),t.exit(u),t.exit(s),t.exit(r),e(I)):h<f&&I===40?(t.consume(I),h++,w):I===41?(t.consume(I),h--,w):I===null||I===32||I===40||WT(I)?n(I):(t.consume(I),I===92?A:w)}function A(I){return I===40||I===41||I===92?(t.consume(I),w):w(I)}}function qz(t,e,n,r,i,o){const s=this;let u=0,c;return f;function f(v){return t.enter(r),t.enter(i),t.consume(v),t.exit(i),t.enter(o),h}function h(v){return u>999||v===null||v===91||v===93&&!c||v===94&&!u&&"_hiddenFootnoteSupport"in s.parser.constructs?n(v):v===93?(t.exit(o),t.enter(i),t.consume(v),t.exit(i),t.exit(r),e):Fe(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||Fe(v)||u++>999?(t.exit("chunkString"),h(v)):(t.consume(v),c||(c=!yt(v)),v===92?g:p)}function g(v){return v===91||v===92||v===93?(t.consume(v),u++,p):p(v)}}function Hz(t,e,n,r,i,o){let s;return u;function u(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),s=g===40?41:g,c):n(g)}function c(g){return g===s?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(o),f(g))}function f(g){return g===s?(t.exit(o),c(s)):g===null?n(g):Fe(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),kt(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===s||g===null||Fe(g)?(t.exit("chunkString"),f(g)):(t.consume(g),g===92?p:h)}function p(g){return g===s||g===92?(t.consume(g),h):h(g)}}function Xd(t,e){let n;return r;function r(i){return Fe(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):yt(i)?kt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Uue={name:"definition",tokenize:Bue},Vue={partial:!0,tokenize:Fue};function Bue(t,e,n){const r=this;let i;return o;function o(v){return t.enter("definition"),s(v)}function s(v){return qz.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function u(v){return i=Rc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),c):n(v)}function c(v){return Gr(v)?Xd(t,f)(v):f(v)}function f(v){return zz(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function h(v){return t.attempt(Vue,p,p)(v)}function p(v){return yt(v)?kt(t,g,"whitespace")(v):g(v)}function g(v){return v===null||Fe(v)?(t.exit("definition"),r.parser.defined.push(i),e(v)):n(v)}}function Fue(t,e,n){return r;function r(u){return Gr(u)?Xd(t,i)(u):n(u)}function i(u){return Hz(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return yt(u)?kt(t,s,"whitespace")(u):s(u)}function s(u){return u===null||Fe(u)?e(u):n(u)}}const zue={name:"hardBreakEscape",tokenize:que};function que(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return Fe(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const Hue={name:"headingAtx",resolve:Gue,tokenize:jue};function Gue(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Zo(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function jue(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),o(h)}function o(h){return t.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(t.consume(h),s):h===null||Gr(h)?(t.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(t.enter("atxHeadingSequence"),c(h)):h===null||Fe(h)?(t.exit("atxHeading"),e(h)):yt(h)?kt(t,u,"whitespace")(h):(t.enter("atxHeadingText"),f(h))}function c(h){return h===35?(t.consume(h),c):(t.exit("atxHeadingSequence"),u(h))}function f(h){return h===null||h===35||Gr(h)?(t.exit("atxHeadingText"),u(h)):(t.consume(h),f)}}const $ue=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Bk=["pre","script","style","textarea"],Kue={concrete:!0,name:"htmlFlow",resolveTo:Jue,tokenize:Xue},Yue={partial:!0,tokenize:Zue},Wue={partial:!0,tokenize:Que};function Jue(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Xue(t,e,n){const r=this;let i,o,s,u,c;return f;function f(j){return h(j)}function h(j){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(j),p}function p(j){return j===33?(t.consume(j),g):j===47?(t.consume(j),o=!0,w):j===63?(t.consume(j),i=3,r.interrupt?e:$):Ho(j)?(t.consume(j),s=String.fromCharCode(j),A):n(j)}function g(j){return j===45?(t.consume(j),i=2,v):j===91?(t.consume(j),i=5,u=0,T):Ho(j)?(t.consume(j),i=4,r.interrupt?e:$):n(j)}function v(j){return j===45?(t.consume(j),r.interrupt?e:$):n(j)}function T(j){const _e="CDATA[";return j===_e.charCodeAt(u++)?(t.consume(j),u===_e.length?r.interrupt?e:V:T):n(j)}function w(j){return Ho(j)?(t.consume(j),s=String.fromCharCode(j),A):n(j)}function A(j){if(j===null||j===47||j===62||Gr(j)){const _e=j===47,Pe=s.toLowerCase();return!_e&&!o&&Bk.includes(Pe)?(i=1,r.interrupt?e(j):V(j)):$ue.includes(s.toLowerCase())?(i=6,_e?(t.consume(j),I):r.interrupt?e(j):V(j)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):o?D(j):k(j))}return j===45||si(j)?(t.consume(j),s+=String.fromCharCode(j),A):n(j)}function I(j){return j===62?(t.consume(j),r.interrupt?e:V):n(j)}function D(j){return yt(j)?(t.consume(j),D):q(j)}function k(j){return j===47?(t.consume(j),q):j===58||j===95||Ho(j)?(t.consume(j),z):yt(j)?(t.consume(j),k):q(j)}function z(j){return j===45||j===46||j===58||j===95||si(j)?(t.consume(j),z):G(j)}function G(j){return j===61?(t.consume(j),L):yt(j)?(t.consume(j),G):k(j)}function L(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),c=j,N):yt(j)?(t.consume(j),L):M(j)}function N(j){return j===c?(t.consume(j),c=null,O):j===null||Fe(j)?n(j):(t.consume(j),N)}function M(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Gr(j)?G(j):(t.consume(j),M)}function O(j){return j===47||j===62||yt(j)?k(j):n(j)}function q(j){return j===62?(t.consume(j),B):n(j)}function B(j){return j===null||Fe(j)?V(j):yt(j)?(t.consume(j),B):n(j)}function V(j){return j===45&&i===2?(t.consume(j),X):j===60&&i===1?(t.consume(j),se):j===62&&i===4?(t.consume(j),Y):j===63&&i===3?(t.consume(j),$):j===93&&i===5?(t.consume(j),ge):Fe(j)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Yue,re,F)(j)):j===null||Fe(j)?(t.exit("htmlFlowData"),F(j)):(t.consume(j),V)}function F(j){return t.check(Wue,ue,re)(j)}function ue(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),ce}function ce(j){return j===null||Fe(j)?F(j):(t.enter("htmlFlowData"),V(j))}function X(j){return j===45?(t.consume(j),$):V(j)}function se(j){return j===47?(t.consume(j),s="",le):V(j)}function le(j){if(j===62){const _e=s.toLowerCase();return Bk.includes(_e)?(t.consume(j),Y):V(j)}return Ho(j)&&s.length<8?(t.consume(j),s+=String.fromCharCode(j),le):V(j)}function ge(j){return j===93?(t.consume(j),$):V(j)}function $(j){return j===62?(t.consume(j),Y):j===45&&i===2?(t.consume(j),$):V(j)}function Y(j){return j===null||Fe(j)?(t.exit("htmlFlowData"),re(j)):(t.consume(j),Y)}function re(j){return t.exit("htmlFlow"),e(j)}}function Que(t,e,n){const r=this;return i;function i(s){return Fe(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function Zue(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Zv,e,n)}}const ece={name:"htmlText",tokenize:tce};function tce(t,e,n){const r=this;let i,o,s;return u;function u($){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume($),c}function c($){return $===33?(t.consume($),f):$===47?(t.consume($),G):$===63?(t.consume($),k):Ho($)?(t.consume($),M):n($)}function f($){return $===45?(t.consume($),h):$===91?(t.consume($),o=0,T):Ho($)?(t.consume($),D):n($)}function h($){return $===45?(t.consume($),v):n($)}function p($){return $===null?n($):$===45?(t.consume($),g):Fe($)?(s=p,se($)):(t.consume($),p)}function g($){return $===45?(t.consume($),v):p($)}function v($){return $===62?X($):$===45?g($):p($)}function T($){const Y="CDATA[";return $===Y.charCodeAt(o++)?(t.consume($),o===Y.length?w:T):n($)}function w($){return $===null?n($):$===93?(t.consume($),A):Fe($)?(s=w,se($)):(t.consume($),w)}function A($){return $===93?(t.consume($),I):w($)}function I($){return $===62?X($):$===93?(t.consume($),I):w($)}function D($){return $===null||$===62?X($):Fe($)?(s=D,se($)):(t.consume($),D)}function k($){return $===null?n($):$===63?(t.consume($),z):Fe($)?(s=k,se($)):(t.consume($),k)}function z($){return $===62?X($):k($)}function G($){return Ho($)?(t.consume($),L):n($)}function L($){return $===45||si($)?(t.consume($),L):N($)}function N($){return Fe($)?(s=N,se($)):yt($)?(t.consume($),N):X($)}function M($){return $===45||si($)?(t.consume($),M):$===47||$===62||Gr($)?O($):n($)}function O($){return $===47?(t.consume($),X):$===58||$===95||Ho($)?(t.consume($),q):Fe($)?(s=O,se($)):yt($)?(t.consume($),O):X($)}function q($){return $===45||$===46||$===58||$===95||si($)?(t.consume($),q):B($)}function B($){return $===61?(t.consume($),V):Fe($)?(s=B,se($)):yt($)?(t.consume($),B):O($)}function V($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),i=$,F):Fe($)?(s=V,se($)):yt($)?(t.consume($),V):(t.consume($),ue)}function F($){return $===i?(t.consume($),i=void 0,ce):$===null?n($):Fe($)?(s=F,se($)):(t.consume($),F)}function ue($){return $===null||$===34||$===39||$===60||$===61||$===96?n($):$===47||$===62||Gr($)?O($):(t.consume($),ue)}function ce($){return $===47||$===62||Gr($)?O($):n($)}function X($){return $===62?(t.consume($),t.exit("htmlTextData"),t.exit("htmlText"),e):n($)}function se($){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),le}function le($){return yt($)?kt(t,ge,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):ge($)}function ge($){return t.enter("htmlTextData"),s($)}}const Dx={name:"labelEnd",resolveAll:oce,resolveTo:ace,tokenize:sce},nce={tokenize:lce},rce={tokenize:uce},ice={tokenize:cce};function oce(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Zo(t,0,t.length,n),t}function ace(t,e){let n=t.length,r=0,i,o,s,u;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const c={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[o][1].start},end:{...t[s][1].end}},h={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[s-2][1].start}};return u=[["enter",c,e],["enter",f,e]],u=Ci(u,t.slice(o+1,o+r+3)),u=Ci(u,[["enter",h,e]]),u=Ci(u,Mx(e.parser.constructs.insideSpan.null,t.slice(o+r+4,s-3),e)),u=Ci(u,[["exit",h,e],t[s-2],t[s-1],["exit",f,e]]),u=Ci(u,t.slice(s+1)),u=Ci(u,[["exit",c,e]]),Zo(t,o,t.length,u),t}function sce(t,e,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return u;function u(g){return o?o._inactive?p(g):(s=r.parser.defined.includes(Rc(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),c):n(g)}function c(g){return g===40?t.attempt(nce,h,s?h:p)(g):g===91?t.attempt(rce,h,s?f:p)(g):s?h(g):p(g)}function f(g){return t.attempt(ice,h,p)(g)}function h(g){return e(g)}function p(g){return o._balanced=!0,n(g)}}function lce(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return Gr(p)?Xd(t,o)(p):o(p)}function o(p){return p===41?h(p):zz(t,s,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function s(p){return Gr(p)?Xd(t,c)(p):h(p)}function u(p){return n(p)}function c(p){return p===34||p===39||p===40?Hz(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function f(p){return Gr(p)?Xd(t,h)(p):h(p)}function h(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function uce(t,e,n){const r=this;return i;function i(u){return qz.call(r,t,o,s,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(Rc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function s(u){return n(u)}}function cce(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const fce={name:"labelStartImage",resolveAll:Dx.resolveAll,tokenize:dce};function dce(t,e,n){const r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),o}function o(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),s):n(u)}function s(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const hce={name:"labelStartLink",resolveAll:Dx.resolveAll,tokenize:pce};function pce(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const Eb={name:"lineEnding",tokenize:mce};function mce(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),kt(t,e,"linePrefix")}}const wg={name:"thematicBreak",tokenize:gce};function gce(t,e,n){let r=0,i;return o;function o(f){return t.enter("thematicBreak"),s(f)}function s(f){return i=f,u(f)}function u(f){return f===i?(t.enter("thematicBreakSequence"),c(f)):r>=3&&(f===null||Fe(f))?(t.exit("thematicBreak"),e(f)):n(f)}function c(f){return f===i?(t.consume(f),r++,c):(t.exit("thematicBreakSequence"),yt(f)?kt(t,u,"whitespace")(f):u(f))}}const Vr={continuation:{tokenize:Ece},exit:bce,name:"list",tokenize:_ce},yce={partial:!0,tokenize:Tce},vce={partial:!0,tokenize:Sce};function _ce(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return u;function u(v){const T=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:JT(v)){if(r.containerState.type||(r.containerState.type=T,t.enter(T,{_container:!0})),T==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(wg,n,f)(v):f(v);if(!r.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(v)}return n(v)}function c(v){return JT(v)&&++s<10?(t.consume(v),c):(!r.interrupt||s<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),f(v)):n(v)}function f(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,t.check(Zv,r.interrupt?n:h,t.attempt(yce,g,p))}function h(v){return r.containerState.initialBlankLine=!0,o++,g(v)}function p(v){return yt(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),g):n(v)}function g(v){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(v)}}function Ece(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Zv,i,o);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,kt(t,e,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!yt(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(vce,e,s)(u))}function s(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,kt(t,t.attempt(Vr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function Sce(t,e,n){const r=this;return kt(t,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(o):n(o)}}function bce(t){t.exit(this.containerState.type)}function Tce(t,e,n){const r=this;return kt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!yt(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const Fk={name:"setextUnderline",resolveTo:wce,tokenize:Ace};function wce(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",s,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function Ace(t,e,n){const r=this;let i;return o;function o(f){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=f,s(f)):n(f)}function s(f){return t.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(t.consume(f),u):(t.exit("setextHeadingLineSequence"),yt(f)?kt(t,c,"lineSuffix")(f):c(f))}function c(f){return f===null||Fe(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const xce={tokenize:Cce};function Cce(t){const e=this,n=t.attempt(Zv,r,t.attempt(this.parser.constructs.flowInitial,i,kt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Oue,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Ice={resolveAll:jz()},Pce=Gz("string"),Rce=Gz("text");function Gz(t){return{resolveAll:jz(t==="text"?Nce:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,s,u);return s;function s(h){return f(h)?o(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return f(h)?(n.exit("data"),o(h)):(n.consume(h),c)}function f(h){if(h===null)return!0;const p=i[h];let g=-1;if(p)for(;++g<p.length;){const v=p[g];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function jz(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function Nce(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,s=-1,u=0,c;for(;o--;){const f=i[o];if(typeof f=="string"){for(s=f.length;f.charCodeAt(s-1)===32;)u++,s--;if(s)break;s=-1}else if(f===-2)c=!0,u++;else if(f!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){const f={type:n===t.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const Oce={42:Vr,43:Vr,45:Vr,48:Vr,49:Vr,50:Vr,51:Vr,52:Vr,53:Vr,54:Vr,55:Vr,56:Vr,57:Vr,62:Uz},Mce={91:Uue},Dce={[-2]:_b,[-1]:_b,32:_b},kce={35:Hue,42:wg,45:[Fk,wg],60:Kue,61:Fk,95:wg,96:Vk,126:Vk},Lce={38:Bz,92:Vz},Uce={[-5]:Eb,[-4]:Eb,[-3]:Eb,33:fce,38:Bz,42:XT,60:[hue,ece],91:hce,92:[zue,Vz],93:Dx,95:XT,96:xue},Vce={null:[XT,Ice]},Bce={null:[42,95]},Fce={null:[]},zce=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Bce,contentInitial:Mce,disable:Fce,document:Oce,flow:kce,flowInitial:Dce,insideSpan:Vce,string:Lce,text:Uce},Symbol.toStringTag,{value:"Module"}));function qce(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],u=[];const c={attempt:N(G),check:N(L),consume:D,enter:k,exit:z,interrupt:N(L,{interrupt:!0})},f={code:null,containerState:{},defineSkip:w,events:[],now:T,parser:t,previous:null,sliceSerialize:g,sliceStream:v,write:p};let h=e.tokenize.call(f,c);return e.resolveAll&&o.push(e),f;function p(B){return s=Ci(s,B),A(),s[s.length-1]!==null?[]:(M(e,0),f.events=Mx(o,f.events,f),f.events)}function g(B,V){return Gce(v(B),V)}function v(B){return Hce(s,B)}function T(){const{_bufferIndex:B,_index:V,line:F,column:ue,offset:ce}=r;return{_bufferIndex:B,_index:V,line:F,column:ue,offset:ce}}function w(B){i[B.line]=B.column,q()}function A(){let B;for(;r._index<s.length;){const V=s[r._index];if(typeof V=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<V.length;)I(V.charCodeAt(r._bufferIndex));else I(V)}}function I(B){h=h(B)}function D(B){Fe(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,q()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=B}function k(B,V){const F=V||{};return F.type=B,F.start=T(),f.events.push(["enter",F,f]),u.push(F),F}function z(B){const V=u.pop();return V.end=T(),f.events.push(["exit",V,f]),V}function G(B,V){M(B,V.from)}function L(B,V){V.restore()}function N(B,V){return F;function F(ue,ce,X){let se,le,ge,$;return Array.isArray(ue)?re(ue):"tokenize"in ue?re([ue]):Y(ue);function Y(xe){return Me;function Me(ut){const fe=ut!==null&&xe[ut],Ue=ut!==null&&xe.null,He=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(Ue)?Ue:Ue?[Ue]:[]];return re(He)(ut)}}function re(xe){return se=xe,le=0,xe.length===0?X:j(xe[le])}function j(xe){return Me;function Me(ut){return $=O(),ge=xe,xe.partial||(f.currentConstruct=xe),xe.name&&f.parser.constructs.disable.null.includes(xe.name)?Pe():xe.tokenize.call(V?Object.assign(Object.create(f),V):f,c,_e,Pe)(ut)}}function _e(xe){return B(ge,$),ce}function Pe(xe){return $.restore(),++le<se.length?j(se[le]):X}}}function M(B,V){B.resolveAll&&!o.includes(B)&&o.push(B),B.resolve&&Zo(f.events,V,f.events.length-V,B.resolve(f.events.slice(V),f)),B.resolveTo&&(f.events=B.resolveTo(f.events,f))}function O(){const B=T(),V=f.previous,F=f.currentConstruct,ue=f.events.length,ce=Array.from(u);return{from:ue,restore:X};function X(){r=B,f.previous=V,f.currentConstruct=F,f.events.length=ue,u=ce,q()}}function q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Hce(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,o)];else{if(s=t.slice(n,i),r>-1){const u=s[0];typeof u=="string"?s[0]=u.slice(r):s.shift()}o>0&&s.push(t[i].slice(0,o))}return s}function Gce(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function jce(t){const r={constructs:Qle([zce,...(t||{}).extensions||[]]),content:i(aue),defined:[],document:i(lue),flow:i(xce),lazy:{},string:i(Pce),text:i(Rce)};return r;function i(o){return s;function s(u){return qce(r,o,u)}}}function $ce(t){for(;!Fz(t););return t}const zk=/[\0\t\n\r]/g;function Kce(){let t=1,e="",n=!0,r;return i;function i(o,s,u){const c=[];let f,h,p,g,v;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),p=0,e="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(zk.lastIndex=p,f=zk.exec(o),g=f&&f.index!==void 0?f.index:o.length,v=o.charCodeAt(g),!f){e=o.slice(p);break}if(v===10&&p===g&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<g&&(c.push(o.slice(p,g)),t+=g-p),v){case 0:{c.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,c.push(-2);t++<h;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}p=g+1}return u&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const Yce=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Wce(t){return t.replace(Yce,Jce)}function Jce(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return Lz(n.slice(o?2:1),o?16:10)}return Ox(n)||t}const $z={}.hasOwnProperty;function Xce(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Qce(n)($ce(jce(n).document().write(Kce()(t,e,!0))))}function Qce(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Wt),autolinkProtocol:O,autolinkEmail:O,atxHeading:o(tn),blockQuote:o(Ue),characterEscape:O,characterReference:O,codeFenced:o(He),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(He,s),codeText:o(ve,s),codeTextData:O,data:O,codeFlowValue:O,definition:o(Yt),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(Je),hardBreakEscape:o(Ft),hardBreakTrailing:o(Ft),htmlFlow:o(ur,s),htmlFlowData:O,htmlText:o(ur,s),htmlTextData:O,image:o(mo),label:s,link:o(Wt),listItem:o(go),listItemValue:g,listOrdered:o(nn,p),listUnordered:o(nn),paragraph:o(xf),reference:j,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(tn),strong:o(wu),thematicBreak:o(oa)},exit:{atxHeading:c(),atxHeadingSequence:G,autolink:c(),autolinkEmail:fe,autolinkProtocol:ut,blockQuote:c(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:Pe,characterReferenceMarkerNumeric:Pe,characterReferenceValue:xe,characterReference:Me,codeFenced:c(A),codeFencedFence:w,codeFencedFenceInfo:v,codeFencedFenceMeta:T,codeFlowValue:q,codeIndented:c(I),codeText:c(ce),codeTextData:q,data:q,definition:c(),definitionDestinationString:z,definitionLabelString:D,definitionTitleString:k,emphasis:c(),hardBreakEscape:c(V),hardBreakTrailing:c(V),htmlFlow:c(F),htmlFlowData:q,htmlText:c(ue),htmlTextData:q,image:c(se),label:ge,labelText:le,lineEnding:B,link:c(X),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:_e,resourceDestinationString:$,resourceTitleString:Y,resource:re,setextHeading:c(M),setextHeadingLineSequence:N,setextHeadingText:L,strong:c(),thematicBreak:c()}};Kz(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(he){let be={type:"root",children:[]};const Le={stack:[be],tokenStack:[],config:e,enter:u,exit:f,buffer:s,resume:h,data:n},Xe=[];let ct=-1;for(;++ct<he.length;)if(he[ct][1].type==="listOrdered"||he[ct][1].type==="listUnordered")if(he[ct][0]==="enter")Xe.push(ct);else{const cr=Xe.pop();ct=i(he,cr,ct)}for(ct=-1;++ct<he.length;){const cr=e[he[ct][0]];$z.call(cr,he[ct][1].type)&&cr[he[ct][1].type].call(Object.assign({sliceSerialize:he[ct][2].sliceSerialize},Le),he[ct][1])}if(Le.tokenStack.length>0){const cr=Le.tokenStack[Le.tokenStack.length-1];(cr[1]||qk).call(Le,void 0,cr[0])}for(be.position={start:Ds(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:Ds(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},ct=-1;++ct<e.transforms.length;)be=e.transforms[ct](be)||be;return be}function i(he,be,Le){let Xe=be-1,ct=-1,cr=!1,ci,sn,Jt,Bn;for(;++Xe<=Le;){const at=he[Xe];switch(at[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{at[0]==="enter"?ct++:ct--,Bn=void 0;break}case"lineEndingBlank":{at[0]==="enter"&&(ci&&!Bn&&!ct&&!Jt&&(Jt=Xe),Bn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Bn=void 0}if(!ct&&at[0]==="enter"&&at[1].type==="listItemPrefix"||ct===-1&&at[0]==="exit"&&(at[1].type==="listUnordered"||at[1].type==="listOrdered")){if(ci){let ki=Xe;for(sn=void 0;ki--;){const fr=he[ki];if(fr[1].type==="lineEnding"||fr[1].type==="lineEndingBlank"){if(fr[0]==="exit")continue;sn&&(he[sn][1].type="lineEndingBlank",cr=!0),fr[1].type="lineEnding",sn=ki}else if(!(fr[1].type==="linePrefix"||fr[1].type==="blockQuotePrefix"||fr[1].type==="blockQuotePrefixWhitespace"||fr[1].type==="blockQuoteMarker"||fr[1].type==="listItemIndent"))break}Jt&&(!sn||Jt<sn)&&(ci._spread=!0),ci.end=Object.assign({},sn?he[sn][1].start:at[1].end),he.splice(sn||Xe,0,["exit",ci,at[2]]),Xe++,Le++}if(at[1].type==="listItemPrefix"){const ki={type:"listItem",_spread:!1,start:Object.assign({},at[1].start),end:void 0};ci=ki,he.splice(Xe,0,["enter",ki,at[2]]),Xe++,Le++,Jt=void 0,Bn=!0}}}return he[be][1]._spread=cr,Le}function o(he,be){return Le;function Le(Xe){u.call(this,he(Xe),Xe),be&&be.call(this,Xe)}}function s(){this.stack.push({type:"fragment",children:[]})}function u(he,be,Le){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([be,Le||void 0]),he.position={start:Ds(be.start),end:void 0}}function c(he){return be;function be(Le){he&&he.call(this,Le),f.call(this,Le)}}function f(he,be){const Le=this.stack.pop(),Xe=this.tokenStack.pop();if(Xe)Xe[0].type!==he.type&&(be?be.call(this,he,Xe[0]):(Xe[1]||qk).call(this,he,Xe[0]));else throw new Error("Cannot close `"+he.type+"` ("+Jd({start:he.start,end:he.end})+"): its not open");Le.position.end=Ds(he.end)}function h(){return Jle(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(he){if(this.data.expectingFirstListItemValue){const be=this.stack[this.stack.length-2];be.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function v(){const he=this.resume(),be=this.stack[this.stack.length-1];be.lang=he}function T(){const he=this.resume(),be=this.stack[this.stack.length-1];be.meta=he}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const he=this.resume(),be=this.stack[this.stack.length-1];be.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function I(){const he=this.resume(),be=this.stack[this.stack.length-1];be.value=he.replace(/(\r?\n|\r)$/g,"")}function D(he){const be=this.resume(),Le=this.stack[this.stack.length-1];Le.label=be,Le.identifier=Rc(this.sliceSerialize(he)).toLowerCase()}function k(){const he=this.resume(),be=this.stack[this.stack.length-1];be.title=he}function z(){const he=this.resume(),be=this.stack[this.stack.length-1];be.url=he}function G(he){const be=this.stack[this.stack.length-1];if(!be.depth){const Le=this.sliceSerialize(he).length;be.depth=Le}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function N(he){const be=this.stack[this.stack.length-1];be.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function O(he){const Le=this.stack[this.stack.length-1].children;let Xe=Le[Le.length-1];(!Xe||Xe.type!=="text")&&(Xe=Xn(),Xe.position={start:Ds(he.start),end:void 0},Le.push(Xe)),this.stack.push(Xe)}function q(he){const be=this.stack.pop();be.value+=this.sliceSerialize(he),be.position.end=Ds(he.end)}function B(he){const be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Le=be.children[be.children.length-1];Le.position.end=Ds(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(be.type)&&(O.call(this,he),q.call(this,he))}function V(){this.data.atHardBreak=!0}function F(){const he=this.resume(),be=this.stack[this.stack.length-1];be.value=he}function ue(){const he=this.resume(),be=this.stack[this.stack.length-1];be.value=he}function ce(){const he=this.resume(),be=this.stack[this.stack.length-1];be.value=he}function X(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=be,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function se(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=be,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function le(he){const be=this.sliceSerialize(he),Le=this.stack[this.stack.length-2];Le.label=Wce(be),Le.identifier=Rc(be).toLowerCase()}function ge(){const he=this.stack[this.stack.length-1],be=this.resume(),Le=this.stack[this.stack.length-1];if(this.data.inReference=!0,Le.type==="link"){const Xe=he.children;Le.children=Xe}else Le.alt=be}function $(){const he=this.resume(),be=this.stack[this.stack.length-1];be.url=he}function Y(){const he=this.resume(),be=this.stack[this.stack.length-1];be.title=he}function re(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function _e(he){const be=this.resume(),Le=this.stack[this.stack.length-1];Le.label=be,Le.identifier=Rc(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function Pe(he){this.data.characterReferenceType=he.type}function xe(he){const be=this.sliceSerialize(he),Le=this.data.characterReferenceType;let Xe;Le?(Xe=Lz(be,Le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Xe=Ox(be);const ct=this.stack[this.stack.length-1];ct.value+=Xe}function Me(he){const be=this.stack.pop();be.position.end=Ds(he.end)}function ut(he){q.call(this,he);const be=this.stack[this.stack.length-1];be.url=this.sliceSerialize(he)}function fe(he){q.call(this,he);const be=this.stack[this.stack.length-1];be.url="mailto:"+this.sliceSerialize(he)}function Ue(){return{type:"blockquote",children:[]}}function He(){return{type:"code",lang:null,meta:null,value:""}}function ve(){return{type:"inlineCode",value:""}}function Yt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Je(){return{type:"emphasis",children:[]}}function tn(){return{type:"heading",depth:0,children:[]}}function Ft(){return{type:"break"}}function ur(){return{type:"html",value:""}}function mo(){return{type:"image",title:null,url:"",alt:null}}function Wt(){return{type:"link",title:null,url:"",children:[]}}function nn(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function go(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function xf(){return{type:"paragraph",children:[]}}function wu(){return{type:"strong",children:[]}}function Xn(){return{type:"text",value:""}}function oa(){return{type:"thematicBreak"}}}function Ds(t){return{line:t.line,column:t.column,offset:t.offset}}function Kz(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Kz(t,r):Zce(t,r)}}function Zce(t,e){let n;for(n in e)if($z.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function qk(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Jd({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Jd({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Jd({start:e.start,end:e.end})+") is still open")}function efe(t){const e=this;e.parser=n;function n(r){return Xce(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function tfe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function nfe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function rfe(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function ife(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ofe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function afe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=_f(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let s,u=t.footnoteCounts.get(r);u===void 0?(u=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=o+1,u+=1,t.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,f),t.applyData(e,f)}function sfe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function lfe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Yz(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function ufe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Yz(t,e);const i={src:_f(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function cfe(t,e){const n={src:_f(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function ffe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function dfe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Yz(t,e);const i={href:_f(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function hfe(t,e){const n={href:_f(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function pfe(t,e,n){const r=t.all(e),i=n?mfe(n):Wz(e),o={},s=[];if(typeof e.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const h=r[u];(i||u!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:s};return t.patch(e,f),t.applyData(e,f)}function mfe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Wz(n[r])}return e}function Wz(t){const e=t.spread;return e??t.children.length>1}function gfe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function yfe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function vfe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function _fe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Efe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},u=Ix(e.children[1]),c=Pz(e.children[e.children.length-1]);u&&c&&(s.position={start:u,end:c}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function Sfe(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,u=s?s.length:e.children.length;let c=-1;const f=[];for(;++c<u;){const p=e.children[c],g={},v=s?s[c]:void 0;v&&(g.align=v);let T={type:"element",tagName:o,properties:g,children:[]};p&&(T.children=t.all(p),t.patch(p,T),T=t.applyData(p,T)),f.push(T)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,h),t.applyData(e,h)}function bfe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Hk=9,Gk=32;function Tfe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(jk(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(jk(e.slice(i),i>0,!1)),o.join("")}function jk(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===Hk||o===Gk;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===Hk||o===Gk;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function wfe(t,e){const n={type:"text",value:Tfe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Afe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const xfe={blockquote:tfe,break:nfe,code:rfe,delete:ife,emphasis:ofe,footnoteReference:afe,heading:sfe,html:lfe,imageReference:ufe,image:cfe,inlineCode:ffe,linkReference:dfe,link:hfe,listItem:pfe,list:gfe,paragraph:yfe,root:vfe,strong:_fe,table:Efe,tableCell:bfe,tableRow:Sfe,text:wfe,thematicBreak:Afe,toml:ng,yaml:ng,definition:ng,footnoteDefinition:ng};function ng(){}const Jz=-1,e0=0,Qd=1,Oy=2,kx=3,Lx=4,Ux=5,Vx=6,Xz=7,Qz=8,$k=typeof self=="object"?self:globalThis,Cfe=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,s]=e[i];switch(o){case e0:case Jz:return n(s,i);case Qd:{const u=n([],i);for(const c of s)u.push(r(c));return u}case Oy:{const u=n({},i);for(const[c,f]of s)u[r(c)]=r(f);return u}case kx:return n(new Date(s),i);case Lx:{const{source:u,flags:c}=s;return n(new RegExp(u,c),i)}case Ux:{const u=n(new Map,i);for(const[c,f]of s)u.set(r(c),r(f));return u}case Vx:{const u=n(new Set,i);for(const c of s)u.add(r(c));return u}case Xz:{const{name:u,message:c}=s;return n(new $k[u](c),i)}case Qz:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:u}=new Uint8Array(s);return n(new DataView(u),s)}}return n(new $k[o](s),i)};return r},Kk=t=>Cfe(new Map,t)(0),mc="",{toString:Ife}={},{keys:Pfe}=Object,Bd=t=>{const e=typeof t;if(e!=="object"||!t)return[e0,e];const n=Ife.call(t).slice(8,-1);switch(n){case"Array":return[Qd,mc];case"Object":return[Oy,mc];case"Date":return[kx,mc];case"RegExp":return[Lx,mc];case"Map":return[Ux,mc];case"Set":return[Vx,mc];case"DataView":return[Qd,n]}return n.includes("Array")?[Qd,n]:n.includes("Error")?[Xz,n]:[Oy,n]},rg=([t,e])=>t===e0&&(e==="function"||e==="symbol"),Rfe=(t,e,n,r)=>{const i=(s,u)=>{const c=r.push(s)-1;return n.set(u,c),c},o=s=>{if(n.has(s))return n.get(s);let[u,c]=Bd(s);switch(u){case e0:{let h=s;switch(c){case"bigint":u=Qz,h=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([Jz],s)}return i([u,h],s)}case Qd:{if(c){let g=s;return c==="DataView"?g=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(s)),i([c,[...g]],s)}const h=[],p=i([u,h],s);for(const g of s)h.push(o(g));return p}case Oy:{if(c)switch(c){case"BigInt":return i([c,s.toString()],s);case"Boolean":case"Number":case"String":return i([c,s.valueOf()],s)}if(e&&"toJSON"in s)return o(s.toJSON());const h=[],p=i([u,h],s);for(const g of Pfe(s))(t||!rg(Bd(s[g])))&&h.push([o(g),o(s[g])]);return p}case kx:return i([u,s.toISOString()],s);case Lx:{const{source:h,flags:p}=s;return i([u,{source:h,flags:p}],s)}case Ux:{const h=[],p=i([u,h],s);for(const[g,v]of s)(t||!(rg(Bd(g))||rg(Bd(v))))&&h.push([o(g),o(v)]);return p}case Vx:{const h=[],p=i([u,h],s);for(const g of s)(t||!rg(Bd(g)))&&h.push(o(g));return p}}const{message:f}=s;return i([u,{name:c,message:f}],s)};return o},Yk=(t,{json:e,lossy:n}={})=>{const r=[];return Rfe(!(e||n),!!e,new Map,r)(t),r},My=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Kk(Yk(t,e)):structuredClone(t):(t,e)=>Kk(Yk(t,e));function Nfe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Ofe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Mfe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Nfe,r=t.options.footnoteBackLabel||Ofe,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[c]);if(!f)continue;const h=t.all(f),p=String(f.identifier).toUpperCase(),g=_f(p.toLowerCase());let v=0;const T=[],w=t.footnoteCounts.get(p);for(;w!==void 0&&++v<=w;){T.length>0&&T.push({type:"text",value:" "});let D=typeof n=="string"?n:n(c,v);typeof D=="string"&&(D={type:"text",value:D}),T.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,v),className:["data-footnote-backref"]},children:Array.isArray(D)?D:[D]})}const A=h[h.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const D=A.children[A.children.length-1];D&&D.type==="text"?D.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...T)}else h.push(...T);const I={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(h,!0)};t.patch(f,I),u.push(I)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...My(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(u,!0)},{type:"text",value:`
`}]}}const Zz=(function(t){if(t==null)return Ufe;if(typeof t=="function")return t0(t);if(typeof t=="object")return Array.isArray(t)?Dfe(t):kfe(t);if(typeof t=="string")return Lfe(t);throw new Error("Expected function, string, or object as test")});function Dfe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Zz(t[n]);return t0(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function kfe(t){const e=t;return t0(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function Lfe(t){return t0(e);function e(n){return n&&n.type===t}}function t0(t){return e;function e(n,r,i){return!!(Vfe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Ufe(){return!0}function Vfe(t){return t!==null&&typeof t=="object"&&"type"in t}const e6=[],Bfe=!0,Wk=!1,Ffe="skip";function zfe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=Zz(i),s=r?-1:1;u(t,void 0,[])();function u(c,f,h){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(v?"<"+v+">":""))+")"})}return g;function g(){let v=e6,T,w,A;if((!e||o(c,f,h[h.length-1]||void 0))&&(v=qfe(n(c,h)),v[0]===Wk))return v;if("children"in c&&c.children){const I=c;if(I.children&&v[0]!==Ffe)for(w=(r?I.children.length:-1)+s,A=h.concat(I);w>-1&&w<I.children.length;){const D=I.children[w];if(T=u(D,w,A)(),T[0]===Wk)return T;w=typeof T[1]=="number"?T[1]:w+s}}return v}}}function qfe(t){return Array.isArray(t)?t:typeof t=="number"?[Bfe,t]:t==null?e6:[t]}function t6(t,e,n,r){let i,o,s;typeof e=="function"&&typeof n!="function"?(o=void 0,s=e,i=n):(o=e,s=n,i=r),zfe(t,o,u,i);function u(c,f){const h=f[f.length-1],p=h?h.children.indexOf(c):void 0;return s(c,p,h)}}const QT={}.hasOwnProperty,Hfe={};function Gfe(t,e){const n=e||Hfe,r=new Map,i=new Map,o=new Map,s={...xfe,...n.handlers},u={all:f,applyData:$fe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:c,options:n,patch:jfe,wrap:Yfe};return t6(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,g=String(h.identifier).toUpperCase();p.has(g)||p.set(g,h)}}),u;function c(h,p){const g=h.type,v=u.handlers[g];if(QT.call(u.handlers,g)&&v)return v(u,h,p);if(u.options.passThrough&&u.options.passThrough.includes(g)){if("children"in h){const{children:w,...A}=h,I=My(A);return I.children=u.all(h),I}return My(h)}return(u.options.unknownHandler||Kfe)(u,h,p)}function f(h){const p=[];if("children"in h){const g=h.children;let v=-1;for(;++v<g.length;){const T=u.one(g[v],h);if(T){if(v&&g[v-1].type==="break"&&(!Array.isArray(T)&&T.type==="text"&&(T.value=Jk(T.value)),!Array.isArray(T)&&T.type==="element")){const w=T.children[0];w&&w.type==="text"&&(w.value=Jk(w.value))}Array.isArray(T)?p.push(...T):p.push(T)}}}return p}}function jfe(t,e){t.position&&(e.position=Ile(t))}function $fe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,My(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Kfe(t,e){const n=e.data||{},r="value"in e&&!(QT.call(n,"hProperties")||QT.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Yfe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Jk(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Xk(t,e){const n=Gfe(t,e),r=n.one(t,void 0),i=Mfe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function Wfe(t,e){return t&&"run"in t?async function(n,r){const i=Xk(n,{file:r,...e});await t.run(i,r)}:function(n,r){return Xk(n,{file:r,...t||e})}}function Qk(t){if(t)throw t}var Sb,Zk;function Jfe(){if(Zk)return Sb;Zk=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},o=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var h=t.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!p)return!1;var g;for(g in f);return typeof g>"u"||t.call(f,g)},s=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},u=function(f,h){if(h==="__proto__")if(t.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return Sb=function c(){var f,h,p,g,v,T,w=arguments[0],A=1,I=arguments.length,D=!1;for(typeof w=="boolean"&&(D=w,w=arguments[1]||{},A=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});A<I;++A)if(f=arguments[A],f!=null)for(h in f)p=u(w,h),g=u(f,h),w!==g&&(D&&g&&(o(g)||(v=i(g)))?(v?(v=!1,T=p&&i(p)?p:[]):T=p&&o(p)?p:{},s(w,{name:h,newValue:c(D,T,g)})):typeof g<"u"&&s(w,{name:h,newValue:g}));return w},Sb}var Xfe=Jfe();const bb=$r(Xfe);function ZT(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Qfe(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);u(null,...i);function u(c,...f){const h=t[++o];let p=-1;if(c){s(c);return}for(;++p<i.length;)(f[p]===null||f[p]===void 0)&&(f[p]=i[p]);i=f,h?Zfe(h,u)(...f):s(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Zfe(t,e){let n;return r;function r(...s){const u=t.length>s.length;let c;u&&s.push(i);try{c=t.apply(this,s)}catch(f){const h=f;if(u&&n)throw h;return i(h)}u||(c&&c.then&&typeof c.then=="function"?c.then(o,i):c instanceof Error?i(c):o(c))}function i(s,...u){n||(n=!0,e(s,...u))}function o(s){i(null,s)}}const Bo={basename:ede,dirname:tde,extname:nde,join:rde,sep:"/"};function ede(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');rp(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,u=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),u>-1&&(t.codePointAt(i)===e.codePointAt(u--)?u<0&&(r=i):(u=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function tde(t){if(rp(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function nde(t){rp(t);let e=t.length,n=-1,r=0,i=-1,o=0,s;for(;e--;){const u=t.codePointAt(e);if(u===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),u===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function rde(...t){let e=-1,n;for(;++e<t.length;)rp(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":ide(n)}function ide(t){rp(t);const e=t.codePointAt(0)===47;let n=ode(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function ode(t,e){let n="",r=0,i=-1,o=0,s=-1,u,c;for(;++s<=t.length;){if(s<t.length)u=t.codePointAt(s);else{if(u===47)break;u=47}if(u===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,o=0}else u===46&&o>-1?o++:o=-1}return n}function rp(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const ade={cwd:sde};function sde(){return"/"}function ew(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function lde(t){if(typeof t=="string")t=new URL(t);else if(!ew(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return ude(t)}function ude(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Tb=["history","path","basename","stem","extname","dirname"];class n6{constructor(e){let n;e?ew(e)?n={path:e}:typeof e=="string"||cde(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":ade.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Tb.length;){const o=Tb[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)Tb.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Bo.basename(this.path):void 0}set basename(e){Ab(e,"basename"),wb(e,"basename"),this.path=Bo.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Bo.dirname(this.path):void 0}set dirname(e){e2(this.basename,"dirname"),this.path=Bo.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Bo.extname(this.path):void 0}set extname(e){if(wb(e,"extname"),e2(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Bo.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ew(e)&&(e=lde(e)),Ab(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Bo.basename(this.path,this.extname):void 0}set stem(e){Ab(e,"stem"),wb(e,"stem"),this.path=Bo.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new br(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function wb(t,e){if(t&&t.includes(Bo.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Bo.sep+"`")}function Ab(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function e2(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function cde(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const fde=(function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),dde={}.hasOwnProperty;class Bx extends fde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Qfe()}copy(){const e=new Bx;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(bb(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Ib("data",this.frozen),this.namespace[e]=n,this):dde.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ib("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ig(e),r=this.parser||this.Parser;return xb("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),xb("process",this.parser||this.Parser),Cb("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const u=ig(e),c=r.parse(u);r.run(c,u,function(h,p,g){if(h||!p||!g)return f(h);const v=p,T=r.stringify(v,g);mde(T)?g.value=T:g.result=T,f(h,g)});function f(h,p){h||!p?s(h):o?o(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),xb("processSync",this.parser||this.Parser),Cb("processSync",this.compiler||this.Compiler),this.process(e,i),n2("processSync","process",n),r;function i(o,s){n=!0,Qk(o),r=s}}run(e,n,r){t2(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,u){const c=ig(n);i.run(e,c,f);function f(h,p,g){const v=p||e;h?u(h):s?s(v):r(void 0,v,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),n2("runSync","run",r),i;function o(s,u){Qk(s),i=u,r=!0}}stringify(e,n){this.freeze();const r=ig(n),i=this.compiler||this.Compiler;return Cb("stringify",i),t2(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Ib("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...p]=f;c(h,p)}else s(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function s(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=bb(!0,i.settings,f.settings))}function u(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const p=f[h];o(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,h){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===f){g=p;break}if(g===-1)r.push([f,...h]);else if(h.length>0){let[v,...T]=h;const w=r[g][1];ZT(w)&&ZT(v)&&(v=bb(!0,w,v)),r[g]=[f,v,...T]}}}}const hde=new Bx().freeze();function xb(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Cb(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Ib(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function t2(t){if(!ZT(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function n2(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ig(t){return pde(t)?t:new n6(t)}function pde(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function mde(t){return typeof t=="string"||gde(t)}function gde(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const yde="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",r2=[],i2={allowDangerousHtml:!0},vde=/^(https?|ircs?|mailto|xmpp)$/i,_de=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ede(t){const e=Sde(t),n=bde(t);return Tde(e.runSync(e.parse(n),n),t)}function Sde(t){const e=t.rehypePlugins||r2,n=t.remarkPlugins||r2,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...i2}:i2;return hde().use(efe).use(n).use(Wfe,r).use(e)}function bde(t){const e=t.children||"",n=new n6;return typeof e=="string"&&(n.value=e),n}function Tde(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,s=e.skipHtml,u=e.unwrapDisallowed,c=e.urlTransform||wde;for(const h of _de)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+yde+h.id,void 0);return t6(t,f),Mle(t,{Fragment:K.Fragment,components:i,ignoreInvalidStyle:!0,jsx:K.jsx,jsxs:K.jsxs,passKeys:!0,passNode:!0});function f(h,p,g){if(h.type==="raw"&&g&&typeof p=="number")return s?g.children.splice(p,1):g.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let v;for(v in vb)if(Object.hasOwn(vb,v)&&Object.hasOwn(h.properties,v)){const T=h.properties[v],w=vb[v];(w===null||w.includes(h.tagName))&&(h.properties[v]=c(String(T||""),v,h))}}if(h.type==="element"){let v=n?!n.includes(h.tagName):o?o.includes(h.tagName):!1;if(!v&&r&&typeof p=="number"&&(v=!r(h,p,g)),v&&g&&typeof p=="number")return u&&h.children?g.children.splice(p,1,...h.children):g.children.splice(p,1),p}}}function wde(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||vde.test(t.slice(0,e))?t:""}const Ade=({reportContent:t,onClose:e})=>K.jsx("div",{className:"fixed inset-0 bg-rpr-black bg-opacity-80 flex justify-center items-center z-50 p-4",children:K.jsxs("div",{className:"bg-rpr-charcoal rounded-lg shadow-xl max-w-4xl w-full h-full md:max-h-[90vh] overflow-hidden flex flex-col border border-rpr-slate",children:[K.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-rpr-slate bg-rpr-slate",children:[K.jsx("h2",{className:"text-2xl font-bold text-rpr-white",children:"RPR-KONTROL Performance Report"}),K.jsx(to,{onClick:e,variant:"secondary",size:"sm",children:"Close"})]}),K.jsx("div",{className:"flex-grow p-6 overflow-y-auto custom-scrollbar",children:K.jsx(Ede,{className:"prose prose-lg max-w-none text-rpr-white",children:t})})]})}),xde=({results:t,onLoadSession:e})=>K.jsxs("div",{className:"card-style p-6 max-w-4xl mx-auto my-8 space-y-6",children:[K.jsx("h2",{className:"section-prefix text-3xl font-bold text-rpr-white text-center mb-6",children:"Search Results"}),t.length===0?K.jsx("p",{className:"text-gray-400 text-center",children:"No sessions found matching your criteria."}):K.jsx("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto custom-scrollbar p-2",children:t.map(n=>{const r=n.classification===Cn.TS_LAMBDA_3;return K.jsxs("div",{className:"card-style p-4 shadow-sm hover:shadow-md transition duration-150 ease-in-out",children:[K.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm mb-3",children:[K.jsxs("p",{className:"text-rpr-white",children:[K.jsx("strong",{children:"Session ID:"})," ",K.jsx("span",{className:"break-words text-rpr-white",children:n.sessionId})]}),K.jsxs("p",{className:"text-rpr-white",children:[K.jsx("strong",{children:"Project Code:"})," ",K.jsx("span",{className:"break-words text-rpr-white",children:n.projectCode})]}),K.jsxs("p",{className:"text-rpr-white",children:[K.jsx("strong",{children:"Project Name:"})," ",K.jsx("span",{className:"text-rpr-white",children:n.context.projectName})]}),K.jsxs("p",{className:"text-rpr-white",children:[K.jsx("strong",{children:"Classification:"}),K.jsx("span",{className:`font-medium text-rpr-white ${r?"border border-rpr-cyan shadow-cyan-glow":""}`,style:{"--tw-shadow-color":r?"var(--rpr-cyan)":"transparent",boxShadow:r?"0 0 10px var(--rpr-cyan)":"none"},children:n.classification})]}),K.jsxs("p",{className:"md:col-span-2 text-rpr-white",children:[K.jsx("strong",{children:"Started:"})," ",K.jsx("span",{className:"text-rpr-white",children:xc(n.timestamp)})]})]}),K.jsx("div",{className:"text-right",children:K.jsx(to,{onClick:()=>e(n),variant:"primary",size:"sm",children:"View Details"})})]},n.sessionId)})})]}),Cde=({decisions:t,onViewSession:e})=>K.jsxs("div",{className:"card-style p-6 max-w-4xl mx-auto my-8 space-y-6",children:[K.jsx("h2",{className:"section-prefix text-3xl font-bold text-rpr-white text-center mb-6",children:"Decision Audit Trail"}),t.length===0?K.jsx("p",{className:"text-gray-400 text-center",children:"No decisions found matching your criteria."}):K.jsx("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto custom-scrollbar p-2",children:t.map((n,r)=>K.jsxs("div",{className:"card-style p-4 shadow-sm hover:shadow-md transition duration-150 ease-in-out",children:[K.jsx("h3",{className:"section-prefix text-lg font-bold text-rpr-white mb-2",children:n.decision}),K.jsxs("p",{className:"text-sm text-gray-300 mb-2",children:["Rationale: ",n.rationale]}),K.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400",children:[K.jsxs("span",{children:["Authority: ",K.jsx("span",{className:"font-medium text-rpr-cyan",children:n.authority.replace("_"," ").toUpperCase()})]}),K.jsxs("span",{children:["Date: ",xc(n.timestamp)]})]}),n.sourceSessionId&&K.jsx("div",{className:"mt-3 text-right",children:K.jsxs(to,{onClick:()=>e(n.sourceSessionId),variant:"secondary",size:"sm",children:["View Source Session: ",n.sourceSessionId]})})]},r))})]}),Ide=(t,e)=>JSON.stringify({artifact_metadata:{filename:e.title,drive_path:e.drivePath||"N/A",purpose:"Statutory validation / Forensic artifact",related_session:t.sessionId,agents_involved:t.agentsInvolved,classification:t.classification,version_authority:"RPR-KONTROL v1.0",generated_at:new Date().toISOString()}},null,2),Pde=({artifacts:t,projectScope:e,currentSession:n})=>{const[r,i]=C.useState(""),[o,s]=C.useState(Ht.CODE),[u,c]=C.useState(""),[f,h]=C.useState(""),p={};t.forEach(v=>{let T="Uncategorized";if(v.drivePath){const w=v.drivePath.split("/").filter(Boolean);T=w[w.length-1]||"Drive Root"}else switch(v.type){case Ht.PRD:case Ht.SPEC:T="Specs";break;case Ht.SCHEMA:T="Schemas";break;case Ht.NOTEBOOK:T="Forensics";break;case Ht.CODE:T="Code";break;case Ht.GOVERNANCE_DOC:T="Governance";break;case Ht.DEPLOYMENT:T="Deployments";break}p[T]||(p[T]=[]),p[T].push(v)});const g=()=>{if(!n||!r||!u){alert("Please fill in all artifact details and ensure an active session is loaded to generate metadata.");return}const T=Ide(n,{title:r,drivePath:u});h(T),console.log("Generated Artifact Metadata (Simulated Save):",T)};return K.jsxs("div",{className:"card-style p-6 max-w-4xl mx-auto my-8 space-y-6",children:[K.jsx("h2",{className:"section-prefix text-3xl font-bold text-rpr-white text-center mb-6",children:"Artifact Explorer"}),Object.keys(p).length===0?K.jsx("p",{className:"text-gray-400 text-center",children:"No artifacts found for the selected criteria."}):K.jsx("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto custom-scrollbar p-2",children:Object.entries(p).map(([v,T])=>K.jsxs("div",{className:"bg-rpr-charcoal p-4 rounded-md border border-rpr-slate",children:[K.jsx("h3",{className:"section-prefix text-xl font-semibold text-rpr-cyan mb-3",children:v.toUpperCase()}),K.jsx("ul",{className:"space-y-2 text-rpr-white",children:T.map((w,A)=>K.jsxs("li",{className:"flex items-start justify-between bg-rpr-slate p-2 rounded-sm border border-rpr-charcoal",children:[K.jsxs("span",{className:"text-sm font-medium",children:[w.title," (v",w.version,")",w.filePath&&K.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",w.filePath,")"]})]}),w.driveFileId?K.jsxs("a",{href:$9(w.driveFileId)||"#",target:"_blank",rel:"noopener noreferrer",className:"text-rpr-cyan hover:underline text-sm flex items-center gap-1 ml-4 flex-shrink-0",children:["View in Drive",K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:K.jsx("path",{d:"M19.5 7.5l-1.221 1.221A3.75 3.75 0 0015 9.75a3.75 3.75 0 00-2.479.879L12 10.5l-1.221-1.221A3.75 3.75 0 007.5 7.5c-1.637 0-3.185.676-4.221 1.855l-.16.173a.75.75 0 001.076 1.054l.16-.174a2.25 2.25 0 013.064-.374l1.221 1.222a.75.75 0 001.06 0l1.221-1.222a2.25 2.25 0 013.064.374l.16.173a.75.75 0 101.075-1.053l-.16-.174C20.685 8.176 19.137 7.5 17.5 7.5z"})})]}):w.uri&&w.type===Ht.DEPLOYMENT?K.jsxs("a",{href:w.uri,target:"_blank",rel:"noopener noreferrer",className:"text-rpr-cyan hover:underline text-sm flex items-center gap-1 ml-4 flex-shrink-0",children:["Live Link",K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:K.jsx("path",{fillRule:"evenodd",d:"M19.902 4.098a3.75 3.75 0 00-5.304 0l-7.207 7.207a3.75 3.75 0 005.304 5.304L17.704 14.25H10.5a.75.75 0 000 1.5h11.25v-4.5l-3.513-3.513zm-9.302 1.2a1.5 1.5 0 00-2.121 0c-.293.293-.455.698-.455 1.116V19.5a2.25 2.25 0 002.25 2.25h10.5a2.25 2.25 0 002.25-2.25V6.75a2.25 2.25 0 00-2.25-2.25H9.9z",clipRule:"evenodd"})})]}):K.jsx("span",{className:"text-gray-500 text-xs ml-4 flex-shrink-0",children:"No Drive Link"})]},A))})]},v))}),K.jsxs("div",{className:"card-style p-4 mt-8 space-y-4",children:[K.jsx("h3",{className:"section-prefix text-xl font-bold text-rpr-white mb-4",children:"Add New Artifact (Simulated)"}),!n&&K.jsx("p",{className:"text-red-400 mb-4",children:"An active session is required to add new artifacts and generate metadata."}),K.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[K.jsxs("div",{children:[K.jsx("label",{htmlFor:"artifactTitle",className:"block text-rpr-white text-sm font-bold mb-2",children:"Artifact Title"}),K.jsx("input",{type:"text",id:"artifactTitle",className:"input-style",value:r,onChange:v=>i(v.target.value),placeholder:"e.g., Q1 Financial Report",disabled:!n})]}),K.jsxs("div",{children:[K.jsx("label",{htmlFor:"artifactType",className:"block text-rpr-white text-sm font-bold mb-2",children:"Artifact Type"}),K.jsx("select",{id:"artifactType",className:"input-style",value:o,onChange:v=>s(v.target.value),disabled:!n,children:Object.values(Ht).map(v=>K.jsx("option",{value:v,children:v.charAt(0).toUpperCase()+v.slice(1)},v))})]}),K.jsxs("div",{className:"md:col-span-2",children:[K.jsx("label",{htmlFor:"artifactDrivePath",className:"block text-rpr-white text-sm font-bold mb-2",children:"Drive Path (e.g., RPR-KONTROL-DOCUMENTS/MYAUDIT/specs/)"}),K.jsx("input",{type:"text",id:"artifactDrivePath",className:"input-style",value:u,onChange:v=>c(v.target.value),placeholder:"RPR-KONTROL-DOCUMENTS/PROJECT_NAME/folder/",disabled:!n})]})]}),K.jsx("div",{className:"text-center mt-6",children:K.jsx(to,{onClick:g,disabled:!n||!r||!u,variant:"primary",children:"Generate Metadata (Simulate Save)"})}),f&&K.jsxs("div",{className:"mt-4 p-3 bg-rpr-slate rounded-md text-sm break-all",children:[K.jsx("h4",{className:"font-bold text-rpr-cyan mb-2",children:"// GENERATED_ARTIFACT_METADATA.json"}),K.jsx("pre",{className:"whitespace-pre-wrap text-gray-200 custom-scrollbar max-h-40 overflow-y-auto",children:f}),K.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"// In a live system, this metadata would be uploaded alongside the artifact file to Google Drive."})]})]})]})};var Rde={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Nde,Ode;function Mde(){return{geminiUrl:Nde,vertexUrl:Ode}}function Dde(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=Mde();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ts{}function we(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function _(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];_(h,e.slice(o+1),n[f])}else for(const f of c)_(f,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];_(c[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function y(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(u=>y(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function kde(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&o.length>u)for(let c=u;c<o.length;c++){const f=o[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}tw(t,i,o,0,s)}}function tw(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const c of u[s])tw(c,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of u)c[f]=s[f];for(const[f,h]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(f):p.push(g);_(s,p,h)}for(const f of u)delete s[f]}}else{const s=t;o in s&&tw(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fx(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lde(t){const e={},n=y(t,["operationName"]);n!=null&&_(e,["operationName"],n);const r=y(t,["resourceName"]);return r!=null&&_(e,["_url","resourceName"],r),e}function Ude(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const o=y(t,["error"]);o!=null&&_(e,["error"],o);const s=y(t,["response","generateVideoResponse"]);return s!=null&&_(e,["response"],Bde(s)),e}function Vde(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const o=y(t,["error"]);o!=null&&_(e,["error"],o);const s=y(t,["response"]);return s!=null&&_(e,["response"],Fde(s)),e}function Bde(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>zde(s))),_(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function Fde(t){const e={},n=y(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>qde(s))),_(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function zde(t){const e={},n=y(t,["video"]);return n!=null&&_(e,["video"],Yde(n)),e}function qde(t){const e={},n=y(t,["_self"]);return n!=null&&_(e,["video"],Wde(n)),e}function Hde(t){const e={},n=y(t,["operationName"]);return n!=null&&_(e,["_url","operationName"],n),e}function Gde(t){const e={},n=y(t,["operationName"]);return n!=null&&_(e,["_url","operationName"],n),e}function jde(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const o=y(t,["error"]);o!=null&&_(e,["error"],o);const s=y(t,["response"]);return s!=null&&_(e,["response"],$de(s)),e}function $de(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&_(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function r6(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const o=y(t,["error"]);o!=null&&_(e,["error"],o);const s=y(t,["response"]);return s!=null&&_(e,["response"],Kde(s)),e}function Kde(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&_(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function Yde(t){const e={},n=y(t,["uri"]);n!=null&&_(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&_(e,["videoBytes"],Fx(r));const i=y(t,["encoding"]);return i!=null&&_(e,["mimeType"],i),e}function Wde(t){const e={},n=y(t,["gcsUri"]);n!=null&&_(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&_(e,["videoBytes"],Fx(r));const i=y(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var o2;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(o2||(o2={}));var a2;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(a2||(a2={}));var s2;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(s2||(s2={}));var Gs;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Gs||(Gs={}));var l2;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(l2||(l2={}));var u2;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(u2||(u2={}));var c2;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(c2||(c2={}));var f2;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(f2||(f2={}));var d2;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(d2||(d2={}));var h2;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(h2||(h2={}));var p2;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(p2||(p2={}));var m2;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(m2||(m2={}));var g2;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(g2||(g2={}));var y2;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(y2||(y2={}));var v2;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(v2||(v2={}));var _2;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(_2||(_2={}));var E2;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(E2||(E2={}));var S2;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(S2||(S2={}));var b2;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(b2||(b2={}));var T2;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(T2||(T2={}));var w2;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(w2||(w2={}));var Dy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Dy||(Dy={}));var A2;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(A2||(A2={}));var x2;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(x2||(x2={}));var C2;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(C2||(C2={}));var nw;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(nw||(nw={}));var I2;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(I2||(I2={}));var P2;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(P2||(P2={}));var R2;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(R2||(R2={}));var N2;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(N2||(N2={}));var O2;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(O2||(O2={}));var M2;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(M2||(M2={}));var D2;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(D2||(D2={}));var k2;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(k2||(k2={}));var L2;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(L2||(L2={}));var U2;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(U2||(U2={}));var V2;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(V2||(V2={}));var B2;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(B2||(B2={}));var F2;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(F2||(F2={}));var z2;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(z2||(z2={}));var q2;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(q2||(q2={}));var H2;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(H2||(H2={}));var G2;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(G2||(G2={}));var j2;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(j2||(j2={}));var $2;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})($2||($2={}));var K2;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(K2||(K2={}));var Y2;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Y2||(Y2={}));var W2;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(W2||(W2={}));var J2;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(J2||(J2={}));var X2;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(X2||(X2={}));var Q2;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Q2||(Q2={}));var Z2;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Z2||(Z2={}));var eL;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(eL||(eL={}));var tL;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(tL||(tL={}));var nL;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(nL||(nL={}));var Tc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Tc||(Tc={}));class rw{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Fd{get text(){var e,n,r,i,o,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const g of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[v,T]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(T!==null||T!==void 0)&&p.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,o,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,v]of Object.entries(p))g!=="inlineData"&&(v!==null||v!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,o,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,o,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,o,s,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class rL{}class iL{}class Jde{}class Xde{}class Qde{}class Zde{}class oL{}class aL{}class sL{}class ehe{}class ky{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ky;let i;const o=e;return n?i=Vde(o):i=Ude(o),Object.assign(r,i),r}}class lL{}class uL{}class cL{}class fL{}class the{}class nhe{}class rhe{}class zx{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new zx,o=jde(e);return Object.assign(r,o),r}}class ihe{}class ohe{}class ahe{}class dL{}class she{get text(){var e,n,r;let i="",o=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class lhe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class qx{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new qx,o=r6(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function i6(t,e){const n=pt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function o6(t){return Array.isArray(t)?t.map(e=>Ly(e)):[Ly(t)]}function Ly(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function a6(t){const e=Ly(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function s6(t){const e=Ly(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function hL(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function l6(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>hL(e)):[hL(t)]}function iw(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function pL(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function mL(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function vr(t){if(t==null)throw new Error("ContentUnion is required");return iw(t)?t:{role:"user",parts:l6(t)}}function Hx(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=vr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=vr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>vr(n)):[vr(e)]}function Pi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(pL(t)||mL(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vr(t)]}const e=[],n=[],r=iw(t[0]);for(const i of t){const o=iw(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(pL(i)||mL(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:l6(n)}),e}function uhe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Gs).includes(n[0].toUpperCase())?n[0].toUpperCase():Gs.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Gs).includes(r.toUpperCase())?r.toUpperCase():Gs.TYPE_UNSPECIFIED})}}function Nc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&uhe(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Gs).includes(u.toUpperCase())?u.toUpperCase():Gs.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Nc(u);else if(r.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Nc(f))}e[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(u))c[f]=Nc(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Gx(t){return Nc(t)}function jx(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function $x(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ef(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Nc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Nc(e.response));return t}function Sf(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function che(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ns(t,e){if(typeof e!="string")throw new Error("name must be a string");return che(t,e,"cachedContents")}function u6(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function al(t){return Fx(t)}function fhe(t){return t!=null&&typeof t=="object"&&"name"in t}function dhe(t){return t!=null&&typeof t=="object"&&"video"in t}function hhe(t){return t!=null&&typeof t=="object"&&"uri"in t}function c6(t){var e;let n;if(fhe(t)&&(n=t.name),!(hhe(t)&&(n=t.uri,n===void 0))&&!(dhe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function f6(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function d6(t){for(const e of["models","tunedModels","publisherModels"])if(phe(t,e))return t[e];return[]}function phe(t,e){return t!==null&&typeof t=="object"&&e in t}function mhe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ghe(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=mhe(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function h6(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function yhe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function p6(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function bf(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function m6(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vhe(t){const e={},n=y(t,["responsesFile"]);n!=null&&_(e,["fileName"],n);const r=y(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Qhe(s))),_(e,["inlinedResponses"],o)}const i=y(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),_(e,["inlinedEmbedContentResponses"],o)}return e}function _he(t){const e={},n=y(t,["predictionsFormat"]);n!=null&&_(e,["format"],n);const r=y(t,["gcsDestination","outputUriPrefix"]);r!=null&&_(e,["gcsUri"],r);const i=y(t,["bigqueryDestination","outputUri"]);return i!=null&&_(e,["bigqueryUri"],i),e}function Ehe(t){const e={},n=y(t,["format"]);n!=null&&_(e,["predictionsFormat"],n);const r=y(t,["gcsUri"]);r!=null&&_(e,["gcsDestination","outputUriPrefix"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&_(e,["bigqueryDestination","outputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ag(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata","displayName"]);r!=null&&_(e,["displayName"],r);const i=y(t,["metadata","state"]);i!=null&&_(e,["state"],m6(i));const o=y(t,["metadata","createTime"]);o!=null&&_(e,["createTime"],o);const s=y(t,["metadata","endTime"]);s!=null&&_(e,["endTime"],s);const u=y(t,["metadata","updateTime"]);u!=null&&_(e,["updateTime"],u);const c=y(t,["metadata","model"]);c!=null&&_(e,["model"],c);const f=y(t,["metadata","output"]);return f!=null&&_(e,["dest"],vhe(p6(f))),e}function ow(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=y(t,["state"]);i!=null&&_(e,["state"],m6(i));const o=y(t,["error"]);o!=null&&_(e,["error"],o);const s=y(t,["createTime"]);s!=null&&_(e,["createTime"],s);const u=y(t,["startTime"]);u!=null&&_(e,["startTime"],u);const c=y(t,["endTime"]);c!=null&&_(e,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&_(e,["updateTime"],f);const h=y(t,["model"]);h!=null&&_(e,["model"],h);const p=y(t,["inputConfig"]);p!=null&&_(e,["src"],She(p));const g=y(t,["outputConfig"]);g!=null&&_(e,["dest"],_he(p6(g)));const v=y(t,["completionStats"]);return v!=null&&_(e,["completionStats"],v),e}function She(t){const e={},n=y(t,["instancesFormat"]);n!=null&&_(e,["format"],n);const r=y(t,["gcsSource","uris"]);r!=null&&_(e,["gcsUri"],r);const i=y(t,["bigquerySource","inputUri"]);return i!=null&&_(e,["bigqueryUri"],i),e}function bhe(t,e){const n={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&_(n,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Xhe(t,s))),_(n,["requests","requests"],o)}return n}function The(t){const e={},n=y(t,["format"]);n!=null&&_(e,["instancesFormat"],n);const r=y(t,["gcsUri"]);r!=null&&_(e,["gcsSource","uris"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&_(e,["bigquerySource","inputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function whe(t){const e={},n=y(t,["data"]);if(n!=null&&_(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Ahe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],bf(t,r)),n}function xhe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],bf(t,r)),n}function Che(t){const e={},n=y(t,["content"]);n!=null&&_(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&_(e,["citationMetadata"],Ihe(r));const i=y(t,["tokenCount"]);i!=null&&_(e,["tokenCount"],i);const o=y(t,["finishReason"]);o!=null&&_(e,["finishReason"],o);const s=y(t,["avgLogprobs"]);s!=null&&_(e,["avgLogprobs"],s);const u=y(t,["groundingMetadata"]);u!=null&&_(e,["groundingMetadata"],u);const c=y(t,["index"]);c!=null&&_(e,["index"],c);const f=y(t,["logprobsResult"]);f!=null&&_(e,["logprobsResult"],f);const h=y(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),_(e,["safetyRatings"],g)}const p=y(t,["urlContextMetadata"]);return p!=null&&_(e,["urlContextMetadata"],p),e}function Ihe(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),_(e,["citations"],r)}return e}function g6(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ope(o))),_(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&_(e,["role"],r),e}function Phe(t,e){const n={},r=y(t,["displayName"]);if(e!==void 0&&r!=null&&_(e,["batch","displayName"],r),y(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Rhe(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&_(e,["displayName"],r);const i=y(t,["dest"]);return e!==void 0&&i!=null&&_(e,["outputConfig"],Ehe(yhe(i))),n}function gL(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["src"]);i!=null&&_(n,["batch","inputConfig"],bhe(t,h6(t,i)));const o=y(e,["config"]);return o!=null&&Phe(o,n),n}function Nhe(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["model"],pt(t,r));const i=y(e,["src"]);i!=null&&_(n,["inputConfig"],The(h6(t,i)));const o=y(e,["config"]);return o!=null&&Rhe(o,n),n}function Ohe(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&_(e,["batch","displayName"],r),n}function Mhe(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["src"]);i!=null&&_(n,["batch","inputConfig"],Fhe(t,i));const o=y(e,["config"]);return o!=null&&Ohe(o,n),n}function Dhe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],bf(t,r)),n}function khe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],bf(t,r)),n}function Lhe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&_(e,["name"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const o=y(t,["error"]);return o!=null&&_(e,["error"],o),e}function Uhe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&_(e,["name"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const o=y(t,["error"]);return o!=null&&_(e,["error"],o),e}function Vhe(t,e){const n={},r=y(e,["contents"]);if(r!=null){let o=Hx(t,r);Array.isArray(o)&&(o=o.map(s=>s)),_(n,["requests[]","request","content"],o)}const i=y(e,["config"]);return i!=null&&(_(n,["_self"],Bhe(i,n)),kde(n,{"requests[].*":"requests[].request.*"})),n}function Bhe(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&_(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&_(e,["requests[]","title"],i);const o=y(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&_(e,["requests[]","outputDimensionality"],o),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Fhe(t,e){const n={},r=y(e,["fileName"]);r!=null&&_(n,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&_(n,["requests"],Vhe(t,i)),n}function zhe(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function qhe(t){const e={},n=y(t,["id"]);n!=null&&_(e,["id"],n);const r=y(t,["args"]);r!=null&&_(e,["args"],r);const i=y(t,["name"]);if(i!=null&&_(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hhe(t){const e={},n=y(t,["allowedFunctionNames"]);n!=null&&_(e,["allowedFunctionNames"],n);const r=y(t,["mode"]);if(r!=null&&_(e,["mode"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ghe(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&_(n,["systemInstruction"],g6(vr(i)));const o=y(e,["temperature"]);o!=null&&_(r,["temperature"],o);const s=y(e,["topP"]);s!=null&&_(r,["topP"],s);const u=y(e,["topK"]);u!=null&&_(r,["topK"],u);const c=y(e,["candidateCount"]);c!=null&&_(r,["candidateCount"],c);const f=y(e,["maxOutputTokens"]);f!=null&&_(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&_(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&_(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&_(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&_(r,["presencePenalty"],v);const T=y(e,["frequencyPenalty"]);T!=null&&_(r,["frequencyPenalty"],T);const w=y(e,["seed"]);w!=null&&_(r,["seed"],w);const A=y(e,["responseMimeType"]);A!=null&&_(r,["responseMimeType"],A);const I=y(e,["responseSchema"]);I!=null&&_(r,["responseSchema"],Gx(I));const D=y(e,["responseJsonSchema"]);if(D!=null&&_(r,["responseJsonSchema"],D),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=y(e,["safetySettings"]);if(n!==void 0&&k!=null){let F=k;Array.isArray(F)&&(F=F.map(ue=>ape(ue))),_(n,["safetySettings"],F)}const z=y(e,["tools"]);if(n!==void 0&&z!=null){let F=Sf(z);Array.isArray(F)&&(F=F.map(ue=>lpe(Ef(ue)))),_(n,["tools"],F)}const G=y(e,["toolConfig"]);if(n!==void 0&&G!=null&&_(n,["toolConfig"],spe(G)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=y(e,["cachedContent"]);n!==void 0&&L!=null&&_(n,["cachedContent"],ns(t,L));const N=y(e,["responseModalities"]);N!=null&&_(r,["responseModalities"],N);const M=y(e,["mediaResolution"]);M!=null&&_(r,["mediaResolution"],M);const O=y(e,["speechConfig"]);if(O!=null&&_(r,["speechConfig"],jx(O)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=y(e,["thinkingConfig"]);q!=null&&_(r,["thinkingConfig"],q);const B=y(e,["imageConfig"]);B!=null&&_(r,["imageConfig"],Jhe(B));const V=y(e,["enableEnhancedCivicAnswers"]);return V!=null&&_(r,["enableEnhancedCivicAnswers"],V),r}function jhe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Che(f))),_(e,["candidates"],c)}const i=y(t,["modelVersion"]);i!=null&&_(e,["modelVersion"],i);const o=y(t,["promptFeedback"]);o!=null&&_(e,["promptFeedback"],o);const s=y(t,["responseId"]);s!=null&&_(e,["responseId"],s);const u=y(t,["usageMetadata"]);return u!=null&&_(e,["usageMetadata"],u),e}function $he(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],bf(t,r)),n}function Khe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],bf(t,r)),n}function Yhe(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function Whe(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function Jhe(t){const e={},n=y(t,["aspectRatio"]);n!=null&&_(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&_(e,["imageSize"],r),y(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Xhe(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["request","model"],pt(t,r));const i=y(e,["contents"]);if(i!=null){let u=Pi(i);Array.isArray(u)&&(u=u.map(c=>g6(c))),_(n,["request","contents"],u)}const o=y(e,["metadata"]);o!=null&&_(n,["metadata"],o);const s=y(e,["config"]);return s!=null&&_(n,["request","generationConfig"],Ghe(t,s,y(n,["request"],{}))),n}function Qhe(t){const e={},n=y(t,["response"]);n!=null&&_(e,["response"],jhe(n));const r=y(t,["error"]);return r!=null&&_(e,["error"],r),e}function Zhe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);if(e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),y(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function epe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);e!==void 0&&i!=null&&_(e,["_query","pageToken"],i);const o=y(t,["filter"]);return e!==void 0&&o!=null&&_(e,["_query","filter"],o),n}function tpe(t){const e={},n=y(t,["config"]);return n!=null&&Zhe(n,e),e}function npe(t){const e={},n=y(t,["config"]);return n!=null&&epe(n,e),e}function rpe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Ag(s))),_(e,["batchJobs"],o)}return e}function ipe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ow(s))),_(e,["batchJobs"],o)}return e}function ope(t){const e={},n=y(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&_(e,["fileData"],zhe(o));const s=y(t,["functionCall"]);s!=null&&_(e,["functionCall"],qhe(s));const u=y(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&_(e,["inlineData"],whe(c));const f=y(t,["text"]);f!=null&&_(e,["text"],f);const h=y(t,["thought"]);h!=null&&_(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&_(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&_(e,["videoMetadata"],g),e}function ape(t){const e={},n=y(t,["category"]);if(n!=null&&_(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&_(e,["threshold"],r),e}function spe(t){const e={},n=y(t,["retrievalConfig"]);n!=null&&_(e,["retrievalConfig"],n);const r=y(t,["functionCallingConfig"]);return r!=null&&_(e,["functionCallingConfig"],Hhe(r)),e}function lpe(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&_(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&_(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),_(e,["functionDeclarations"],h)}const s=y(t,["googleMaps"]);s!=null&&_(e,["googleMaps"],Yhe(s));const u=y(t,["googleSearch"]);u!=null&&_(e,["googleSearch"],Whe(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&_(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&_(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ga;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ga||(Ga={}));class _u{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class upe extends ts{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _u(Ga.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=gL(this.apiClient,e),r=n._url,i=we("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const v=p.request;v.systemInstruction=g,p.request=v}f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Nhe(this.apiClient,e);return u=we("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>ow(h))}else{const f=gL(this.apiClient,e);return u=we("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Ag(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Mhe(this.apiClient,e);return o=we("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Ag(c))}}async get(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Khe(this.apiClient,e);return u=we("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>ow(h))}else{const f=$he(this.apiClient,e);return u=we("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Ag(h))}}async cancel(e){var n,r,i,o;let s="",u={};if(this.apiClient.isVertexAI()){const c=xhe(this.apiClient,e);s=we("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Ahe(this.apiClient,e);s=we("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=npe(e);return u=we("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=ipe(h),g=new dL;return Object.assign(g,p),g})}else{const f=tpe(e);return u=we("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=rpe(h),g=new dL;return Object.assign(g,p),g})}}async delete(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=khe(this.apiClient,e);return u=we("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Uhe(h))}else{const f=Dhe(this.apiClient,e);return u=we("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Lhe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cpe(t){const e={},n=y(t,["data"]);if(n!=null&&_(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function yL(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Mpe(o))),_(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&_(e,["role"],r),e}function fpe(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&_(e,["expireTime"],i);const o=y(t,["displayName"]);e!==void 0&&o!=null&&_(e,["displayName"],o);const s=y(t,["contents"]);if(e!==void 0&&s!=null){let h=Pi(s);Array.isArray(h)&&(h=h.map(p=>yL(p))),_(e,["contents"],h)}const u=y(t,["systemInstruction"]);e!==void 0&&u!=null&&_(e,["systemInstruction"],yL(vr(u)));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>kpe(p))),_(e,["tools"],h)}const f=y(t,["toolConfig"]);if(e!==void 0&&f!=null&&_(e,["toolConfig"],Dpe(f)),y(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function dpe(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&_(e,["expireTime"],i);const o=y(t,["displayName"]);e!==void 0&&o!=null&&_(e,["displayName"],o);const s=y(t,["contents"]);if(e!==void 0&&s!=null){let p=Pi(s);Array.isArray(p)&&(p=p.map(g=>g)),_(e,["contents"],p)}const u=y(t,["systemInstruction"]);e!==void 0&&u!=null&&_(e,["systemInstruction"],vr(u));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Lpe(g))),_(e,["tools"],p)}const f=y(t,["toolConfig"]);e!==void 0&&f!=null&&_(e,["toolConfig"],f);const h=y(t,["kmsKeyName"]);return e!==void 0&&h!=null&&_(e,["encryption_spec","kmsKeyName"],h),n}function hpe(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["model"],i6(t,r));const i=y(e,["config"]);return i!=null&&fpe(i,n),n}function ppe(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["model"],i6(t,r));const i=y(e,["config"]);return i!=null&&dpe(i,n),n}function mpe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],ns(t,r)),n}function gpe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],ns(t,r)),n}function ype(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function vpe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function _pe(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Epe(t){const e={},n=y(t,["id"]);n!=null&&_(e,["id"],n);const r=y(t,["args"]);r!=null&&_(e,["args"],r);const i=y(t,["name"]);if(i!=null&&_(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Spe(t){const e={},n=y(t,["allowedFunctionNames"]);n!=null&&_(e,["allowedFunctionNames"],n);const r=y(t,["mode"]);if(r!=null&&_(e,["mode"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bpe(t){const e={},n=y(t,["description"]);n!=null&&_(e,["description"],n);const r=y(t,["name"]);r!=null&&_(e,["name"],r);const i=y(t,["parameters"]);i!=null&&_(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&_(e,["parametersJsonSchema"],o);const s=y(t,["response"]);s!=null&&_(e,["response"],s);const u=y(t,["responseJsonSchema"]);if(u!=null&&_(e,["responseJsonSchema"],u),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Tpe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],ns(t,r)),n}function wpe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],ns(t,r)),n}function Ape(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function xpe(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function Cpe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function Ipe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function Ppe(t){const e={},n=y(t,["config"]);return n!=null&&Cpe(n,e),e}function Rpe(t){const e={},n=y(t,["config"]);return n!=null&&Ipe(n,e),e}function Npe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),_(e,["cachedContents"],o)}return e}function Ope(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),_(e,["cachedContents"],o)}return e}function Mpe(t){const e={},n=y(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&_(e,["fileData"],_pe(o));const s=y(t,["functionCall"]);s!=null&&_(e,["functionCall"],Epe(s));const u=y(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&_(e,["inlineData"],cpe(c));const f=y(t,["text"]);f!=null&&_(e,["text"],f);const h=y(t,["thought"]);h!=null&&_(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&_(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&_(e,["videoMetadata"],g),e}function Dpe(t){const e={},n=y(t,["retrievalConfig"]);n!=null&&_(e,["retrievalConfig"],n);const r=y(t,["functionCallingConfig"]);return r!=null&&_(e,["functionCallingConfig"],Spe(r)),e}function kpe(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&_(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&_(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),_(e,["functionDeclarations"],h)}const s=y(t,["googleMaps"]);s!=null&&_(e,["googleMaps"],Ape(s));const u=y(t,["googleSearch"]);u!=null&&_(e,["googleSearch"],xpe(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&_(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&_(e,["urlContext"],f),e}function Lpe(t){const e={},n=y(t,["retrieval"]);n!=null&&_(e,["retrieval"],n);const r=y(t,["computerUse"]);if(r!=null&&_(e,["computerUse"],r),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(t,["codeExecution"]);i!=null&&_(e,["codeExecution"],i);const o=y(t,["enterpriseWebSearch"]);o!=null&&_(e,["enterpriseWebSearch"],o);const s=y(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>bpe(g))),_(e,["functionDeclarations"],p)}const u=y(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],u);const c=y(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],c);const f=y(t,["googleSearchRetrieval"]);f!=null&&_(e,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&_(e,["urlContext"],h),e}function Upe(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&_(e,["expireTime"],i),n}function Vpe(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&_(e,["expireTime"],i),n}function Bpe(t,e){const n={},r=y(e,["name"]);r!=null&&_(n,["_url","name"],ns(t,r));const i=y(e,["config"]);return i!=null&&Upe(i,n),n}function Fpe(t,e){const n={},r=y(e,["name"]);r!=null&&_(n,["_url","name"],ns(t,r));const i=y(e,["config"]);return i!=null&&Vpe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zpe extends ts{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _u(Ga.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ppe(this.apiClient,e);return u=we("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=hpe(this.apiClient,e);return u=we("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=wpe(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=Tpe(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=gpe(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=vpe(h),g=new cL;return Object.assign(g,p),g})}else{const f=mpe(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=ype(h),g=new cL;return Object.assign(g,p),g})}}async update(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Fpe(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=Bpe(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Rpe(e);return u=we("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Ope(h),g=new fL;return Object.assign(g,p),g})}else{const f=Ppe(e);return u=we("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Npe(h),g=new fL;return Object.assign(g,p),g})}}}function Uy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(t){return this instanceof qe?(this.v=t,this):new qe(t)}function so(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(T){return Promise.resolve(T).then(v,p)}}function u(v,T){r[v]&&(i[v]=function(w){return new Promise(function(A,I){o.push([v,w,A,I])>1||c(v,w)})},T&&(i[v]=T(i[v])))}function c(v,T){try{f(r[v](T))}catch(w){g(o[0][3],w)}}function f(v){v.value instanceof qe?Promise.resolve(v.value.v).then(h,p):g(o[0][2],v)}function h(v){c("next",v)}function p(v){c("throw",v)}function g(v,T){v(T),o.shift(),o.length&&c(o[0][0],o[0][1])}}function lo(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof vL=="function"?vL(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(u,c){s=t[o](s),i(u,c,s.done,s.value)})}}function i(o,s,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qpe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:y6(n)}function y6(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Hpe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function _L(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!y6(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Gpe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new jpe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class jpe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Hpe(o)}async sendMessage(e){var n;await this.sendPromise;const r=vr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,u;const c=await i,f=(s=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(p))!==null&&u!==void 0?u:[]);const v=f?[f]:[];this.recordHistory(r,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=vr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?_L(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return so(this,arguments,function*(){var i,o,s,u,c,f;const h=[];try{for(var p=!0,g=lo(e),v;v=yield qe(g.next()),i=v.done,!i;p=!0){u=v.value,p=!1;const T=u;if(qpe(T)){const w=(f=(c=T.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;w!==void 0&&h.push(w)}yield yield qe(T)}}catch(T){o={error:T}}finally{try{!p&&!i&&(s=g.return)&&(yield qe(s.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(..._L(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n0 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,n0.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $pe(t){const e={},n=y(t,["file"]);return n!=null&&_(e,["file"],n),e}function Kpe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function Ype(t){const e={},n=y(t,["name"]);return n!=null&&_(e,["_url","file"],c6(n)),e}function Wpe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function Jpe(t){const e={},n=y(t,["name"]);return n!=null&&_(e,["_url","file"],c6(n)),e}function Xpe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function Qpe(t){const e={},n=y(t,["config"]);return n!=null&&Xpe(n,e),e}function Zpe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),_(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eme extends ts{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _u(Ga.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Qpe(e);return o=we("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Zpe(c),h=new ihe;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$pe(e);return o=we("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Kpe(c),h=new ohe;return Object.assign(h,f),h})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Jpe(e);return o=we("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ype(e);return o=we("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Wpe(c),h=new ahe;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xg(t){const e={},n=y(t,["data"]);if(n!=null&&_(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function tme(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yme(o))),_(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&_(e,["role"],r),e}function nme(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function rme(t){const e={},n=y(t,["id"]);n!=null&&_(e,["id"],n);const r=y(t,["args"]);r!=null&&_(e,["args"],r);const i=y(t,["name"]);if(i!=null&&_(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ime(t){const e={},n=y(t,["description"]);n!=null&&_(e,["description"],n);const r=y(t,["name"]);r!=null&&_(e,["name"],r);const i=y(t,["parameters"]);i!=null&&_(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&_(e,["parametersJsonSchema"],o);const s=y(t,["response"]);s!=null&&_(e,["response"],s);const u=y(t,["responseJsonSchema"]);if(u!=null&&_(e,["responseJsonSchema"],u),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function ome(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&_(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&_(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&_(e,["audioTimestamp"],i);const o=y(t,["candidateCount"]);o!=null&&_(e,["candidateCount"],o);const s=y(t,["enableAffectiveDialog"]);s!=null&&_(e,["enableAffectiveDialog"],s);const u=y(t,["frequencyPenalty"]);u!=null&&_(e,["frequencyPenalty"],u);const c=y(t,["logprobs"]);c!=null&&_(e,["logprobs"],c);const f=y(t,["maxOutputTokens"]);f!=null&&_(e,["maxOutputTokens"],f);const h=y(t,["mediaResolution"]);h!=null&&_(e,["mediaResolution"],h);const p=y(t,["presencePenalty"]);p!=null&&_(e,["presencePenalty"],p);const g=y(t,["responseLogprobs"]);g!=null&&_(e,["responseLogprobs"],g);const v=y(t,["responseMimeType"]);v!=null&&_(e,["responseMimeType"],v);const T=y(t,["responseModalities"]);T!=null&&_(e,["responseModalities"],T);const w=y(t,["responseSchema"]);w!=null&&_(e,["responseSchema"],w);const A=y(t,["routingConfig"]);A!=null&&_(e,["routingConfig"],A);const I=y(t,["seed"]);I!=null&&_(e,["seed"],I);const D=y(t,["speechConfig"]);D!=null&&_(e,["speechConfig"],D);const k=y(t,["stopSequences"]);k!=null&&_(e,["stopSequences"],k);const z=y(t,["temperature"]);z!=null&&_(e,["temperature"],z);const G=y(t,["thinkingConfig"]);G!=null&&_(e,["thinkingConfig"],G);const L=y(t,["topK"]);L!=null&&_(e,["topK"],L);const N=y(t,["topP"]);if(N!=null&&_(e,["topP"],N),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ame(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function sme(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function lme(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&_(e,["setup","generationConfig","temperature"],o);const s=y(t,["topP"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","topP"],s);const u=y(t,["topK"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&_(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&_(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&_(e,["setup","generationConfig","speechConfig"],$x(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&_(e,["setup","generationConfig","thinkingConfig"],g);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=y(t,["systemInstruction"]);e!==void 0&&T!=null&&_(e,["setup","systemInstruction"],tme(vr(T)));const w=y(t,["tools"]);if(e!==void 0&&w!=null){let L=Sf(w);Array.isArray(L)&&(L=L.map(N=>_me(Ef(N)))),_(e,["setup","tools"],L)}const A=y(t,["sessionResumption"]);e!==void 0&&A!=null&&_(e,["setup","sessionResumption"],vme(A));const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&_(e,["setup","inputAudioTranscription"],I);const D=y(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&_(e,["setup","outputAudioTranscription"],D);const k=y(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&_(e,["setup","realtimeInputConfig"],k);const z=y(t,["contextWindowCompression"]);e!==void 0&&z!=null&&_(e,["setup","contextWindowCompression"],z);const G=y(t,["proactivity"]);if(e!==void 0&&G!=null&&_(e,["setup","proactivity"],G),y(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function ume(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],ome(r));const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&_(e,["setup","generationConfig","temperature"],o);const s=y(t,["topP"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","topP"],s);const u=y(t,["topK"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&_(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&_(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&_(e,["setup","generationConfig","speechConfig"],$x(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&_(e,["setup","generationConfig","thinkingConfig"],g);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=y(t,["systemInstruction"]);e!==void 0&&T!=null&&_(e,["setup","systemInstruction"],vr(T));const w=y(t,["tools"]);if(e!==void 0&&w!=null){let N=Sf(w);Array.isArray(N)&&(N=N.map(M=>Eme(Ef(M)))),_(e,["setup","tools"],N)}const A=y(t,["sessionResumption"]);e!==void 0&&A!=null&&_(e,["setup","sessionResumption"],A);const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&_(e,["setup","inputAudioTranscription"],I);const D=y(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&_(e,["setup","outputAudioTranscription"],D);const k=y(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&_(e,["setup","realtimeInputConfig"],k);const z=y(t,["contextWindowCompression"]);e!==void 0&&z!=null&&_(e,["setup","contextWindowCompression"],z);const G=y(t,["proactivity"]);e!==void 0&&G!=null&&_(e,["setup","proactivity"],G);const L=y(t,["explicitVadSignal"]);return e!==void 0&&L!=null&&_(e,["setup","explicitVadSignal"],L),n}function cme(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["setup","model"],pt(t,r));const i=y(e,["config"]);return i!=null&&_(n,["config"],lme(i,n)),n}function fme(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["setup","model"],pt(t,r));const i=y(e,["config"]);return i!=null&&_(n,["config"],ume(i,n)),n}function dme(t){const e={},n=y(t,["musicGenerationConfig"]);return n!=null&&_(e,["musicGenerationConfig"],n),e}function hme(t){const e={},n=y(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),_(e,["weightedPrompts"],r)}return e}function pme(t){const e={},n=y(t,["media"]);if(n!=null){let f=o6(n);Array.isArray(f)&&(f=f.map(h=>xg(h))),_(e,["mediaChunks"],f)}const r=y(t,["audio"]);r!=null&&_(e,["audio"],xg(s6(r)));const i=y(t,["audioStreamEnd"]);i!=null&&_(e,["audioStreamEnd"],i);const o=y(t,["video"]);o!=null&&_(e,["video"],xg(a6(o)));const s=y(t,["text"]);s!=null&&_(e,["text"],s);const u=y(t,["activityStart"]);u!=null&&_(e,["activityStart"],u);const c=y(t,["activityEnd"]);return c!=null&&_(e,["activityEnd"],c),e}function mme(t){const e={},n=y(t,["media"]);if(n!=null){let f=o6(n);Array.isArray(f)&&(f=f.map(h=>h)),_(e,["mediaChunks"],f)}const r=y(t,["audio"]);r!=null&&_(e,["audio"],s6(r));const i=y(t,["audioStreamEnd"]);i!=null&&_(e,["audioStreamEnd"],i);const o=y(t,["video"]);o!=null&&_(e,["video"],a6(o));const s=y(t,["text"]);s!=null&&_(e,["text"],s);const u=y(t,["activityStart"]);u!=null&&_(e,["activityStart"],u);const c=y(t,["activityEnd"]);return c!=null&&_(e,["activityEnd"],c),e}function gme(t){const e={},n=y(t,["setupComplete"]);n!=null&&_(e,["setupComplete"],n);const r=y(t,["serverContent"]);r!=null&&_(e,["serverContent"],r);const i=y(t,["toolCall"]);i!=null&&_(e,["toolCall"],i);const o=y(t,["toolCallCancellation"]);o!=null&&_(e,["toolCallCancellation"],o);const s=y(t,["usageMetadata"]);s!=null&&_(e,["usageMetadata"],Sme(s));const u=y(t,["goAway"]);u!=null&&_(e,["goAway"],u);const c=y(t,["sessionResumptionUpdate"]);c!=null&&_(e,["sessionResumptionUpdate"],c);const f=y(t,["voiceActivityDetectionSignal"]);f!=null&&_(e,["voiceActivityDetectionSignal"],f);const h=y(t,["voiceActivity"]);return h!=null&&_(e,["voiceActivity"],bme(h)),e}function yme(t){const e={},n=y(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&_(e,["fileData"],nme(o));const s=y(t,["functionCall"]);s!=null&&_(e,["functionCall"],rme(s));const u=y(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&_(e,["inlineData"],xg(c));const f=y(t,["text"]);f!=null&&_(e,["text"],f);const h=y(t,["thought"]);h!=null&&_(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&_(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&_(e,["videoMetadata"],g),e}function vme(t){const e={},n=y(t,["handle"]);if(n!=null&&_(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _me(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&_(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&_(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),_(e,["functionDeclarations"],h)}const s=y(t,["googleMaps"]);s!=null&&_(e,["googleMaps"],ame(s));const u=y(t,["googleSearch"]);u!=null&&_(e,["googleSearch"],sme(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&_(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&_(e,["urlContext"],f),e}function Eme(t){const e={},n=y(t,["retrieval"]);n!=null&&_(e,["retrieval"],n);const r=y(t,["computerUse"]);if(r!=null&&_(e,["computerUse"],r),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(t,["codeExecution"]);i!=null&&_(e,["codeExecution"],i);const o=y(t,["enterpriseWebSearch"]);o!=null&&_(e,["enterpriseWebSearch"],o);const s=y(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>ime(g))),_(e,["functionDeclarations"],p)}const u=y(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],u);const c=y(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],c);const f=y(t,["googleSearchRetrieval"]);f!=null&&_(e,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&_(e,["urlContext"],h),e}function Sme(t){const e={},n=y(t,["promptTokenCount"]);n!=null&&_(e,["promptTokenCount"],n);const r=y(t,["cachedContentTokenCount"]);r!=null&&_(e,["cachedContentTokenCount"],r);const i=y(t,["candidatesTokenCount"]);i!=null&&_(e,["responseTokenCount"],i);const o=y(t,["toolUsePromptTokenCount"]);o!=null&&_(e,["toolUsePromptTokenCount"],o);const s=y(t,["thoughtsTokenCount"]);s!=null&&_(e,["thoughtsTokenCount"],s);const u=y(t,["totalTokenCount"]);u!=null&&_(e,["totalTokenCount"],u);const c=y(t,["promptTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(T=>T)),_(e,["promptTokensDetails"],v)}const f=y(t,["cacheTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),_(e,["cacheTokensDetails"],v)}const h=y(t,["candidatesTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(T=>T)),_(e,["responseTokensDetails"],v)}const p=y(t,["toolUsePromptTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(T=>T)),_(e,["toolUsePromptTokensDetails"],v)}const g=y(t,["trafficType"]);return g!=null&&_(e,["trafficType"],g),e}function bme(t){const e={},n=y(t,["type"]);return n!=null&&_(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tme(t){const e={},n=y(t,["data"]);if(n!=null&&_(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function wme(t){const e={},n=y(t,["content"]);n!=null&&_(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&_(e,["citationMetadata"],Ame(r));const i=y(t,["tokenCount"]);i!=null&&_(e,["tokenCount"],i);const o=y(t,["finishReason"]);o!=null&&_(e,["finishReason"],o);const s=y(t,["avgLogprobs"]);s!=null&&_(e,["avgLogprobs"],s);const u=y(t,["groundingMetadata"]);u!=null&&_(e,["groundingMetadata"],u);const c=y(t,["index"]);c!=null&&_(e,["index"],c);const f=y(t,["logprobsResult"]);f!=null&&_(e,["logprobsResult"],f);const h=y(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),_(e,["safetyRatings"],g)}const p=y(t,["urlContextMetadata"]);return p!=null&&_(e,["urlContextMetadata"],p),e}function Ame(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),_(e,["citations"],r)}return e}function xme(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["contents"]);if(i!=null){let o=Pi(i);Array.isArray(o)&&(o=o.map(s=>s)),_(n,["contents"],o)}return n}function Cme(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),_(e,["tokensInfo"],i)}return e}function Ime(t){const e={},n=y(t,["values"]);n!=null&&_(e,["values"],n);const r=y(t,["statistics"]);return r!=null&&_(e,["statistics"],Pme(r)),e}function Pme(t){const e={},n=y(t,["truncated"]);n!=null&&_(e,["truncated"],n);const r=y(t,["token_count"]);return r!=null&&_(e,["tokenCount"],r),e}function r0(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Vge(o))),_(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&_(e,["role"],r),e}function Rme(t){const e={},n=y(t,["controlType"]);n!=null&&_(e,["controlType"],n);const r=y(t,["enableControlImageComputation"]);return r!=null&&_(e,["computeControl"],r),e}function Nme(t){const e={};if(y(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Ome(t,e){const n={},r=y(t,["systemInstruction"]);e!==void 0&&r!=null&&_(e,["systemInstruction"],vr(r));const i=y(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>S6(u))),_(e,["tools"],s)}const o=y(t,["generationConfig"]);return e!==void 0&&o!=null&&_(e,["generationConfig"],Tge(o)),n}function Mme(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["contents"]);if(i!=null){let s=Pi(i);Array.isArray(s)&&(s=s.map(u=>r0(u))),_(n,["contents"],s)}const o=y(e,["config"]);return o!=null&&Nme(o),n}function Dme(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["contents"]);if(i!=null){let s=Pi(i);Array.isArray(s)&&(s=s.map(u=>u)),_(n,["contents"],s)}const o=y(e,["config"]);return o!=null&&Ome(o,n),n}function kme(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);r!=null&&_(e,["totalTokens"],r);const i=y(t,["cachedContentTokenCount"]);return i!=null&&_(e,["cachedContentTokenCount"],i),e}function Lme(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);return r!=null&&_(e,["totalTokens"],r),e}function Ume(t,e){const n={},r=y(e,["model"]);return r!=null&&_(n,["_url","name"],pt(t,r)),n}function Vme(t,e){const n={},r=y(e,["model"]);return r!=null&&_(n,["_url","name"],pt(t,r)),n}function Bme(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function Fme(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function zme(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&_(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&_(e,["parameters","negativePrompt"],i);const o=y(t,["numberOfImages"]);e!==void 0&&o!=null&&_(e,["parameters","sampleCount"],o);const s=y(t,["aspectRatio"]);e!==void 0&&s!=null&&_(e,["parameters","aspectRatio"],s);const u=y(t,["guidanceScale"]);e!==void 0&&u!=null&&_(e,["parameters","guidanceScale"],u);const c=y(t,["seed"]);e!==void 0&&c!=null&&_(e,["parameters","seed"],c);const f=y(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&_(e,["parameters","safetySetting"],f);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&_(e,["parameters","personGeneration"],h);const p=y(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&_(e,["parameters","includeSafetyAttributes"],p);const g=y(t,["includeRaiReason"]);e!==void 0&&g!=null&&_(e,["parameters","includeRaiReason"],g);const v=y(t,["language"]);e!==void 0&&v!=null&&_(e,["parameters","language"],v);const T=y(t,["outputMimeType"]);e!==void 0&&T!=null&&_(e,["parameters","outputOptions","mimeType"],T);const w=y(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&_(e,["parameters","outputOptions","compressionQuality"],w);const A=y(t,["addWatermark"]);e!==void 0&&A!=null&&_(e,["parameters","addWatermark"],A);const I=y(t,["labels"]);e!==void 0&&I!=null&&_(e,["labels"],I);const D=y(t,["editMode"]);e!==void 0&&D!=null&&_(e,["parameters","editMode"],D);const k=y(t,["baseSteps"]);return e!==void 0&&k!=null&&_(e,["parameters","editConfig","baseSteps"],k),n}function qme(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const o=y(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Gge(c))),_(n,["instances[0]","referenceImages"],u)}const s=y(e,["config"]);return s!=null&&zme(s,n),n}function Hme(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>i0(o))),_(e,["generatedImages"],i)}return e}function Gme(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&_(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&_(e,["requests[]","title"],i);const o=y(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&_(e,["requests[]","outputDimensionality"],o),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function jme(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&_(e,["instances[]","task_type"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&_(e,["instances[]","title"],i);const o=y(t,["outputDimensionality"]);e!==void 0&&o!=null&&_(e,["parameters","outputDimensionality"],o);const s=y(t,["mimeType"]);e!==void 0&&s!=null&&_(e,["instances[]","mimeType"],s);const u=y(t,["autoTruncate"]);return e!==void 0&&u!=null&&_(e,["parameters","autoTruncate"],u),n}function $me(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["contents"]);if(i!=null){let u=Hx(t,i);Array.isArray(u)&&(u=u.map(c=>c)),_(n,["requests[]","content"],u)}const o=y(e,["config"]);o!=null&&Gme(o,n);const s=y(e,["model"]);return s!==void 0&&_(n,["requests[]","model"],pt(t,s)),n}function Kme(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["contents"]);if(i!=null){let s=Hx(t,i);Array.isArray(s)&&(s=s.map(u=>u)),_(n,["instances[]","content"],s)}const o=y(e,["config"]);return o!=null&&jme(o,n),n}function Yme(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),_(e,["embeddings"],o)}const i=y(t,["metadata"]);return i!=null&&_(e,["metadata"],i),e}function Wme(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Ime(s))),_(e,["embeddings"],o)}const i=y(t,["metadata"]);return i!=null&&_(e,["metadata"],i),e}function Jme(t){const e={},n=y(t,["endpoint"]);n!=null&&_(e,["name"],n);const r=y(t,["deployedModelId"]);return r!=null&&_(e,["deployedModelId"],r),e}function Xme(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Qme(t){const e={},n=y(t,["id"]);n!=null&&_(e,["id"],n);const r=y(t,["args"]);r!=null&&_(e,["args"],r);const i=y(t,["name"]);if(i!=null&&_(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Zme(t){const e={},n=y(t,["allowedFunctionNames"]);n!=null&&_(e,["allowedFunctionNames"],n);const r=y(t,["mode"]);if(r!=null&&_(e,["mode"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ege(t){const e={},n=y(t,["description"]);n!=null&&_(e,["description"],n);const r=y(t,["name"]);r!=null&&_(e,["name"],r);const i=y(t,["parameters"]);i!=null&&_(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&_(e,["parametersJsonSchema"],o);const s=y(t,["response"]);s!=null&&_(e,["response"],s);const u=y(t,["responseJsonSchema"]);if(u!=null&&_(e,["responseJsonSchema"],u),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function tge(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&_(n,["systemInstruction"],r0(vr(i)));const o=y(e,["temperature"]);o!=null&&_(r,["temperature"],o);const s=y(e,["topP"]);s!=null&&_(r,["topP"],s);const u=y(e,["topK"]);u!=null&&_(r,["topK"],u);const c=y(e,["candidateCount"]);c!=null&&_(r,["candidateCount"],c);const f=y(e,["maxOutputTokens"]);f!=null&&_(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&_(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&_(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&_(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&_(r,["presencePenalty"],v);const T=y(e,["frequencyPenalty"]);T!=null&&_(r,["frequencyPenalty"],T);const w=y(e,["seed"]);w!=null&&_(r,["seed"],w);const A=y(e,["responseMimeType"]);A!=null&&_(r,["responseMimeType"],A);const I=y(e,["responseSchema"]);I!=null&&_(r,["responseSchema"],Gx(I));const D=y(e,["responseJsonSchema"]);if(D!=null&&_(r,["responseJsonSchema"],D),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=y(e,["safetySettings"]);if(n!==void 0&&k!=null){let F=k;Array.isArray(F)&&(F=F.map(ue=>jge(ue))),_(n,["safetySettings"],F)}const z=y(e,["tools"]);if(n!==void 0&&z!=null){let F=Sf(z);Array.isArray(F)&&(F=F.map(ue=>Qge(Ef(ue)))),_(n,["tools"],F)}const G=y(e,["toolConfig"]);if(n!==void 0&&G!=null&&_(n,["toolConfig"],Xge(G)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=y(e,["cachedContent"]);n!==void 0&&L!=null&&_(n,["cachedContent"],ns(t,L));const N=y(e,["responseModalities"]);N!=null&&_(r,["responseModalities"],N);const M=y(e,["mediaResolution"]);M!=null&&_(r,["mediaResolution"],M);const O=y(e,["speechConfig"]);if(O!=null&&_(r,["speechConfig"],jx(O)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=y(e,["thinkingConfig"]);q!=null&&_(r,["thinkingConfig"],q);const B=y(e,["imageConfig"]);B!=null&&_(r,["imageConfig"],Ige(B));const V=y(e,["enableEnhancedCivicAnswers"]);return V!=null&&_(r,["enableEnhancedCivicAnswers"],V),r}function nge(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&_(n,["systemInstruction"],vr(i));const o=y(e,["temperature"]);o!=null&&_(r,["temperature"],o);const s=y(e,["topP"]);s!=null&&_(r,["topP"],s);const u=y(e,["topK"]);u!=null&&_(r,["topK"],u);const c=y(e,["candidateCount"]);c!=null&&_(r,["candidateCount"],c);const f=y(e,["maxOutputTokens"]);f!=null&&_(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&_(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&_(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&_(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&_(r,["presencePenalty"],v);const T=y(e,["frequencyPenalty"]);T!=null&&_(r,["frequencyPenalty"],T);const w=y(e,["seed"]);w!=null&&_(r,["seed"],w);const A=y(e,["responseMimeType"]);A!=null&&_(r,["responseMimeType"],A);const I=y(e,["responseSchema"]);I!=null&&_(r,["responseSchema"],Gx(I));const D=y(e,["responseJsonSchema"]);D!=null&&_(r,["responseJsonSchema"],D);const k=y(e,["routingConfig"]);k!=null&&_(r,["routingConfig"],k);const z=y(e,["modelSelectionConfig"]);z!=null&&_(r,["modelConfig"],z);const G=y(e,["safetySettings"]);if(n!==void 0&&G!=null){let X=G;Array.isArray(X)&&(X=X.map(se=>se)),_(n,["safetySettings"],X)}const L=y(e,["tools"]);if(n!==void 0&&L!=null){let X=Sf(L);Array.isArray(X)&&(X=X.map(se=>S6(Ef(se)))),_(n,["tools"],X)}const N=y(e,["toolConfig"]);n!==void 0&&N!=null&&_(n,["toolConfig"],N);const M=y(e,["labels"]);n!==void 0&&M!=null&&_(n,["labels"],M);const O=y(e,["cachedContent"]);n!==void 0&&O!=null&&_(n,["cachedContent"],ns(t,O));const q=y(e,["responseModalities"]);q!=null&&_(r,["responseModalities"],q);const B=y(e,["mediaResolution"]);B!=null&&_(r,["mediaResolution"],B);const V=y(e,["speechConfig"]);V!=null&&_(r,["speechConfig"],jx(V));const F=y(e,["audioTimestamp"]);F!=null&&_(r,["audioTimestamp"],F);const ue=y(e,["thinkingConfig"]);ue!=null&&_(r,["thinkingConfig"],ue);const ce=y(e,["imageConfig"]);if(ce!=null&&_(r,["imageConfig"],Pge(ce)),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function EL(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["contents"]);if(i!=null){let s=Pi(i);Array.isArray(s)&&(s=s.map(u=>r0(u))),_(n,["contents"],s)}const o=y(e,["config"]);return o!=null&&_(n,["generationConfig"],tge(t,o,n)),n}function SL(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["contents"]);if(i!=null){let s=Pi(i);Array.isArray(s)&&(s=s.map(u=>u)),_(n,["contents"],s)}const o=y(e,["config"]);return o!=null&&_(n,["generationConfig"],nge(t,o,n)),n}function bL(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>wme(f))),_(e,["candidates"],c)}const i=y(t,["modelVersion"]);i!=null&&_(e,["modelVersion"],i);const o=y(t,["promptFeedback"]);o!=null&&_(e,["promptFeedback"],o);const s=y(t,["responseId"]);s!=null&&_(e,["responseId"],s);const u=y(t,["usageMetadata"]);return u!=null&&_(e,["usageMetadata"],u),e}function TL(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),_(e,["candidates"],f)}const i=y(t,["createTime"]);i!=null&&_(e,["createTime"],i);const o=y(t,["modelVersion"]);o!=null&&_(e,["modelVersion"],o);const s=y(t,["promptFeedback"]);s!=null&&_(e,["promptFeedback"],s);const u=y(t,["responseId"]);u!=null&&_(e,["responseId"],u);const c=y(t,["usageMetadata"]);return c!=null&&_(e,["usageMetadata"],c),e}function rge(t,e){const n={};if(y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r);const i=y(t,["aspectRatio"]);e!==void 0&&i!=null&&_(e,["parameters","aspectRatio"],i);const o=y(t,["guidanceScale"]);if(e!==void 0&&o!=null&&_(e,["parameters","guidanceScale"],o),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&_(e,["parameters","safetySetting"],s);const u=y(t,["personGeneration"]);e!==void 0&&u!=null&&_(e,["parameters","personGeneration"],u);const c=y(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&_(e,["parameters","includeSafetyAttributes"],c);const f=y(t,["includeRaiReason"]);e!==void 0&&f!=null&&_(e,["parameters","includeRaiReason"],f);const h=y(t,["language"]);e!==void 0&&h!=null&&_(e,["parameters","language"],h);const p=y(t,["outputMimeType"]);e!==void 0&&p!=null&&_(e,["parameters","outputOptions","mimeType"],p);const g=y(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&_(e,["parameters","outputOptions","compressionQuality"],g),y(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(t,["imageSize"]);if(e!==void 0&&v!=null&&_(e,["parameters","sampleImageSize"],v),y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function ige(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&_(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&_(e,["parameters","negativePrompt"],i);const o=y(t,["numberOfImages"]);e!==void 0&&o!=null&&_(e,["parameters","sampleCount"],o);const s=y(t,["aspectRatio"]);e!==void 0&&s!=null&&_(e,["parameters","aspectRatio"],s);const u=y(t,["guidanceScale"]);e!==void 0&&u!=null&&_(e,["parameters","guidanceScale"],u);const c=y(t,["seed"]);e!==void 0&&c!=null&&_(e,["parameters","seed"],c);const f=y(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&_(e,["parameters","safetySetting"],f);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&_(e,["parameters","personGeneration"],h);const p=y(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&_(e,["parameters","includeSafetyAttributes"],p);const g=y(t,["includeRaiReason"]);e!==void 0&&g!=null&&_(e,["parameters","includeRaiReason"],g);const v=y(t,["language"]);e!==void 0&&v!=null&&_(e,["parameters","language"],v);const T=y(t,["outputMimeType"]);e!==void 0&&T!=null&&_(e,["parameters","outputOptions","mimeType"],T);const w=y(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&_(e,["parameters","outputOptions","compressionQuality"],w);const A=y(t,["addWatermark"]);e!==void 0&&A!=null&&_(e,["parameters","addWatermark"],A);const I=y(t,["labels"]);e!==void 0&&I!=null&&_(e,["labels"],I);const D=y(t,["imageSize"]);e!==void 0&&D!=null&&_(e,["parameters","sampleImageSize"],D);const k=y(t,["enhancePrompt"]);return e!==void 0&&k!=null&&_(e,["parameters","enhancePrompt"],k),n}function oge(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const o=y(e,["config"]);return o!=null&&rge(o,n),n}function age(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const o=y(e,["config"]);return o!=null&&ige(o,n),n}function sge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>_ge(s))),_(e,["generatedImages"],o)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&_(e,["positivePromptSafetyAttributes"],_6(i)),e}function lge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>i0(s))),_(e,["generatedImages"],o)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&_(e,["positivePromptSafetyAttributes"],E6(i)),e}function uge(t,e){const n={},r=y(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r),y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(t,["durationSeconds"]);if(e!==void 0&&i!=null&&_(e,["parameters","durationSeconds"],i),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=y(t,["aspectRatio"]);e!==void 0&&o!=null&&_(e,["parameters","aspectRatio"],o);const s=y(t,["resolution"]);e!==void 0&&s!=null&&_(e,["parameters","resolution"],s);const u=y(t,["personGeneration"]);if(e!==void 0&&u!=null&&_(e,["parameters","personGeneration"],u),y(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=y(t,["negativePrompt"]);e!==void 0&&c!=null&&_(e,["parameters","negativePrompt"],c);const f=y(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&_(e,["parameters","enhancePrompt"],f),y(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=y(t,["lastFrame"]);e!==void 0&&h!=null&&_(e,["instances[0]","lastFrame"],o0(h));const p=y(t,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>fye(v))),_(e,["instances[0]","referenceImages"],g)}if(y(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function cge(t,e){const n={},r=y(t,["numberOfVideos"]);e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r);const i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&_(e,["parameters","storageUri"],i);const o=y(t,["fps"]);e!==void 0&&o!=null&&_(e,["parameters","fps"],o);const s=y(t,["durationSeconds"]);e!==void 0&&s!=null&&_(e,["parameters","durationSeconds"],s);const u=y(t,["seed"]);e!==void 0&&u!=null&&_(e,["parameters","seed"],u);const c=y(t,["aspectRatio"]);e!==void 0&&c!=null&&_(e,["parameters","aspectRatio"],c);const f=y(t,["resolution"]);e!==void 0&&f!=null&&_(e,["parameters","resolution"],f);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&_(e,["parameters","personGeneration"],h);const p=y(t,["pubsubTopic"]);e!==void 0&&p!=null&&_(e,["parameters","pubsubTopic"],p);const g=y(t,["negativePrompt"]);e!==void 0&&g!=null&&_(e,["parameters","negativePrompt"],g);const v=y(t,["enhancePrompt"]);e!==void 0&&v!=null&&_(e,["parameters","enhancePrompt"],v);const T=y(t,["generateAudio"]);e!==void 0&&T!=null&&_(e,["parameters","generateAudio"],T);const w=y(t,["lastFrame"]);e!==void 0&&w!=null&&_(e,["instances[0]","lastFrame"],po(w));const A=y(t,["referenceImages"]);if(e!==void 0&&A!=null){let k=A;Array.isArray(k)&&(k=k.map(z=>dye(z))),_(e,["instances[0]","referenceImages"],k)}const I=y(t,["mask"]);e!==void 0&&I!=null&&_(e,["instances[0]","mask"],cye(I));const D=y(t,["compressionQuality"]);return e!==void 0&&D!=null&&_(e,["parameters","compressionQuality"],D),n}function fge(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const o=y(t,["error"]);o!=null&&_(e,["error"],o);const s=y(t,["response","generateVideoResponse"]);return s!=null&&_(e,["response"],mge(s)),e}function dge(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const o=y(t,["error"]);o!=null&&_(e,["error"],o);const s=y(t,["response"]);return s!=null&&_(e,["response"],gge(s)),e}function hge(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const o=y(e,["image"]);o!=null&&_(n,["instances[0]","image"],o0(o));const s=y(e,["video"]);s!=null&&_(n,["instances[0]","video"],b6(s));const u=y(e,["source"]);u!=null&&yge(u,n);const c=y(e,["config"]);return c!=null&&uge(c,n),n}function pge(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const o=y(e,["image"]);o!=null&&_(n,["instances[0]","image"],po(o));const s=y(e,["video"]);s!=null&&_(n,["instances[0]","video"],T6(s));const u=y(e,["source"]);u!=null&&vge(u,n);const c=y(e,["config"]);return c!=null&&cge(c,n),n}function mge(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Sge(s))),_(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function gge(t){const e={},n=y(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>bge(s))),_(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function yge(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&_(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&_(e,["instances[0]","image"],o0(i));const o=y(t,["video"]);return e!==void 0&&o!=null&&_(e,["instances[0]","video"],b6(o)),n}function vge(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&_(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&_(e,["instances[0]","image"],po(i));const o=y(t,["video"]);return e!==void 0&&o!=null&&_(e,["instances[0]","video"],T6(o)),n}function _ge(t){const e={},n=y(t,["_self"]);n!=null&&_(e,["image"],Rge(n));const r=y(t,["raiFilteredReason"]);r!=null&&_(e,["raiFilteredReason"],r);const i=y(t,["_self"]);return i!=null&&_(e,["safetyAttributes"],_6(i)),e}function i0(t){const e={},n=y(t,["_self"]);n!=null&&_(e,["image"],v6(n));const r=y(t,["raiFilteredReason"]);r!=null&&_(e,["raiFilteredReason"],r);const i=y(t,["_self"]);i!=null&&_(e,["safetyAttributes"],E6(i));const o=y(t,["prompt"]);return o!=null&&_(e,["enhancedPrompt"],o),e}function Ege(t){const e={},n=y(t,["_self"]);n!=null&&_(e,["mask"],v6(n));const r=y(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),_(e,["labels"],i)}return e}function Sge(t){const e={},n=y(t,["video"]);return n!=null&&_(e,["video"],lye(n)),e}function bge(t){const e={},n=y(t,["_self"]);return n!=null&&_(e,["video"],uye(n)),e}function Tge(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&_(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&_(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&_(e,["audioTimestamp"],i);const o=y(t,["candidateCount"]);o!=null&&_(e,["candidateCount"],o);const s=y(t,["enableAffectiveDialog"]);s!=null&&_(e,["enableAffectiveDialog"],s);const u=y(t,["frequencyPenalty"]);u!=null&&_(e,["frequencyPenalty"],u);const c=y(t,["logprobs"]);c!=null&&_(e,["logprobs"],c);const f=y(t,["maxOutputTokens"]);f!=null&&_(e,["maxOutputTokens"],f);const h=y(t,["mediaResolution"]);h!=null&&_(e,["mediaResolution"],h);const p=y(t,["presencePenalty"]);p!=null&&_(e,["presencePenalty"],p);const g=y(t,["responseLogprobs"]);g!=null&&_(e,["responseLogprobs"],g);const v=y(t,["responseMimeType"]);v!=null&&_(e,["responseMimeType"],v);const T=y(t,["responseModalities"]);T!=null&&_(e,["responseModalities"],T);const w=y(t,["responseSchema"]);w!=null&&_(e,["responseSchema"],w);const A=y(t,["routingConfig"]);A!=null&&_(e,["routingConfig"],A);const I=y(t,["seed"]);I!=null&&_(e,["seed"],I);const D=y(t,["speechConfig"]);D!=null&&_(e,["speechConfig"],D);const k=y(t,["stopSequences"]);k!=null&&_(e,["stopSequences"],k);const z=y(t,["temperature"]);z!=null&&_(e,["temperature"],z);const G=y(t,["thinkingConfig"]);G!=null&&_(e,["thinkingConfig"],G);const L=y(t,["topK"]);L!=null&&_(e,["topK"],L);const N=y(t,["topP"]);if(N!=null&&_(e,["topP"],N),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function wge(t,e){const n={},r=y(e,["model"]);return r!=null&&_(n,["_url","name"],pt(t,r)),n}function Age(t,e){const n={},r=y(e,["model"]);return r!=null&&_(n,["_url","name"],pt(t,r)),n}function xge(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function Cge(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function Ige(t){const e={},n=y(t,["aspectRatio"]);n!=null&&_(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&_(e,["imageSize"],r),y(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Pge(t){const e={},n=y(t,["aspectRatio"]);n!=null&&_(e,["aspectRatio"],n);const r=y(t,["imageSize"]);r!=null&&_(e,["imageSize"],r);const i=y(t,["personGeneration"]);i!=null&&_(e,["personGeneration"],i);const o=y(t,["outputMimeType"]);o!=null&&_(e,["imageOutputOptions","mimeType"],o);const s=y(t,["outputCompressionQuality"]);return s!=null&&_(e,["imageOutputOptions","compressionQuality"],s),e}function Rge(t){const e={},n=y(t,["bytesBase64Encoded"]);n!=null&&_(e,["imageBytes"],al(n));const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function v6(t){const e={},n=y(t,["gcsUri"]);n!=null&&_(e,["gcsUri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&_(e,["imageBytes"],al(r));const i=y(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function o0(t){const e={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(t,["imageBytes"]);n!=null&&_(e,["bytesBase64Encoded"],al(n));const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function po(t){const e={},n=y(t,["gcsUri"]);n!=null&&_(e,["gcsUri"],n);const r=y(t,["imageBytes"]);r!=null&&_(e,["bytesBase64Encoded"],al(r));const i=y(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function Nge(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&_(n,["_query","pageSize"],i);const o=y(e,["pageToken"]);n!==void 0&&o!=null&&_(n,["_query","pageToken"],o);const s=y(e,["filter"]);n!==void 0&&s!=null&&_(n,["_query","filter"],s);const u=y(e,["queryBase"]);return n!==void 0&&u!=null&&_(n,["_url","models_url"],f6(t,u)),r}function Oge(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&_(n,["_query","pageSize"],i);const o=y(e,["pageToken"]);n!==void 0&&o!=null&&_(n,["_query","pageToken"],o);const s=y(e,["filter"]);n!==void 0&&s!=null&&_(n,["_query","filter"],s);const u=y(e,["queryBase"]);return n!==void 0&&u!=null&&_(n,["_url","models_url"],f6(t,u)),r}function Mge(t,e){const n={},r=y(e,["config"]);return r!=null&&Nge(t,r,n),n}function Dge(t,e){const n={},r=y(e,["config"]);return r!=null&&Oge(t,r,n),n}function kge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let o=d6(i);Array.isArray(o)&&(o=o.map(s=>aw(s))),_(e,["models"],o)}return e}function Lge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let o=d6(i);Array.isArray(o)&&(o=o.map(s=>sw(s))),_(e,["models"],o)}return e}function Uge(t){const e={},n=y(t,["maskMode"]);n!=null&&_(e,["maskMode"],n);const r=y(t,["segmentationClasses"]);r!=null&&_(e,["maskClasses"],r);const i=y(t,["maskDilation"]);return i!=null&&_(e,["dilation"],i),e}function aw(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=y(t,["description"]);i!=null&&_(e,["description"],i);const o=y(t,["version"]);o!=null&&_(e,["version"],o);const s=y(t,["_self"]);s!=null&&_(e,["tunedModelInfo"],Zge(s));const u=y(t,["inputTokenLimit"]);u!=null&&_(e,["inputTokenLimit"],u);const c=y(t,["outputTokenLimit"]);c!=null&&_(e,["outputTokenLimit"],c);const f=y(t,["supportedGenerationMethods"]);f!=null&&_(e,["supportedActions"],f);const h=y(t,["temperature"]);h!=null&&_(e,["temperature"],h);const p=y(t,["maxTemperature"]);p!=null&&_(e,["maxTemperature"],p);const g=y(t,["topP"]);g!=null&&_(e,["topP"],g);const v=y(t,["topK"]);v!=null&&_(e,["topK"],v);const T=y(t,["thinking"]);return T!=null&&_(e,["thinking"],T),e}function sw(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=y(t,["description"]);i!=null&&_(e,["description"],i);const o=y(t,["versionId"]);o!=null&&_(e,["version"],o);const s=y(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>Jme(g))),_(e,["endpoints"],p)}const u=y(t,["labels"]);u!=null&&_(e,["labels"],u);const c=y(t,["_self"]);c!=null&&_(e,["tunedModelInfo"],eye(c));const f=y(t,["defaultCheckpointId"]);f!=null&&_(e,["defaultCheckpointId"],f);const h=y(t,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>g)),_(e,["checkpoints"],p)}return e}function Vge(t){const e={},n=y(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&_(e,["fileData"],Xme(o));const s=y(t,["functionCall"]);s!=null&&_(e,["functionCall"],Qme(s));const u=y(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&_(e,["inlineData"],Tme(c));const f=y(t,["text"]);f!=null&&_(e,["text"],f);const h=y(t,["thought"]);h!=null&&_(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&_(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&_(e,["videoMetadata"],g),e}function Bge(t){const e={},n=y(t,["productImage"]);return n!=null&&_(e,["image"],po(n)),e}function Fge(t,e){const n={},r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r);const i=y(t,["baseSteps"]);e!==void 0&&i!=null&&_(e,["parameters","baseSteps"],i);const o=y(t,["outputGcsUri"]);e!==void 0&&o!=null&&_(e,["parameters","storageUri"],o);const s=y(t,["seed"]);e!==void 0&&s!=null&&_(e,["parameters","seed"],s);const u=y(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&_(e,["parameters","safetySetting"],u);const c=y(t,["personGeneration"]);e!==void 0&&c!=null&&_(e,["parameters","personGeneration"],c);const f=y(t,["addWatermark"]);e!==void 0&&f!=null&&_(e,["parameters","addWatermark"],f);const h=y(t,["outputMimeType"]);e!==void 0&&h!=null&&_(e,["parameters","outputOptions","mimeType"],h);const p=y(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&_(e,["parameters","outputOptions","compressionQuality"],p);const g=y(t,["enhancePrompt"]);e!==void 0&&g!=null&&_(e,["parameters","enhancePrompt"],g);const v=y(t,["labels"]);return e!==void 0&&v!=null&&_(e,["labels"],v),n}function zge(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["source"]);i!=null&&Hge(i,n);const o=y(e,["config"]);return o!=null&&Fge(o,n),n}function qge(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i0(i))),_(e,["generatedImages"],r)}return e}function Hge(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&_(e,["instances[0]","prompt"],r);const i=y(t,["personImage"]);e!==void 0&&i!=null&&_(e,["instances[0]","personImage","image"],po(i));const o=y(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Bge(u))),_(e,["instances[0]","productImages"],s)}return n}function Gge(t){const e={},n=y(t,["referenceImage"]);n!=null&&_(e,["referenceImage"],po(n));const r=y(t,["referenceId"]);r!=null&&_(e,["referenceId"],r);const i=y(t,["referenceType"]);i!=null&&_(e,["referenceType"],i);const o=y(t,["maskImageConfig"]);o!=null&&_(e,["maskImageConfig"],Uge(o));const s=y(t,["controlImageConfig"]);s!=null&&_(e,["controlImageConfig"],Rme(s));const u=y(t,["styleImageConfig"]);u!=null&&_(e,["styleImageConfig"],u);const c=y(t,["subjectImageConfig"]);return c!=null&&_(e,["subjectImageConfig"],c),e}function _6(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&_(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&_(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&_(e,["contentType"],i),e}function E6(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&_(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&_(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&_(e,["contentType"],i),e}function jge(t){const e={},n=y(t,["category"]);if(n!=null&&_(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&_(e,["threshold"],r),e}function $ge(t){const e={},n=y(t,["image"]);return n!=null&&_(e,["image"],po(n)),e}function Kge(t,e){const n={},r=y(t,["mode"]);e!==void 0&&r!=null&&_(e,["parameters","mode"],r);const i=y(t,["maxPredictions"]);e!==void 0&&i!=null&&_(e,["parameters","maxPredictions"],i);const o=y(t,["confidenceThreshold"]);e!==void 0&&o!=null&&_(e,["parameters","confidenceThreshold"],o);const s=y(t,["maskDilation"]);e!==void 0&&s!=null&&_(e,["parameters","maskDilation"],s);const u=y(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&_(e,["parameters","binaryColorThreshold"],u);const c=y(t,["labels"]);return e!==void 0&&c!=null&&_(e,["labels"],c),n}function Yge(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["source"]);i!=null&&Jge(i,n);const o=y(e,["config"]);return o!=null&&Kge(o,n),n}function Wge(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ege(i))),_(e,["generatedMasks"],r)}return e}function Jge(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&_(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&_(e,["instances[0]","image"],po(i));const o=y(t,["scribbleImage"]);return e!==void 0&&o!=null&&_(e,["instances[0]","scribble"],$ge(o)),n}function Xge(t){const e={},n=y(t,["retrievalConfig"]);n!=null&&_(e,["retrievalConfig"],n);const r=y(t,["functionCallingConfig"]);return r!=null&&_(e,["functionCallingConfig"],Zme(r)),e}function Qge(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&_(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&_(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),_(e,["functionDeclarations"],h)}const s=y(t,["googleMaps"]);s!=null&&_(e,["googleMaps"],xge(s));const u=y(t,["googleSearch"]);u!=null&&_(e,["googleSearch"],Cge(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&_(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&_(e,["urlContext"],f),e}function S6(t){const e={},n=y(t,["retrieval"]);n!=null&&_(e,["retrieval"],n);const r=y(t,["computerUse"]);if(r!=null&&_(e,["computerUse"],r),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(t,["codeExecution"]);i!=null&&_(e,["codeExecution"],i);const o=y(t,["enterpriseWebSearch"]);o!=null&&_(e,["enterpriseWebSearch"],o);const s=y(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>ege(g))),_(e,["functionDeclarations"],p)}const u=y(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],u);const c=y(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],c);const f=y(t,["googleSearchRetrieval"]);f!=null&&_(e,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&_(e,["urlContext"],h),e}function Zge(t){const e={},n=y(t,["baseModel"]);n!=null&&_(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&_(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&_(e,["updateTime"],i),e}function eye(t){const e={},n=y(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&_(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&_(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&_(e,["updateTime"],i),e}function tye(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&_(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&_(e,["description"],i);const o=y(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&_(e,["defaultCheckpointId"],o),n}function nye(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&_(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&_(e,["description"],i);const o=y(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&_(e,["defaultCheckpointId"],o),n}function rye(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","name"],pt(t,r));const i=y(e,["config"]);return i!=null&&tye(i,n),n}function iye(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["config"]);return i!=null&&nye(i,n),n}function oye(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&_(e,["parameters","storageUri"],r);const i=y(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&_(e,["parameters","safetySetting"],i);const o=y(t,["personGeneration"]);e!==void 0&&o!=null&&_(e,["parameters","personGeneration"],o);const s=y(t,["includeRaiReason"]);e!==void 0&&s!=null&&_(e,["parameters","includeRaiReason"],s);const u=y(t,["outputMimeType"]);e!==void 0&&u!=null&&_(e,["parameters","outputOptions","mimeType"],u);const c=y(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&_(e,["parameters","outputOptions","compressionQuality"],c);const f=y(t,["enhanceInputImage"]);e!==void 0&&f!=null&&_(e,["parameters","upscaleConfig","enhanceInputImage"],f);const h=y(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&_(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=y(t,["labels"]);e!==void 0&&p!=null&&_(e,["labels"],p);const g=y(t,["numberOfImages"]);e!==void 0&&g!=null&&_(e,["parameters","sampleCount"],g);const v=y(t,["mode"]);return e!==void 0&&v!=null&&_(e,["parameters","mode"],v),n}function aye(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],pt(t,r));const i=y(e,["image"]);i!=null&&_(n,["instances[0]","image"],po(i));const o=y(e,["upscaleFactor"]);o!=null&&_(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=y(e,["config"]);return s!=null&&oye(s,n),n}function sye(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>i0(o))),_(e,["generatedImages"],i)}return e}function lye(t){const e={},n=y(t,["uri"]);n!=null&&_(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&_(e,["videoBytes"],al(r));const i=y(t,["encoding"]);return i!=null&&_(e,["mimeType"],i),e}function uye(t){const e={},n=y(t,["gcsUri"]);n!=null&&_(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&_(e,["videoBytes"],al(r));const i=y(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function cye(t){const e={},n=y(t,["image"]);n!=null&&_(e,["_self"],po(n));const r=y(t,["maskMode"]);return r!=null&&_(e,["maskMode"],r),e}function fye(t){const e={},n=y(t,["image"]);n!=null&&_(e,["image"],o0(n));const r=y(t,["referenceType"]);return r!=null&&_(e,["referenceType"],r),e}function dye(t){const e={},n=y(t,["image"]);n!=null&&_(e,["image"],po(n));const r=y(t,["referenceType"]);return r!=null&&_(e,["referenceType"],r),e}function b6(t){const e={},n=y(t,["uri"]);n!=null&&_(e,["uri"],n);const r=y(t,["videoBytes"]);r!=null&&_(e,["encodedVideo"],al(r));const i=y(t,["mimeType"]);return i!=null&&_(e,["encoding"],i),e}function T6(t){const e={},n=y(t,["uri"]);n!=null&&_(e,["gcsUri"],n);const r=y(t,["videoBytes"]);r!=null&&_(e,["bytesBase64Encoded"],al(r));const i=y(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hye(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&_(e,["displayName"],r),n}function pye(t){const e={},n=y(t,["config"]);return n!=null&&hye(n,e),e}function mye(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&_(e,["_query","force"],r),n}function gye(t){const e={},n=y(t,["name"]);n!=null&&_(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&mye(r,e),e}function yye(t){const e={},n=y(t,["name"]);return n!=null&&_(e,["_url","name"],n),e}function vye(t,e){const n={},r=y(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),_(e,["customMetadata"],o)}const i=y(t,["chunkingConfig"]);return e!==void 0&&i!=null&&_(e,["chunkingConfig"],i),n}function _ye(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const o=y(t,["error"]);o!=null&&_(e,["error"],o);const s=y(t,["response"]);return s!=null&&_(e,["response"],Sye(s)),e}function Eye(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&_(e,["_url","file_search_store_name"],n);const r=y(t,["fileName"]);r!=null&&_(e,["fileName"],r);const i=y(t,["config"]);return i!=null&&vye(i,e),e}function Sye(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&_(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function bye(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function Tye(t){const e={},n=y(t,["config"]);return n!=null&&bye(n,e),e}function wye(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),_(e,["fileSearchStores"],o)}return e}function w6(t,e){const n={},r=y(t,["mimeType"]);e!==void 0&&r!=null&&_(e,["mimeType"],r);const i=y(t,["displayName"]);e!==void 0&&i!=null&&_(e,["displayName"],i);const o=y(t,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>c)),_(e,["customMetadata"],u)}const s=y(t,["chunkingConfig"]);return e!==void 0&&s!=null&&_(e,["chunkingConfig"],s),n}function Aye(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&_(e,["_url","file_search_store_name"],n);const r=y(t,["config"]);return r!=null&&w6(r,e),e}function xye(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cye="Content-Type",Iye="X-Server-Timeout",Pye="User-Agent",lw="x-goog-api-client",Rye="1.37.0",Nye=`google-genai-sdk/${Rye}`,Oye="v1beta1",Mye="v1beta";class Dye{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Oye,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Mye,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&kye(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await wL(i),new rw(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await wL(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return so(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield qe(i.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=o.decode(h,{stream:!0});try{const T=JSON.parse(p);if("error"in T){const w=JSON.parse(JSON.stringify(T.error)),A=w.status,I=w.code,D=`got status: ${A}. ${JSON.stringify(T)}`;if(I>=400&&I<600)throw new n0({message:D,status:I})}}catch(T){if(T.name==="ApiError")throw T}s+=p;let g=-1,v=0;for(;;){g=-1,v=0;for(const A of c){const I=s.indexOf(A);I!==-1&&(g===-1||I<g)&&(g=I,v=A.length)}if(g===-1)break;const T=s.substring(0,g);s=s.substring(g+v);const w=T.trim();if(w.startsWith(u)){const A=w.substring(u.length).trim();try{const I=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qe(new rw(I))}catch(I){throw new Error(`exception parsing stream chunk ${A}. ${I}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Nye+" "+this.clientOptions.userAgentExtra;return e[Pye]=n,e[lw]=n,e[Cye]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(Iye,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},f=this.getFileName(e),h=we("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return o.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),u=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&w6(r,p);const g=await this.fetchUploadUrl(f,u,c,h,p,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function wL(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new n0({message:i,status:n}):new Error(i)}}function kye(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const u=Object.assign({},o);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lye="mcp_used/unknown";let Uye=!1;function A6(t){for(const e of t)if(Vye(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Uye}function x6(t){var e;const n=(e=t[lw])!==null&&e!==void 0?e:"";t[lw]=(n+` ${Lye}`).trimStart()}function Vye(t){return t!==null&&typeof t=="object"&&t instanceof Kx}function Bye(t){return so(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield qe(n.listTools({cursor:i}));for(const u of s.tools)yield yield qe(u),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class Kx{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Kx(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,lo(Bye(h))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const p=i;s.push(p);const g=p.name;if(o[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);o[g]=h}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),ghe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Fye(t,e,n){const r=new lhe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class zye{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=Gye(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(k=>{f=k}),p=e.callbacks,g=function(){f({})},v=this.apiClient,T={onopen:g,onmessage:k=>{Fye(v,p.onmessage,k)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(k){}},w=this.webSocketFactory.create(c,Hye(s),T);w.connect(),await h;const D={setup:{model:pt(this.apiClient,e.model)}};return w.send(JSON.stringify(D)),new qye(w,this.apiClient)}}class qye{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=hme(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=dme(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Tc.PLAY)}pause(){this.sendPlaybackControl(Tc.PAUSE)}stop(){this.sendPlaybackControl(Tc.STOP)}resetContext(){this.sendPlaybackControl(Tc.RESET_CONTEXT)}close(){this.conn.close()}}function Hye(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Gye(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jye="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function $ye(t,e,n){const r=new she;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=gme(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class Kye{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new zye(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&A6(e.config.tools)&&x6(p);const g=Xye(p);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const O=this.apiClient.getApiKey();let q="BidiGenerateContent",B="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",B="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${q}?${B}=${O}`}let v=()=>{};const T=new Promise(O=>{v=O}),w=e.callbacks,A=function(){var O;(O=w==null?void 0:w.onopen)===null||O===void 0||O.call(w),v({})},I=this.apiClient,D={onopen:A,onmessage:O=>{$ye(I,w.onmessage,O)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(O){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(O){}},k=this.webSocketFactory.create(h,Jye(g),D);k.connect(),await T;let z=pt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const O=this.apiClient.getProject(),q=this.apiClient.getLocation();z=`projects/${O}/locations/${q}/`+z}let G={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Dy.AUDIO]}:e.config.responseModalities=[Dy.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const L=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],N=[];for(const O of L)if(this.isCallableTool(O)){const q=O;N.push(await q.tool())}else N.push(O);N.length>0&&(e.config.tools=N);const M={model:z,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?G=fme(this.apiClient,M):G=cme(this.apiClient,M),delete G.config,k.send(JSON.stringify(G)),new Wye(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Yye={turnComplete:!0};class Wye{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Pi(n.turns),e.isVertexAI()||(r=r.map(i=>r0(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(jye)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Yye),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:mme(e)}:n={realtimeInput:pme(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Jye(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Xye(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AL=10;function xL(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Oc(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Oc(t){return"callTool"in t&&typeof t.callTool=="function"}function Qye(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Oc(i)))!==null&&r!==void 0?r:!1}function CL(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Oc(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function IL(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zye extends ts{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Qye(n)||xL(n.config))return await this.generateContentInternal(c);const f=CL(n);if(f.length>0){const w=f.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let h,p;const g=Pi(c.contents),v=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:AL;let T=0;for(;T<v&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const w=h.candidates[0].content,A=[];for(const I of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Oc(I)){const k=await I.callTool(h.functionCalls);A.push(...k)}T++,p={role:"user",parts:A},c.contents=Pi(c.contents),c.contents.push(w),c.contents.push(p),IL(c.config)&&(g.push(w),g.push(p))}return IL(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,o,s,u;if(this.maybeMoveToResponseJsonSchem(n),xL(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=CL(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:s.push(c);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new _u(Ga.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async c=>Oc(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&A6(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),x6(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Oc(s)){const u=s,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:AL;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,h,p){return so(this,arguments,function*(){for(var g,v,T,w,A,I;u<o;){s&&(u++,s=!1);const G=yield qe(f.processParamsMaybeAddMcpUsage(p)),L=yield qe(f.generateContentStreamInternal(G)),N=[],M=[];try{for(var D=!0,k=(v=void 0,lo(L)),z;z=yield qe(k.next()),g=z.done,!g;D=!0){w=z.value,D=!1;const O=w;if(yield yield qe(O),O.candidates&&(!((A=O.candidates[0])===null||A===void 0)&&A.content)){M.push(O.candidates[0].content);for(const q of(I=O.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(u<o&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(q.functionCall.name)){const B=yield qe(h.get(q.functionCall.name).callTool([q.functionCall]));N.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(O){v={error:O}}finally{try{!D&&!g&&(T=k.return)&&(yield qe(T.call(k)))}finally{if(v)throw v.error}}if(N.length>0){s=!0;const O=new Fd;O.candidates=[{content:{role:"user",parts:N}}],yield yield qe(O);const q=[];q.push(...M),q.push({role:"user",parts:N});const B=Pi(p.contents).concat(q);p.contents=B}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=SL(this.apiClient,e);return u=we("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=TL(h),g=new Fd;return Object.assign(g,p),g})}else{const f=EL(this.apiClient,e);return u=we("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=bL(h),g=new Fd;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=SL(this.apiClient,e);return u=we("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return so(this,arguments,function*(){var g,v,T,w;try{for(var A=!0,I=lo(p),D;D=yield qe(I.next()),g=D.done,!g;A=!0){w=D.value,A=!1;const k=w,z=TL(yield qe(k.json()));z.sdkHttpResponse={headers:k.headers};const G=new Fd;Object.assign(G,z),yield yield qe(G)}}catch(k){v={error:k}}finally{try{!A&&!g&&(T=I.return)&&(yield qe(T.call(I)))}finally{if(v)throw v.error}}})})}else{const f=EL(this.apiClient,e);return u=we("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return so(this,arguments,function*(){var g,v,T,w;try{for(var A=!0,I=lo(p),D;D=yield qe(I.next()),g=D.done,!g;A=!0){w=D.value,A=!1;const k=w,z=bL(yield qe(k.json()));z.sdkHttpResponse={headers:k.headers};const G=new Fd;Object.assign(G,z),yield yield qe(G)}}catch(k){v={error:k}}finally{try{!A&&!g&&(T=I.return)&&(yield qe(T.call(I)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Kme(this.apiClient,e);return u=we("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Wme(h),g=new rL;return Object.assign(g,p),g})}else{const f=$me(this.apiClient,e);return u=we("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Yme(h),g=new rL;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=age(this.apiClient,e);return u=we("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=lge(h),g=new iL;return Object.assign(g,p),g})}else{const f=oge(this.apiClient,e);return u=we("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=sge(h),g=new iL;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=qme(this.apiClient,e);return o=we("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Hme(c),h=new Jde;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=aye(this.apiClient,e);return o=we("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=sye(c),h=new Xde;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=zge(this.apiClient,e);return o=we("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=qge(c),h=new Qde;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=Yge(this.apiClient,e);return o=we("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Wge(c),h=new Zde;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Age(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>sw(h))}else{const f=wge(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>aw(h))}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Dge(this.apiClient,e);return u=we("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Lge(h),g=new oL;return Object.assign(g,p),g})}else{const f=Mge(this.apiClient,e);return u=we("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=kge(h),g=new oL;return Object.assign(g,p),g})}}async update(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=iye(this.apiClient,e);return u=we("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>sw(h))}else{const f=rye(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>aw(h))}}async delete(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Vme(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Fme(h),g=new aL;return Object.assign(g,p),g})}else{const f=Ume(this.apiClient,e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Bme(h),g=new aL;return Object.assign(g,p),g})}}async countTokens(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Dme(this.apiClient,e);return u=we("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Lme(h),g=new sL;return Object.assign(g,p),g})}else{const f=Mme(this.apiClient,e);return u=we("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=kme(h),g=new sL;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=xme(this.apiClient,e);return o=we("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Cme(c),h=new ehe;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=pge(this.apiClient,e);return u=we("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=dge(h),g=new ky;return Object.assign(g,p),g})}else{const f=hge(this.apiClient,e);return u=we("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const p=fge(h),g=new ky;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eve extends ts{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Gde(e);return u=we("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=Hde(e);return u=we("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=Lde(e);return o=we("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tve(t){const e={},n=y(t,["data"]);if(n!=null&&_(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function nve(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>fve(o))),_(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&_(e,["role"],r),e}function rve(t,e,n){const r={},i=y(e,["expireTime"]);n!==void 0&&i!=null&&_(n,["expireTime"],i);const o=y(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&_(n,["newSessionExpireTime"],o);const s=y(e,["uses"]);n!==void 0&&s!=null&&_(n,["uses"],s);const u=y(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&_(n,["bidiGenerateContentSetup"],cve(t,u));const c=y(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&_(n,["fieldMask"],c),r}function ive(t,e){const n={},r=y(e,["config"]);return r!=null&&_(n,["config"],rve(t,r,n)),n}function ove(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function ave(t){const e={},n=y(t,["id"]);n!=null&&_(e,["id"],n);const r=y(t,["args"]);r!=null&&_(e,["args"],r);const i=y(t,["name"]);if(i!=null&&_(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sve(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function lve(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function uve(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&_(e,["setup","generationConfig","temperature"],o);const s=y(t,["topP"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","topP"],s);const u=y(t,["topK"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&_(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&_(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&_(e,["setup","generationConfig","speechConfig"],$x(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&_(e,["setup","generationConfig","thinkingConfig"],g);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=y(t,["systemInstruction"]);e!==void 0&&T!=null&&_(e,["setup","systemInstruction"],nve(vr(T)));const w=y(t,["tools"]);if(e!==void 0&&w!=null){let L=Sf(w);Array.isArray(L)&&(L=L.map(N=>hve(Ef(N)))),_(e,["setup","tools"],L)}const A=y(t,["sessionResumption"]);e!==void 0&&A!=null&&_(e,["setup","sessionResumption"],dve(A));const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&_(e,["setup","inputAudioTranscription"],I);const D=y(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&_(e,["setup","outputAudioTranscription"],D);const k=y(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&_(e,["setup","realtimeInputConfig"],k);const z=y(t,["contextWindowCompression"]);e!==void 0&&z!=null&&_(e,["setup","contextWindowCompression"],z);const G=y(t,["proactivity"]);if(e!==void 0&&G!=null&&_(e,["setup","proactivity"],G),y(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function cve(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["setup","model"],pt(t,r));const i=y(e,["config"]);return i!=null&&_(n,["config"],uve(i,n)),n}function fve(t){const e={},n=y(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&_(e,["fileData"],ove(o));const s=y(t,["functionCall"]);s!=null&&_(e,["functionCall"],ave(s));const u=y(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&_(e,["inlineData"],tve(c));const f=y(t,["text"]);f!=null&&_(e,["text"],f);const h=y(t,["thought"]);h!=null&&_(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&_(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&_(e,["videoMetadata"],g),e}function dve(t){const e={},n=y(t,["handle"]);if(n!=null&&_(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function hve(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&_(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&_(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),_(e,["functionDeclarations"],h)}const s=y(t,["googleMaps"]);s!=null&&_(e,["googleMaps"],sve(s));const u=y(t,["googleSearch"]);u!=null&&_(e,["googleSearch"],lve(u));const c=y(t,["googleSearchRetrieval"]);c!=null&&_(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&_(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pve(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function mve(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=pve(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class gve extends ts{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=ive(this.apiClient,e);o=we("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=mve(u,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yve(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&_(e,["_query","force"],r),n}function vve(t){const e={},n=y(t,["name"]);n!=null&&_(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&yve(r,e),e}function _ve(t){const e={},n=y(t,["name"]);return n!=null&&_(e,["_url","name"],n),e}function Eve(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function Sve(t){const e={},n=y(t,["parent"]);n!=null&&_(e,["_url","parent"],n);const r=y(t,["config"]);return r!=null&&Eve(r,e),e}function bve(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),_(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tve extends ts{constructor(e){super(),this.apiClient=e,this.list=async n=>new _u(Ga.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_ve(e);return o=we("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=vve(e);i=we("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sve(e);return o=we("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=bve(c),h=new the;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wve extends ts{constructor(e,n=new Tve(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new _u(Ga.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pye(e);return o=we("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yye(e);return o=we("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=gye(e);i=we("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tye(e);return o=we("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=wye(c),h=new nhe;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Aye(e);return o=we("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=xye(c),h=new rhe;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Eye(e);return o=we("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=_ye(c),h=new zx;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let C6=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return C6=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Ave=()=>C6();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uw(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const cw=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oi extends Error{}class Pr extends Oi{constructor(e,n,r,i){super(`${Pr.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new a0({message:r,cause:cw(n)});const o=n;return e===400?new P6(e,o,r,i):e===401?new R6(e,o,r,i):e===403?new N6(e,o,r,i):e===404?new O6(e,o,r,i):e===409?new M6(e,o,r,i):e===422?new D6(e,o,r,i):e===429?new k6(e,o,r,i):e>=500?new L6(e,o,r,i):new Pr(e,o,r,i)}}class fw extends Pr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class a0 extends Pr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class I6 extends a0{constructor({message:e}={}){super({message:e??"Request timed out."})}}class P6 extends Pr{}class R6 extends Pr{}class N6 extends Pr{}class O6 extends Pr{}class M6 extends Pr{}class D6 extends Pr{}class k6 extends Pr{}class L6 extends Pr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xve=/^[a-z][a-z0-9+.-]*:/i,Cve=t=>xve.test(t);let dw=t=>(dw=Array.isArray,dw(t));const Ive=dw;let Pve=Ive;const PL=Pve;function Rve(t){if(!t)return!0;for(const e in t)return!1;return!0}function Nve(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Ove=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Oi(`${t} must be an integer`);if(e<0)throw new Oi(`${t} must be a positive integer`);return e},Mve=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dve=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yc="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kve(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Lve=()=>{var t,e,n,r,i;const o=kve();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yc,"X-Stainless-OS":NL(Deno.build.os),"X-Stainless-Arch":RL(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yc,"X-Stainless-OS":NL((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":RL((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=Uve();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Uve(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const RL=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",NL=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let og;const Vve=()=>og??(og=Lve());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bve(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function U6(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Fve(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return U6({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function V6(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function zve(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qve=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B6=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Pb(t,e,n){return B6(),new File(t,e??"unknown_file",n)}function Hve(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Gve=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F6=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",jve=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&F6(t),$ve=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Kve(t,e,n){if(B6(),t=await t,jve(t))return t instanceof File?t:Pb([await t.arrayBuffer()],t.name);if($ve(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Pb(await hw(i),e,n)}const r=await hw(t);if(e||(e=Hve(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Pb(r,e,n)}async function hw(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(F6(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(Gve(t))try{for(var u=!0,c=lo(t),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const h=i;s.push(...await hw(h))}}catch(h){n={error:h}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${Yve(t)}`)}return s}function Yve(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z6{constructor(e){this._client=e}}z6._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q6(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const OL=Object.freeze(Object.create(null)),Wve=(t=q6)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((h,p,g)=>{var v,T,w;/[?#]/.test(p)&&(i=!0);const A=r[g];let I=(i?encodeURIComponent:t)(""+A);return g!==r.length&&(A==null||typeof A=="object"&&A.toString===((w=Object.getPrototypeOf((T=Object.getPrototypeOf((v=A.hasOwnProperty)!==null&&v!==void 0?v:OL))!==null&&T!==void 0?T:OL))===null||w===void 0?void 0:w.toString))&&(I=A+"",o.push({start:h.length+p.length,length:I.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),h+p+(g===r.length?"":I)},""),u=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(u))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((h,p)=>h.start-p.start),o.length>0){let h=0;const p=o.reduce((g,v)=>{const T=" ".repeat(v.start-h),w="^".repeat(v.length);return h=v.start+v.length,g+T+w},"");throw new Oi(`Path parameters result in path with invalid segments:
${o.map(g=>g.error).join(`
`)}
${s}
${p}`)}return s}),ag=Wve(q6);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H6 extends z6{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Uy(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Oi("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Oi("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ag`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(ag`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(ag`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,u=Uy(o,["api_version"]);return this._client.get(ag`/${s}/interactions/${e}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}H6._key=Object.freeze(["interactions"]);class G6 extends H6{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jve(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let sg;function Yx(t){let e;return(sg??(e=new globalThis.TextEncoder,sg=e.encode.bind(e)))(t)}let lg;function ML(t){let e;return(lg??(e=new globalThis.TextDecoder,lg=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s0{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Yx(e):e;this.buffer=Jve([this.buffer,n]);const r=[];let i;for(;(i=Xve(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(ML(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=ML(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}s0.NEWLINE_CHARS=new Set([`
`,"\r"]);s0.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Xve(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Qve(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vy={off:0,error:200,warn:300,info:400,debug:500},DL=(t,e,n)=>{if(t){if(Nve(Vy,t))return t;Ar(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Vy))}`)}};function $d(){}function ug(t,e,n){return!e||Vy[t]>Vy[n]?$d:e[t].bind(e)}const Zve={error:$d,warn:$d,info:$d,debug:$d};let kL=new WeakMap;function Ar(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Zve;const i=kL.get(n);if(i&&i[0]===r)return i[1];const o={error:ug("error",n,r),warn:ug("warn",n,r),info:ug("info",n,r),debug:ug("debug",n,r)};return kL.set(n,[r,o]),o}const Vl=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wc{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?Ar(r):console;function s(){return so(this,arguments,function*(){var c,f,h,p;if(i)throw new Oi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var v=!0,T=lo(e0e(e,n)),w;w=yield qe(T.next()),c=w.done,!c;v=!0){p=w.value,v=!1;const A=p;if(!g)if(A.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield qe(JSON.parse(A.data))}catch(I){throw o.error("Could not parse message into JSON:",A.data),o.error("From chunk:",A.raw),I}}}catch(A){f={error:A}}finally{try{!v&&!c&&(h=T.return)&&(yield qe(h.call(T)))}finally{if(f)throw f.error}}g=!0}catch(A){if(uw(A))return yield qe(void 0);throw A}finally{g||n.abort()}})}return new wc(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return so(this,arguments,function*(){var c,f,h,p;const g=new s0,v=V6(e);try{for(var T=!0,w=lo(v),A;A=yield qe(w.next()),c=A.done,!c;T=!0){p=A.value,T=!1;const I=p;for(const D of g.decode(I))yield yield qe(D)}}catch(I){f={error:I}}finally{try{!T&&!c&&(h=w.return)&&(yield qe(h.call(w)))}finally{if(f)throw f.error}}for(const I of g.flush())yield yield qe(I)})}function s(){return so(this,arguments,function*(){var c,f,h,p;if(i)throw new Oi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var v=!0,T=lo(o()),w;w=yield qe(T.next()),c=w.done,!c;v=!0){p=w.value,v=!1;const A=p;g||A&&(yield yield qe(JSON.parse(A)))}}catch(A){f={error:A}}finally{try{!v&&!c&&(h=T.return)&&(yield qe(h.call(T)))}finally{if(f)throw f.error}}g=!0}catch(A){if(uw(A))return yield qe(void 0);throw A}finally{g||n.abort()}})}return new wc(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new wc(()=>i(e),this.controller,this.client),new wc(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return U6({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=Yx(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function e0e(t,e){return so(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Oi("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Oi("Attempted to iterate over a response with no body");const u=new n0e,c=new s0,f=V6(t.body);try{for(var h=!0,p=lo(t0e(f)),g;g=yield qe(p.next()),r=g.done,!r;h=!0){s=g.value,h=!1;const v=s;for(const T of c.decode(v)){const w=u.decode(T);w&&(yield yield qe(w))}}}catch(v){i={error:v}}finally{try{!h&&!r&&(o=p.return)&&(yield qe(o.call(p)))}finally{if(i)throw i.error}}for(const v of c.flush()){const T=u.decode(v);T&&(yield yield qe(T))}})}function t0e(t){return so(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var u=!0,c=lo(t),f;f=yield qe(c.next()),n=f.done,!n;u=!0){o=f.value,u=!1;const h=o;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?Yx(h):h;let g=new Uint8Array(s.length+p.length);g.set(s),g.set(p,s.length),s=g;let v;for(;(v=Qve(s))!==-1;)yield yield qe(s.slice(0,v)),s=s.slice(v)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=c.return)&&(yield qe(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield qe(s))})}class n0e{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=r0e(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function r0e(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function i0e(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var u;if(e.options.stream)return Ar(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):wc.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return Ar(t).debug(`[${r}] response parsed`,Vl({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wx extends Promise{constructor(e,n,r=i0e){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Wx(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j6=Symbol("brand.privateNullableHeaders");function*o0e(t){if(!t)return;if(j6 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():PL(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=PL(r[1])?r[1]:[r[1]];let s=!1;for(const u of o)u!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,u])}}const zd=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of o0e(r)){const u=o.toLowerCase();i.has(u)||(e.delete(o),i.add(u)),s===null?(e.delete(o),n.add(u)):(e.append(o,s),n.delete(u))}}return{[j6]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rb=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=Rde)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $6;class l0{constructor(e){var n,r,i,o,s,u,c,{baseURL:f=Rb("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=Rb("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=e,g=Uy(e,["baseURL","apiKey","apiVersion"]);const v=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=v.baseURL,this.timeout=(r=v.timeout)!==null&&r!==void 0?r:l0.DEFAULT_TIMEOUT,this.logger=(i=v.logger)!==null&&i!==void 0?i:console;const T="warn";this.logLevel=T,this.logLevel=(s=(o=DL(v.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:DL(Rb("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:T,this.fetchOptions=v.fetchOptions,this.maxRetries=(u=v.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=v.fetch)!==null&&c!==void 0?c:Bve(),this.encoder=qve,this._options=v,this.apiKey=h,this.apiVersion=p,this.clientAdapter=v.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=zd([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return zd([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return zd([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Oi(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${yc}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ave()}`}makeStatusError(e,n,r,i){return Pr.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Cve(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Rve(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Wx(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const u=await e,c=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:f,url:h,timeout:p}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:u});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),v=r===void 0?"":`, retryOf: ${r}`,T=Date.now();if(Ar(this).debug(`[${g}] sending request`,Vl({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new fw;const w=new AbortController,A=await this.fetchWithTimeout(h,f,p,w).catch(cw),I=Date.now();if(A instanceof globalThis.Error){const k=`retrying, ${n} attempts remaining`;if(!((s=u.signal)===null||s===void 0)&&s.aborted)throw new fw;const z=uw(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(n)return Ar(this).info(`[${g}] connection ${z?"timed out":"failed"} - ${k}`),Ar(this).debug(`[${g}] connection ${z?"timed out":"failed"} (${k})`,Vl({retryOfRequestLogID:r,url:h,durationMs:I-T,message:A.message})),this.retryRequest(u,n,r??g);throw Ar(this).info(`[${g}] connection ${z?"timed out":"failed"} - error; no more retries left`),Ar(this).debug(`[${g}] connection ${z?"timed out":"failed"} (error; no more retries left)`,Vl({retryOfRequestLogID:r,url:h,durationMs:I-T,message:A.message})),z?new I6:new a0({cause:A})}const D=`[${g}${v}] ${f.method} ${h} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${I-T}ms`;if(!A.ok){const k=await this.shouldRetry(A);if(n&&k){const O=`retrying, ${n} attempts remaining`;return await zve(A.body),Ar(this).info(`${D} - ${O}`),Ar(this).debug(`[${g}] response error (${O})`,Vl({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:I-T})),this.retryRequest(u,n,r??g,A.headers)}const z=k?"error; no more retries left":"error; not retryable";Ar(this).info(`${D} - ${z}`);const G=await A.text().catch(O=>cw(O).message),L=Mve(G),N=L?void 0:G;throw Ar(this).debug(`[${g}] response error (${z})`,Vl({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,message:N,durationMs:Date.now()-T})),this.makeStatusError(A.status,L,N,A.headers)}return Ar(this).info(D),Ar(this).debug(`[${g}] response start`,Vl({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:I-T})),{response:A,options:u,controller:w,requestLogID:g,retryOfRequestLogID:r,startTime:T}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:u}=o,c=Uy(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,p=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);u&&(p.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,p)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(s=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await Dve(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return s*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:u,path:c,query:f,defaultBaseURL:h}=s,p=this.buildURL(c,f,h);"timeout"in s&&Ove("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:v}=this.buildBody({options:s}),T=await this.buildHeaders({options:e,method:u,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:T},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&v instanceof globalThis.ReadableStream&&{duplex:"half"}),v&&{body:v}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:p,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let u=zd([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Vve()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=zd([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Fve(e)}:this.encoder({body:e,headers:r})}}l0.DEFAULT_TIMEOUT=6e4;class Jn extends l0{constructor(){super(...arguments),this.interactions=new G6(this)}}$6=Jn;Jn.GeminiNextGenAPIClient=$6;Jn.GeminiNextGenAPIClientError=Oi;Jn.APIError=Pr;Jn.APIConnectionError=a0;Jn.APIConnectionTimeoutError=I6;Jn.APIUserAbortError=fw;Jn.NotFoundError=O6;Jn.ConflictError=M6;Jn.RateLimitError=k6;Jn.BadRequestError=P6;Jn.AuthenticationError=R6;Jn.InternalServerError=L6;Jn.PermissionDeniedError=N6;Jn.UnprocessableEntityError=D6;Jn.toFile=Kve;Jn.Interactions=G6;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a0e(t,e){const n={},r=y(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function s0e(t,e){const n={},r=y(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function l0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&_(n,["sdkHttpResponse"],r),n}function u0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&_(n,["sdkHttpResponse"],r),n}function c0e(t,e,n){const r={};if(y(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&_(e,["displayName"],i),y(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=y(t,["epochCount"]);e!==void 0&&o!=null&&_(e,["tuningTask","hyperparameters","epochCount"],o);const s=y(t,["learningRateMultiplier"]);if(s!=null&&_(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),y(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=y(t,["batchSize"]);e!==void 0&&u!=null&&_(e,["tuningTask","hyperparameters","batchSize"],u);const c=y(t,["learningRate"]);if(e!==void 0&&c!=null&&_(e,["tuningTask","hyperparameters","learningRate"],c),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function f0e(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=y(t,["validationDataset"]);e!==void 0&&v!=null&&_(e,["supervisedTuningSpec"],LL(v))}else if(i==="PREFERENCE_TUNING"){const v=y(t,["validationDataset"]);e!==void 0&&v!=null&&_(e,["preferenceOptimizationSpec"],LL(v))}const o=y(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&_(e,["tunedModelDisplayName"],o);const s=y(t,["description"]);e!==void 0&&s!=null&&_(e,["description"],s);let u=y(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(t,["epochCount"]);e!==void 0&&v!=null&&_(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(t,["epochCount"]);e!==void 0&&v!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let c=y(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=y(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&_(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(c==="PREFERENCE_TUNING"){const v=y(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let f=y(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const v=y(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&_(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(f==="PREFERENCE_TUNING"){const v=y(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&_(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let h=y(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const v=y(t,["adapterSize"]);e!==void 0&&v!=null&&_(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(h==="PREFERENCE_TUNING"){const v=y(t,["adapterSize"]);e!==void 0&&v!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=y(t,["labels"]);e!==void 0&&p!=null&&_(e,["labels"],p);const g=y(t,["beta"]);return e!==void 0&&g!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function d0e(t,e){const n={},r=y(t,["baseModel"]);r!=null&&_(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&_(n,["preTunedModel"],i);const o=y(t,["trainingDataset"]);o!=null&&T0e(o);const s=y(t,["config"]);return s!=null&&c0e(s,n),n}function h0e(t,e){const n={},r=y(t,["baseModel"]);r!=null&&_(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&_(n,["preTunedModel"],i);const o=y(t,["trainingDataset"]);o!=null&&w0e(o,n,e);const s=y(t,["config"]);return s!=null&&f0e(s,n,e),n}function p0e(t,e){const n={},r=y(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function m0e(t,e){const n={},r=y(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function g0e(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&_(e,["_query","pageSize"],i);const o=y(t,["pageToken"]);e!==void 0&&o!=null&&_(e,["_query","pageToken"],o);const s=y(t,["filter"]);return e!==void 0&&s!=null&&_(e,["_query","filter"],s),r}function y0e(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&_(e,["_query","pageSize"],i);const o=y(t,["pageToken"]);e!==void 0&&o!=null&&_(e,["_query","pageToken"],o);const s=y(t,["filter"]);return e!==void 0&&s!=null&&_(e,["_query","filter"],s),r}function v0e(t,e){const n={},r=y(t,["config"]);return r!=null&&g0e(r,n),n}function _0e(t,e){const n={},r=y(t,["config"]);return r!=null&&y0e(r,n),n}function E0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&_(n,["nextPageToken"],i);const o=y(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>K6(u))),_(n,["tuningJobs"],s)}return n}function S0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&_(n,["nextPageToken"],i);const o=y(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>pw(u))),_(n,["tuningJobs"],s)}return n}function b0e(t,e){const n={},r=y(t,["name"]);r!=null&&_(n,["model"],r);const i=y(t,["name"]);return i!=null&&_(n,["endpoint"],i),n}function T0e(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),_(n,["examples","examples"],i)}return n}function w0e(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=y(t,["gcsUri"]);e!==void 0&&s!=null&&_(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=y(t,["gcsUri"]);e!==void 0&&s!=null&&_(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=y(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=y(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&_(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=y(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&_(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(y(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function K6(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&_(n,["name"],i);const o=y(t,["state"]);o!=null&&_(n,["state"],u6(o));const s=y(t,["createTime"]);s!=null&&_(n,["createTime"],s);const u=y(t,["tuningTask","startTime"]);u!=null&&_(n,["startTime"],u);const c=y(t,["tuningTask","completeTime"]);c!=null&&_(n,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&_(n,["updateTime"],f);const h=y(t,["description"]);h!=null&&_(n,["description"],h);const p=y(t,["baseModel"]);p!=null&&_(n,["baseModel"],p);const g=y(t,["_self"]);return g!=null&&_(n,["tunedModel"],b0e(g)),n}function pw(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&_(n,["name"],i);const o=y(t,["state"]);o!=null&&_(n,["state"],u6(o));const s=y(t,["createTime"]);s!=null&&_(n,["createTime"],s);const u=y(t,["startTime"]);u!=null&&_(n,["startTime"],u);const c=y(t,["endTime"]);c!=null&&_(n,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&_(n,["updateTime"],f);const h=y(t,["error"]);h!=null&&_(n,["error"],h);const p=y(t,["description"]);p!=null&&_(n,["description"],p);const g=y(t,["baseModel"]);g!=null&&_(n,["baseModel"],g);const v=y(t,["tunedModel"]);v!=null&&_(n,["tunedModel"],v);const T=y(t,["preTunedModel"]);T!=null&&_(n,["preTunedModel"],T);const w=y(t,["supervisedTuningSpec"]);w!=null&&_(n,["supervisedTuningSpec"],w);const A=y(t,["preferenceOptimizationSpec"]);A!=null&&_(n,["preferenceOptimizationSpec"],A);const I=y(t,["tuningDataStats"]);I!=null&&_(n,["tuningDataStats"],I);const D=y(t,["encryptionSpec"]);D!=null&&_(n,["encryptionSpec"],D);const k=y(t,["partnerModelTuningSpec"]);k!=null&&_(n,["partnerModelTuningSpec"],k);const z=y(t,["customBaseModel"]);z!=null&&_(n,["customBaseModel"],z);const G=y(t,["experiment"]);G!=null&&_(n,["experiment"],G);const L=y(t,["labels"]);L!=null&&_(n,["labels"],L);const N=y(t,["outputUri"]);N!=null&&_(n,["outputUri"],N);const M=y(t,["pipelineJob"]);M!=null&&_(n,["pipelineJob"],M);const O=y(t,["serviceAccount"]);O!=null&&_(n,["serviceAccount"],O);const q=y(t,["tunedModelDisplayName"]);q!=null&&_(n,["tunedModelDisplayName"],q);const B=y(t,["veoTuningSpec"]);return B!=null&&_(n,["veoTuningSpec"],B),n}function A0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&_(n,["name"],i);const o=y(t,["metadata"]);o!=null&&_(n,["metadata"],o);const s=y(t,["done"]);s!=null&&_(n,["done"],s);const u=y(t,["error"]);return u!=null&&_(n,["error"],u),n}function LL(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&_(n,["validationDatasetUri"],r);const i=y(t,["vertexDatasetResource"]);return i!=null&&_(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x0e extends ts{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _u(Ga.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:nw.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=m0e(e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>pw(h))}else{const f=p0e(e);return u=we("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>K6(h))}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=_0e(e);return u=we("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=S0e(h),g=new lL;return Object.assign(g,p),g})}else{const f=v0e(e);return u=we("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=E0e(h),g=new lL;return Object.assign(g,p),g})}}async cancel(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=s0e(e);return u=we("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=u0e(h),g=new uL;return Object.assign(g,p),g})}else{const f=a0e(e);return u=we("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=l0e(h),g=new uL;return Object.assign(g,p),g})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=h0e(e,e);return o=we("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>pw(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d0e(e);return o=we("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>A0e(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C0e{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const I0e=1024*1024*8,P0e=3,R0e=1e3,N0e=2,By="x-goog-upload-status";async function O0e(t,e,n){var r;const i=await Y6(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[By])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function M0e(t,e,n){var r;const i=await Y6(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[By])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=r6(o),u=new qx;return Object.assign(u,s),u}async function Y6(t,e,n){var r,i;let o=0,s=0,u=new rw(new Response),c="upload";for(o=t.size;s<o;){const f=Math.min(I0e,o-s),h=t.slice(s,s+f);s+f>=o&&(c+=", finalize");let p=0,g=R0e;for(;p<P0e&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[By]));)p++,await k0e(g),g=g*N0e;if(s+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[By])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function D0e(t){return{size:t.size,type:t.type}}function k0e(t){return new Promise(e=>setTimeout(e,t))}class L0e{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await O0e(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await M0e(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await D0e(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U0e{create(e,n,r){return new V0e(e,n,r)}}class V0e{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UL="x-goog-api-key";class B0e{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(UL)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(UL,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F0e="gl-node/";class z0e{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Jn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Dde(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new B0e(this.apiKey);this.apiClient=new Dye({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:F0e+"web",uploader:new L0e,downloader:new C0e}),this.models=new Zye(this.apiClient),this.live=new Kye(this.apiClient,i,new U0e),this.batches=new upe(this.apiClient),this.chats=new Gpe(this.models,this.apiClient),this.caches=new zpe(this.apiClient),this.files=new eme(this.apiClient),this.operations=new eve(this.apiClient),this.authTokens=new gve(this.apiClient),this.tunings=new x0e(this.apiClient),this.fileSearchStores=new wve(this.apiClient)}}const W6=new z0e({apiKey:void 0}),q0e=async(t,e,n)=>{const r=[{agent:Be.GEMINI,taskCompletion:"95%",governanceAdherence:"100%",responseQuality:"9.2/10",autonomyScore:"High"},{agent:Be.PERPLEXITY,taskCompletion:"98%",governanceAdherence:"100%",responseQuality:"9.5/10",autonomyScore:"High"},{agent:Be.JULES,taskCompletion:"92%",governanceAdherence:"100%",responseQuality:"8.8/10",autonomyScore:"Medium"},{agent:Be.COPILOT,taskCompletion:"90%",governanceAdherence:"N/A",responseQuality:"8.5/10",autonomyScore:"Low"}],i={totalInteractions:47,founderInterventions:3,founderInterventionRate:"6.4%",escalationsTriggered:1,crossAgentCoordination:"Excellent",bottlenecksIdentified:"None"},o={sessionArchived:!0,artifactsVersioned:!0,readyForRetrieval:!0},s=uV,u=`Based on the RPR-KONTROL session for project "${e}" (Session ID: ${t}), provide concise recommendations for workflow optimization and agent autonomy improvement. The session had ${i.totalInteractions} interactions and ${i.founderInterventions} founder interventions.`;let c="No specific recommendations generated by AI.";try{c=(await W6.models.generateContent({model:"gemini-3-flash-preview",contents:u,config:{temperature:.7,maxOutputTokens:1e3}})).text||c}catch(p){console.error("Error generating recommendations with Gemini:",p),c="Failed to generate AI recommendations."}const f=new Date().toISOString().split("T")[0],h=`
# RPR-KONTROL Performance Report
**Session ID:** ${t}
**Project:** ${e}
**Date:** ${f}
**Classification:** ${n}

## Agent Performance Summary
| Agent | Task Completion | Governance Adherence | Response Quality | Autonomy Score |
|-------|-----------------|---------------------|------------------|----------------|
${r.map(p=>`| ${p.agent} | ${p.taskCompletion} | ${p.governanceAdherence} | ${p.responseQuality} | ${p.autonomyScore} |`).join(`
`)}

## Workflow Efficiency
- Total interactions: ${i.totalInteractions}
- Founder interventions: ${i.founderInterventions} (${i.founderInterventionRate})
- Escalations triggered: ${i.escalationsTriggered} (ethical decision)
- Cross-agent coordination: ${i.crossAgentCoordination}
- Bottlenecks identified: ${i.bottlenecksIdentified}

## Artifacts Produced
${s.map((p,g)=>`${g+1}. ${p.type===Ht.DEPLOYMENT?"Deployment":p.type.charAt(0).toUpperCase()+p.type.slice(1)}: ${p.title} (${p.version}${p.uri?`, ${p.uri}`:""})`).join(`
`)}

## Recommendations
${c}

## Flutter Sync Status
 Session archived to Firestore
 Artifacts versioned in registry
 Ready for RPR-KONTROL mobile retrieval
`;return{summary:{agentPerformance:r,workflowEfficiency:i,artifactsProduced:s,recommendations:c,flutterSyncStatus:o},markdownReport:h}},H0e=async t=>{const e=`
    //SENTINEL_PROTOCOL_V1.1.0: EMERGENCY_FORENSIC_RECONSTRUCTION
    AUTHORITY: THE ROOK
    CONTEXT: Statutory Audit Defense (Malaysian Companies Act 2016)

    Analyze the following session data and provide a structured, legally-advisory
    defense report for the Founder.

    DATA_INPUT:
    - Session ID: ${t.sessionId}
    - Validation Posture: ${t.dual_state.validation_posture}
    - Performance Metrics: ${JSON.stringify(t.performanceMetrics)}
    - Decisions Log: ${JSON.stringify(t.decisionsLog)}

    OUTPUT_STRUCTURE:
    1. //EXECUTIVE_SUMMARY: State of compliance.
    2. //STATUTORY_ANCHORS: Mapping decisions to SSM requirements.
    3. //FORENSIC_VERIFICATION: Proof of agent-founder handshake.
    4. //DEFENSE_RECOMMENDATIONS: Immediate tactical actions.
  `;try{return(await W6.models.generateContent({model:"gemini-3-pro-preview",contents:e,config:{temperature:.2,maxOutputTokens:2e3}})).text||"Report generation failed."}catch(n){return console.error("Error generating Audit Defense Report:",n),"FAILED_TO_GENERATE_FORENSIC_REPORT: Check Sentinel logs."}},G0e=t=>{const[e,n]=C.useState([]),[r,i]=C.useState(!0),[o,s]=C.useState(null);return C.useEffect(()=>{i(!0),s(null);const u=setTimeout(()=>{try{let c=hR;t&&t!=="ALL"&&(c=hR.filter(f=>f.projectCode.includes(t.toUpperCase()))),n(c),i(!1)}catch(c){console.error("Mock Firestore fetch error:",c),s("Failed to load sessions from registry."),i(!1)}},500);return()=>clearTimeout(u)},[t]),{sessions:e,loading:r,error:o}},j0e=t=>{const e=["guarantee","guarantees","guaranteed","file documents","filed documents","filing documents","tax-free","tax savings","will save you","certainty","undeniable","absolute"],n=t.toLowerCase();for(const r of e)if(n.includes(r))return!0;return!1},$0e=()=>{};var VL={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},K0e=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},X6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|u>>4;let g=(u&15)<<2|f>>6,v=f&63;c||(v=64,s||(g=64)),r.push(n[h],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(J6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):K0e(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||p==null)throw new Y0e;const g=o<<2|u>>4;if(r.push(g),f!==64){const v=u<<4&240|f>>2;if(r.push(v),p!==64){const T=f<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Y0e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W0e=function(t){const e=J6(t);return X6.encodeByteArray(e,!0)},Fy=function(t){return W0e(t).replace(/\./g,"")},Q6=function(t){try{return X6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0e=()=>J0e().__FIREBASE_DEFAULTS__,Q0e=()=>{if(typeof process>"u"||typeof VL>"u")return;const t=VL.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z0e=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Q6(t[1]);return e&&JSON.parse(e)},u0=()=>{try{return $0e()||X0e()||Q0e()||Z0e()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Z6=t=>{var e,n;return(n=(e=u0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},e5=t=>{const e=Z6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},t5=()=>{var t;return(t=u0())==null?void 0:t.config},n5=t=>{var e;return(e=u0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Fy(JSON.stringify(n)),Fy(JSON.stringify(s)),""].join(".")}const Zd={};function t_e(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zd))Zd[e]?t.emulator.push(e):t.prod.push(e);return t}function n_e(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let BL=!1;function Xx(t,e){if(typeof window>"u"||typeof document>"u"||!Eu(window.location.host)||Zd[t]===e||Zd[t]||BL)return;Zd[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",o=t_e().prod.length>0;function s(){const g=document.getElementById(r);g&&g.remove()}function u(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{BL=!0,s()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=n_e(r),v=n("text"),T=document.getElementById(v)||document.createElement("span"),w=n("learnmore"),A=document.getElementById(w)||document.createElement("a"),I=n("preprendIcon"),D=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const k=g.element;u(k),h(A,w);const z=f();c(D,I),k.append(D,T,A,z),document.body.appendChild(k)}o?(T.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r_e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function i_e(){var e;const t=(e=u0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o_e(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a_e(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function s_e(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l_e(){const t=Er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function u_e(){return!i_e()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c_e(){try{return typeof indexedDB=="object"}catch{return!1}}function f_e(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_e="FirebaseError";class ra extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=d_e,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ip.prototype.create)}}class ip{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?h_e(o,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new ra(i,u,r)}}function h_e(t,e){return t.replace(p_e,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const p_e=/\{\$([^}]+)}/g;function m_e(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function su(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(FL(o)&&FL(s)){if(!su(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function FL(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function g_e(t,e){const n=new y_e(t,e);return n.subscribe.bind(n)}class y_e{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v_e(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nb),i.error===void 0&&(i.error=Nb),i.complete===void 0&&(i.complete=Nb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v_e(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t){return t&&t._delegate?t._delegate:t}class Js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __e{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new e_e;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S_e(e))try{this.getOrInitializeService({instanceIdentifier:Bl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bl){return this.instances.has(e)}getOptions(e=Bl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E_e(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bl){return this.component?this.component.multipleInstances?e:Bl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E_e(t){return t===Bl?void 0:t}function S_e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new __e(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const T_e={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},w_e=rt.INFO,A_e={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},x_e=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=A_e[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qx{constructor(e){this.name=e,this._logLevel=w_e,this._logHandler=x_e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?T_e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const C_e=(t,e)=>e.some(n=>t instanceof n);let zL,qL;function I_e(){return zL||(zL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P_e(){return qL||(qL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i5=new WeakMap,mw=new WeakMap,o5=new WeakMap,Ob=new WeakMap,Zx=new WeakMap;function R_e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n($s(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&i5.set(n,t)}).catch(()=>{}),Zx.set(e,t),e}function N_e(t){if(mw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});mw.set(t,e)}let gw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||o5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function O_e(t){gw=t(gw)}function M_e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mb(this),e,...n);return o5.set(r,e.sort?e.sort():[e]),$s(r)}:P_e().includes(t)?function(...e){return t.apply(Mb(this),e),$s(i5.get(this))}:function(...e){return $s(t.apply(Mb(this),e))}}function D_e(t){return typeof t=="function"?M_e(t):(t instanceof IDBTransaction&&N_e(t),C_e(t,I_e())?new Proxy(t,gw):t)}function $s(t){if(t instanceof IDBRequest)return R_e(t);if(Ob.has(t))return Ob.get(t);const e=D_e(t);return e!==t&&(Ob.set(t,e),Zx.set(e,t)),e}const Mb=t=>Zx.get(t);function k_e(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),u=$s(s);return r&&s.addEventListener("upgradeneeded",c=>{r($s(s.result),c.oldVersion,c.newVersion,$s(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const L_e=["get","getKey","getAll","getAllKeys","count"],U_e=["put","add","delete","clear"],Db=new Map;function HL(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Db.get(e))return Db.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=U_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||L_e.includes(n)))return;const o=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return Db.set(e,o),o}O_e(t=>({...t,get:(e,n,r)=>HL(e,n)||t.get(e,n,r),has:(e,n)=>!!HL(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B_e(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function B_e(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yw="@firebase/app",GL="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new Qx("@firebase/app"),F_e="@firebase/app-compat",z_e="@firebase/analytics-compat",q_e="@firebase/analytics",H_e="@firebase/app-check-compat",G_e="@firebase/app-check",j_e="@firebase/auth",$_e="@firebase/auth-compat",K_e="@firebase/database",Y_e="@firebase/data-connect",W_e="@firebase/database-compat",J_e="@firebase/functions",X_e="@firebase/functions-compat",Q_e="@firebase/installations",Z_e="@firebase/installations-compat",eEe="@firebase/messaging",tEe="@firebase/messaging-compat",nEe="@firebase/performance",rEe="@firebase/performance-compat",iEe="@firebase/remote-config",oEe="@firebase/remote-config-compat",aEe="@firebase/storage",sEe="@firebase/storage-compat",lEe="@firebase/firestore",uEe="@firebase/ai",cEe="@firebase/firestore-compat",fEe="firebase",dEe="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="[DEFAULT]",hEe={[yw]:"fire-core",[F_e]:"fire-core-compat",[q_e]:"fire-analytics",[z_e]:"fire-analytics-compat",[G_e]:"fire-app-check",[H_e]:"fire-app-check-compat",[j_e]:"fire-auth",[$_e]:"fire-auth-compat",[K_e]:"fire-rtdb",[Y_e]:"fire-data-connect",[W_e]:"fire-rtdb-compat",[J_e]:"fire-fn",[X_e]:"fire-fn-compat",[Q_e]:"fire-iid",[Z_e]:"fire-iid-compat",[eEe]:"fire-fcm",[tEe]:"fire-fcm-compat",[nEe]:"fire-perf",[rEe]:"fire-perf-compat",[iEe]:"fire-rc",[oEe]:"fire-rc-compat",[aEe]:"fire-gcs",[sEe]:"fire-gcs-compat",[lEe]:"fire-fst",[cEe]:"fire-fst-compat",[uEe]:"fire-vertex","fire-js":"fire-js",[fEe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,pEe=new Map,_w=new Map;function jL(t,e){try{t.container.addComponent(e)}catch(n){ja.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lu(t){const e=t.name;if(_w.has(e))return ja.debug(`There were multiple attempts to register component ${e}.`),!1;_w.set(e,t);for(const n of Ah.values())jL(n,t);for(const n of pEe.values())jL(n,t);return!0}function c0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mEe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new ip("app","Firebase",mEe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gEe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=dEe;function a5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ks.create("bad-app-name",{appName:String(i)});if(n||(n=t5()),!n)throw Ks.create("no-options");const o=Ah.get(i);if(o){if(su(n,o.options)&&su(r,o.config))return o;throw Ks.create("duplicate-app",{appName:i})}const s=new b_e(i);for(const c of _w.values())s.addComponent(c);const u=new gEe(n,r,s);return Ah.set(i,u),u}function f0(t=vw){const e=Ah.get(t);if(!e&&t===vw&&t5())return a5();if(!e)throw Ks.create("no-app",{appName:t});return e}function yEe(){return Array.from(Ah.values())}function $o(t,e,n){let r=hEe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ja.warn(s.join(" "));return}lu(new Js(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vEe="firebase-heartbeat-database",_Ee=1,xh="firebase-heartbeat-store";let kb=null;function s5(){return kb||(kb=k_e(vEe,_Ee,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),kb}async function EEe(t){try{const n=(await s5()).transaction(xh),r=await n.objectStore(xh).get(l5(t));return await n.done,r}catch(e){if(e instanceof ra)ja.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ja.warn(n.message)}}}async function $L(t,e){try{const r=(await s5()).transaction(xh,"readwrite");await r.objectStore(xh).put(e,l5(t)),await r.done}catch(n){if(n instanceof ra)ja.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ja.warn(r.message)}}}function l5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SEe=1024,bEe=30;class TEe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AEe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=KL();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>bEe){const s=xEe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ja.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=KL(),{heartbeatsToSend:r,unsentEntries:i}=wEe(this._heartbeatsCache.heartbeats),o=Fy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ja.warn(n),""}}}function KL(){return new Date().toISOString().substring(0,10)}function wEe(t,e=SEe){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),YL(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AEe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c_e()?f_e().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EEe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $L(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $L(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function YL(t){return Fy(JSON.stringify({version:2,heartbeats:t})).length}function xEe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CEe(t){lu(new Js("platform-logger",e=>new V_e(e),"PRIVATE")),lu(new Js("heartbeat",e=>new TEe(e),"PRIVATE")),$o(yw,GL,t),$o(yw,GL,"esm2020"),$o("fire-js","")}CEe("");var WL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,M){function O(){}O.prototype=M.prototype,N.F=M.prototype,N.prototype=new O,N.prototype.constructor=N,N.D=function(q,B,V){for(var F=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)F[ue-2]=arguments[ue];return M.prototype[B].apply(q,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,M,O){O||(O=0);const q=Array(16);if(typeof M=="string")for(var B=0;B<16;++B)q[B]=M.charCodeAt(O++)|M.charCodeAt(O++)<<8|M.charCodeAt(O++)<<16|M.charCodeAt(O++)<<24;else for(B=0;B<16;++B)q[B]=M[O++]|M[O++]<<8|M[O++]<<16|M[O++]<<24;M=N.g[0],O=N.g[1],B=N.g[2];let V=N.g[3],F;F=M+(V^O&(B^V))+q[0]+3614090360&4294967295,M=O+(F<<7&4294967295|F>>>25),F=V+(B^M&(O^B))+q[1]+3905402710&4294967295,V=M+(F<<12&4294967295|F>>>20),F=B+(O^V&(M^O))+q[2]+606105819&4294967295,B=V+(F<<17&4294967295|F>>>15),F=O+(M^B&(V^M))+q[3]+3250441966&4294967295,O=B+(F<<22&4294967295|F>>>10),F=M+(V^O&(B^V))+q[4]+4118548399&4294967295,M=O+(F<<7&4294967295|F>>>25),F=V+(B^M&(O^B))+q[5]+1200080426&4294967295,V=M+(F<<12&4294967295|F>>>20),F=B+(O^V&(M^O))+q[6]+2821735955&4294967295,B=V+(F<<17&4294967295|F>>>15),F=O+(M^B&(V^M))+q[7]+4249261313&4294967295,O=B+(F<<22&4294967295|F>>>10),F=M+(V^O&(B^V))+q[8]+1770035416&4294967295,M=O+(F<<7&4294967295|F>>>25),F=V+(B^M&(O^B))+q[9]+2336552879&4294967295,V=M+(F<<12&4294967295|F>>>20),F=B+(O^V&(M^O))+q[10]+4294925233&4294967295,B=V+(F<<17&4294967295|F>>>15),F=O+(M^B&(V^M))+q[11]+2304563134&4294967295,O=B+(F<<22&4294967295|F>>>10),F=M+(V^O&(B^V))+q[12]+1804603682&4294967295,M=O+(F<<7&4294967295|F>>>25),F=V+(B^M&(O^B))+q[13]+4254626195&4294967295,V=M+(F<<12&4294967295|F>>>20),F=B+(O^V&(M^O))+q[14]+2792965006&4294967295,B=V+(F<<17&4294967295|F>>>15),F=O+(M^B&(V^M))+q[15]+1236535329&4294967295,O=B+(F<<22&4294967295|F>>>10),F=M+(B^V&(O^B))+q[1]+4129170786&4294967295,M=O+(F<<5&4294967295|F>>>27),F=V+(O^B&(M^O))+q[6]+3225465664&4294967295,V=M+(F<<9&4294967295|F>>>23),F=B+(M^O&(V^M))+q[11]+643717713&4294967295,B=V+(F<<14&4294967295|F>>>18),F=O+(V^M&(B^V))+q[0]+3921069994&4294967295,O=B+(F<<20&4294967295|F>>>12),F=M+(B^V&(O^B))+q[5]+3593408605&4294967295,M=O+(F<<5&4294967295|F>>>27),F=V+(O^B&(M^O))+q[10]+38016083&4294967295,V=M+(F<<9&4294967295|F>>>23),F=B+(M^O&(V^M))+q[15]+3634488961&4294967295,B=V+(F<<14&4294967295|F>>>18),F=O+(V^M&(B^V))+q[4]+3889429448&4294967295,O=B+(F<<20&4294967295|F>>>12),F=M+(B^V&(O^B))+q[9]+568446438&4294967295,M=O+(F<<5&4294967295|F>>>27),F=V+(O^B&(M^O))+q[14]+3275163606&4294967295,V=M+(F<<9&4294967295|F>>>23),F=B+(M^O&(V^M))+q[3]+4107603335&4294967295,B=V+(F<<14&4294967295|F>>>18),F=O+(V^M&(B^V))+q[8]+1163531501&4294967295,O=B+(F<<20&4294967295|F>>>12),F=M+(B^V&(O^B))+q[13]+2850285829&4294967295,M=O+(F<<5&4294967295|F>>>27),F=V+(O^B&(M^O))+q[2]+4243563512&4294967295,V=M+(F<<9&4294967295|F>>>23),F=B+(M^O&(V^M))+q[7]+1735328473&4294967295,B=V+(F<<14&4294967295|F>>>18),F=O+(V^M&(B^V))+q[12]+2368359562&4294967295,O=B+(F<<20&4294967295|F>>>12),F=M+(O^B^V)+q[5]+4294588738&4294967295,M=O+(F<<4&4294967295|F>>>28),F=V+(M^O^B)+q[8]+2272392833&4294967295,V=M+(F<<11&4294967295|F>>>21),F=B+(V^M^O)+q[11]+1839030562&4294967295,B=V+(F<<16&4294967295|F>>>16),F=O+(B^V^M)+q[14]+4259657740&4294967295,O=B+(F<<23&4294967295|F>>>9),F=M+(O^B^V)+q[1]+2763975236&4294967295,M=O+(F<<4&4294967295|F>>>28),F=V+(M^O^B)+q[4]+1272893353&4294967295,V=M+(F<<11&4294967295|F>>>21),F=B+(V^M^O)+q[7]+4139469664&4294967295,B=V+(F<<16&4294967295|F>>>16),F=O+(B^V^M)+q[10]+3200236656&4294967295,O=B+(F<<23&4294967295|F>>>9),F=M+(O^B^V)+q[13]+681279174&4294967295,M=O+(F<<4&4294967295|F>>>28),F=V+(M^O^B)+q[0]+3936430074&4294967295,V=M+(F<<11&4294967295|F>>>21),F=B+(V^M^O)+q[3]+3572445317&4294967295,B=V+(F<<16&4294967295|F>>>16),F=O+(B^V^M)+q[6]+76029189&4294967295,O=B+(F<<23&4294967295|F>>>9),F=M+(O^B^V)+q[9]+3654602809&4294967295,M=O+(F<<4&4294967295|F>>>28),F=V+(M^O^B)+q[12]+3873151461&4294967295,V=M+(F<<11&4294967295|F>>>21),F=B+(V^M^O)+q[15]+530742520&4294967295,B=V+(F<<16&4294967295|F>>>16),F=O+(B^V^M)+q[2]+3299628645&4294967295,O=B+(F<<23&4294967295|F>>>9),F=M+(B^(O|~V))+q[0]+4096336452&4294967295,M=O+(F<<6&4294967295|F>>>26),F=V+(O^(M|~B))+q[7]+1126891415&4294967295,V=M+(F<<10&4294967295|F>>>22),F=B+(M^(V|~O))+q[14]+2878612391&4294967295,B=V+(F<<15&4294967295|F>>>17),F=O+(V^(B|~M))+q[5]+4237533241&4294967295,O=B+(F<<21&4294967295|F>>>11),F=M+(B^(O|~V))+q[12]+1700485571&4294967295,M=O+(F<<6&4294967295|F>>>26),F=V+(O^(M|~B))+q[3]+2399980690&4294967295,V=M+(F<<10&4294967295|F>>>22),F=B+(M^(V|~O))+q[10]+4293915773&4294967295,B=V+(F<<15&4294967295|F>>>17),F=O+(V^(B|~M))+q[1]+2240044497&4294967295,O=B+(F<<21&4294967295|F>>>11),F=M+(B^(O|~V))+q[8]+1873313359&4294967295,M=O+(F<<6&4294967295|F>>>26),F=V+(O^(M|~B))+q[15]+4264355552&4294967295,V=M+(F<<10&4294967295|F>>>22),F=B+(M^(V|~O))+q[6]+2734768916&4294967295,B=V+(F<<15&4294967295|F>>>17),F=O+(V^(B|~M))+q[13]+1309151649&4294967295,O=B+(F<<21&4294967295|F>>>11),F=M+(B^(O|~V))+q[4]+4149444226&4294967295,M=O+(F<<6&4294967295|F>>>26),F=V+(O^(M|~B))+q[11]+3174756917&4294967295,V=M+(F<<10&4294967295|F>>>22),F=B+(M^(V|~O))+q[2]+718787259&4294967295,B=V+(F<<15&4294967295|F>>>17),F=O+(V^(B|~M))+q[9]+3951481745&4294967295,N.g[0]=N.g[0]+M&4294967295,N.g[1]=N.g[1]+(B+(F<<21&4294967295|F>>>11))&4294967295,N.g[2]=N.g[2]+B&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.v=function(N,M){M===void 0&&(M=N.length);const O=M-this.blockSize,q=this.C;let B=this.h,V=0;for(;V<M;){if(B==0)for(;V<=O;)i(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<M;)if(q[B++]=N.charCodeAt(V++),B==this.blockSize){i(this,q),B=0;break}}else for(;V<M;)if(q[B++]=N[V++],B==this.blockSize){i(this,q),B=0;break}}this.h=B,this.o+=M},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var M=1;M<N.length-8;++M)N[M]=0;M=this.o*8;for(var O=N.length-8;O<N.length;++O)N[O]=M&255,M/=256;for(this.v(N),N=Array(16),M=0,O=0;O<4;++O)for(let q=0;q<32;q+=8)N[M++]=this.g[O]>>>q&255;return N};function o(N,M){var O=u;return Object.prototype.hasOwnProperty.call(O,N)?O[N]:O[N]=M(N)}function s(N,M){this.h=M;const O=[];let q=!0;for(let B=N.length-1;B>=0;B--){const V=N[B]|0;q&&V==M||(O[B]=V,q=!1)}this.g=O}var u={};function c(N){return-128<=N&&N<128?o(N,function(M){return new s([M|0],M<0?-1:0)}):new s([N|0],N<0?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return p;if(N<0)return A(f(-N));const M=[];let O=1;for(let q=0;N>=O;q++)M[q]=N/O|0,O*=4294967296;return new s(M,0)}function h(N,M){if(N.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(N.charAt(0)=="-")return A(h(N.substring(1),M));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=f(Math.pow(M,8));let q=p;for(let V=0;V<N.length;V+=8){var B=Math.min(8,N.length-V);const F=parseInt(N.substring(V,V+B),M);B<8?(B=f(Math.pow(M,B)),q=q.j(B).add(f(F))):(q=q.j(O),q=q.add(f(F)))}return q}var p=c(0),g=c(1),v=c(16777216);t=s.prototype,t.m=function(){if(w(this))return-A(this).m();let N=0,M=1;for(let O=0;O<this.g.length;O++){const q=this.i(O);N+=(q>=0?q:4294967296+q)*M,M*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(T(this))return"0";if(w(this))return"-"+A(this).toString(N);const M=f(Math.pow(N,6));var O=this;let q="";for(;;){const B=z(O,M).g;O=I(O,B.j(M));let V=((O.g.length>0?O.g[0]:O.h)>>>0).toString(N);if(O=B,T(O))return V+q;for(;V.length<6;)V="0"+V;q=V+q}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function T(N){if(N.h!=0)return!1;for(let M=0;M<N.g.length;M++)if(N.g[M]!=0)return!1;return!0}function w(N){return N.h==-1}t.l=function(N){return N=I(this,N),w(N)?-1:T(N)?0:1};function A(N){const M=N.g.length,O=[];for(let q=0;q<M;q++)O[q]=~N.g[q];return new s(O,~N.h).add(g)}t.abs=function(){return w(this)?A(this):this},t.add=function(N){const M=Math.max(this.g.length,N.g.length),O=[];let q=0;for(let B=0;B<=M;B++){let V=q+(this.i(B)&65535)+(N.i(B)&65535),F=(V>>>16)+(this.i(B)>>>16)+(N.i(B)>>>16);q=F>>>16,V&=65535,F&=65535,O[B]=F<<16|V}return new s(O,O[O.length-1]&-2147483648?-1:0)};function I(N,M){return N.add(A(M))}t.j=function(N){if(T(this)||T(N))return p;if(w(this))return w(N)?A(this).j(A(N)):A(A(this).j(N));if(w(N))return A(this.j(A(N)));if(this.l(v)<0&&N.l(v)<0)return f(this.m()*N.m());const M=this.g.length+N.g.length,O=[];for(var q=0;q<2*M;q++)O[q]=0;for(q=0;q<this.g.length;q++)for(let B=0;B<N.g.length;B++){const V=this.i(q)>>>16,F=this.i(q)&65535,ue=N.i(B)>>>16,ce=N.i(B)&65535;O[2*q+2*B]+=F*ce,D(O,2*q+2*B),O[2*q+2*B+1]+=V*ce,D(O,2*q+2*B+1),O[2*q+2*B+1]+=F*ue,D(O,2*q+2*B+1),O[2*q+2*B+2]+=V*ue,D(O,2*q+2*B+2)}for(N=0;N<M;N++)O[N]=O[2*N+1]<<16|O[2*N];for(N=M;N<2*M;N++)O[N]=0;return new s(O,0)};function D(N,M){for(;(N[M]&65535)!=N[M];)N[M+1]+=N[M]>>>16,N[M]&=65535,M++}function k(N,M){this.g=N,this.h=M}function z(N,M){if(T(M))throw Error("division by zero");if(T(N))return new k(p,p);if(w(N))return M=z(A(N),M),new k(A(M.g),A(M.h));if(w(M))return M=z(N,A(M)),new k(A(M.g),M.h);if(N.g.length>30){if(w(N)||w(M))throw Error("slowDivide_ only works with positive integers.");for(var O=g,q=M;q.l(N)<=0;)O=G(O),q=G(q);var B=L(O,1),V=L(q,1);for(q=L(q,2),O=L(O,2);!T(q);){var F=V.add(q);F.l(N)<=0&&(B=B.add(O),V=F),q=L(q,1),O=L(O,1)}return M=I(N,B.j(M)),new k(B,M)}for(B=p;N.l(M)>=0;){for(O=Math.max(1,Math.floor(N.m()/M.m())),q=Math.ceil(Math.log(O)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),V=f(O),F=V.j(M);w(F)||F.l(N)>0;)O-=q,V=f(O),F=V.j(M);T(V)&&(V=g),B=B.add(V),N=I(N,F)}return new k(B,N)}t.B=function(N){return z(this,N).h},t.and=function(N){const M=Math.max(this.g.length,N.g.length),O=[];for(let q=0;q<M;q++)O[q]=this.i(q)&N.i(q);return new s(O,this.h&N.h)},t.or=function(N){const M=Math.max(this.g.length,N.g.length),O=[];for(let q=0;q<M;q++)O[q]=this.i(q)|N.i(q);return new s(O,this.h|N.h)},t.xor=function(N){const M=Math.max(this.g.length,N.g.length),O=[];for(let q=0;q<M;q++)O[q]=this.i(q)^N.i(q);return new s(O,this.h^N.h)};function G(N){const M=N.g.length+1,O=[];for(let q=0;q<M;q++)O[q]=N.i(q)<<1|N.i(q-1)>>>31;return new s(O,N.h)}function L(N,M){const O=M>>5;M%=32;const q=N.g.length-O,B=[];for(let V=0;V<q;V++)B[V]=M>0?N.i(V+O)>>>M|N.i(V+O+1)<<32-M:N.i(V+O);return new s(B,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,eC=s}).apply(typeof WL<"u"?WL:typeof self<"u"?self:typeof window<"u"?window:{});var cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u5,Kd,c5,Cg,Ew,f5,d5,h5;(function(){var t,e=Object.defineProperty;function n(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof cg=="object"&&cg];for(var x=0;x<E.length;++x){var R=E[x];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(E,x){if(x)e:{var R=r;E=E.split(".");for(var H=0;H<E.length-1;H++){var ee=E[H];if(!(ee in R))break e;R=R[ee]}E=E[E.length-1],H=R[E],x=x(H),x!=H&&x!=null&&e(R,E,{configurable:!0,writable:!0,value:x})}}i("Symbol.dispose",function(E){return E||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(E){return E||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(E){return E||function(x){var R=[],H;for(H in x)Object.prototype.hasOwnProperty.call(x,H)&&R.push([H,x[H]]);return R}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function u(E){var x=typeof E;return x=="object"&&E!=null||x=="function"}function c(E,x,R){return E.call.apply(E.bind,arguments)}function f(E,x,R){return f=c,f.apply(null,arguments)}function h(E,x){var R=Array.prototype.slice.call(arguments,1);return function(){var H=R.slice();return H.push.apply(H,arguments),E.apply(this,H)}}function p(E,x){function R(){}R.prototype=x.prototype,E.Z=x.prototype,E.prototype=new R,E.prototype.constructor=E,E.Ob=function(H,ee,oe){for(var Te=Array(arguments.length-2),je=2;je<arguments.length;je++)Te[je-2]=arguments[je];return x.prototype[ee].apply(H,Te)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?E=>E&&AsyncContext.Snapshot.wrap(E):E=>E;function v(E){const x=E.length;if(x>0){const R=Array(x);for(let H=0;H<x;H++)R[H]=E[H];return R}return[]}function T(E,x){for(let H=1;H<arguments.length;H++){const ee=arguments[H];var R=typeof ee;if(R=R!="object"?R:ee?Array.isArray(ee)?"array":R:"null",R=="array"||R=="object"&&typeof ee.length=="number"){R=E.length||0;const oe=ee.length||0;E.length=R+oe;for(let Te=0;Te<oe;Te++)E[R+Te]=ee[Te]}else E.push(ee)}}class w{constructor(x,R){this.i=x,this.j=R,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function A(E){s.setTimeout(()=>{throw E},0)}function I(){var E=N;let x=null;return E.g&&(x=E.g,E.g=E.g.next,E.g||(E.h=null),x.next=null),x}class D{constructor(){this.h=this.g=null}add(x,R){const H=k.get();H.set(x,R),this.h?this.h.next=H:this.g=H,this.h=H}}var k=new w(()=>new z,E=>E.reset());class z{constructor(){this.next=this.g=this.h=null}set(x,R){this.h=x,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let G,L=!1,N=new D,M=()=>{const E=Promise.resolve(void 0);G=()=>{E.then(O)}};function O(){for(var E;E=I();){try{E.h.call(E.g)}catch(R){A(R)}var x=k;x.j(E),x.h<100&&(x.h++,E.next=x.g,x.g=E)}L=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(E,x){this.type=E,this.g=this.target=x,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var E=!1,x=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const R=()=>{};s.addEventListener("test",R,x),s.removeEventListener("test",R,x)}catch{}return E})();function F(E){return/^[\s\xa0]*$/.test(E)}function ue(E,x){B.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E&&this.init(E,x)}p(ue,B),ue.prototype.init=function(E,x){const R=this.type=E.type,H=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;this.target=E.target||E.srcElement,this.g=x,x=E.relatedTarget,x||(R=="mouseover"?x=E.fromElement:R=="mouseout"&&(x=E.toElement)),this.relatedTarget=x,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=E.pointerType,this.state=E.state,this.i=E,E.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(E,x,R,H,ee){this.listener=E,this.proxy=null,this.src=x,this.type=R,this.capture=!!H,this.ha=ee,this.key=++X,this.da=this.fa=!1}function le(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function ge(E,x,R){for(const H in E)x.call(R,E[H],H,E)}function $(E,x){for(const R in E)x.call(void 0,E[R],R,E)}function Y(E){const x={};for(const R in E)x[R]=E[R];return x}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(E,x){let R,H;for(let ee=1;ee<arguments.length;ee++){H=arguments[ee];for(R in H)E[R]=H[R];for(let oe=0;oe<re.length;oe++)R=re[oe],Object.prototype.hasOwnProperty.call(H,R)&&(E[R]=H[R])}}function _e(E){this.src=E,this.g={},this.h=0}_e.prototype.add=function(E,x,R,H,ee){const oe=E.toString();E=this.g[oe],E||(E=this.g[oe]=[],this.h++);const Te=xe(E,x,H,ee);return Te>-1?(x=E[Te],R||(x.fa=!1)):(x=new se(x,this.src,oe,!!H,ee),x.fa=R,E.push(x)),x};function Pe(E,x){const R=x.type;if(R in E.g){var H=E.g[R],ee=Array.prototype.indexOf.call(H,x,void 0),oe;(oe=ee>=0)&&Array.prototype.splice.call(H,ee,1),oe&&(le(x),E.g[R].length==0&&(delete E.g[R],E.h--))}}function xe(E,x,R,H){for(let ee=0;ee<E.length;++ee){const oe=E[ee];if(!oe.da&&oe.listener==x&&oe.capture==!!R&&oe.ha==H)return ee}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),ut={};function fe(E,x,R,H,ee){if(Array.isArray(x)){for(let oe=0;oe<x.length;oe++)fe(E,x[oe],R,H,ee);return null}return R=mo(R),E&&E[ce]?E.J(x,R,u(H)?!!H.capture:!1,ee):Ue(E,x,R,!1,H,ee)}function Ue(E,x,R,H,ee,oe){if(!x)throw Error("Invalid event type");const Te=u(ee)?!!ee.capture:!!ee;let je=Ft(E);if(je||(E[Me]=je=new _e(E)),R=je.add(x,R,H,Te,oe),R.proxy)return R;if(H=He(),R.proxy=H,H.src=E,H.listener=R,E.addEventListener)V||(ee=Te),ee===void 0&&(ee=!1),E.addEventListener(x.toString(),H,ee);else if(E.attachEvent)E.attachEvent(Je(x.toString()),H);else if(E.addListener&&E.removeListener)E.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return R}function He(){function E(R){return x.call(E.src,E.listener,R)}const x=tn;return E}function ve(E,x,R,H,ee){if(Array.isArray(x))for(var oe=0;oe<x.length;oe++)ve(E,x[oe],R,H,ee);else H=u(H)?!!H.capture:!!H,R=mo(R),E&&E[ce]?(E=E.i,oe=String(x).toString(),oe in E.g&&(x=E.g[oe],R=xe(x,R,H,ee),R>-1&&(le(x[R]),Array.prototype.splice.call(x,R,1),x.length==0&&(delete E.g[oe],E.h--)))):E&&(E=Ft(E))&&(x=E.g[x.toString()],E=-1,x&&(E=xe(x,R,H,ee)),(R=E>-1?x[E]:null)&&Yt(R))}function Yt(E){if(typeof E!="number"&&E&&!E.da){var x=E.src;if(x&&x[ce])Pe(x.i,E);else{var R=E.type,H=E.proxy;x.removeEventListener?x.removeEventListener(R,H,E.capture):x.detachEvent?x.detachEvent(Je(R),H):x.addListener&&x.removeListener&&x.removeListener(H),(R=Ft(x))?(Pe(R,E),R.h==0&&(R.src=null,x[Me]=null)):le(E)}}}function Je(E){return E in ut?ut[E]:ut[E]="on"+E}function tn(E,x){if(E.da)E=!0;else{x=new ue(x,this);const R=E.listener,H=E.ha||E.src;E.fa&&Yt(E),E=R.call(H,x)}return E}function Ft(E){return E=E[Me],E instanceof _e?E:null}var ur="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(E){return typeof E=="function"?E:(E[ur]||(E[ur]=function(x){return E.handleEvent(x)}),E[ur])}function Wt(){q.call(this),this.i=new _e(this),this.M=this,this.G=null}p(Wt,q),Wt.prototype[ce]=!0,Wt.prototype.removeEventListener=function(E,x,R,H){ve(this,E,x,R,H)};function nn(E,x){var R,H=E.G;if(H)for(R=[];H;H=H.G)R.push(H);if(E=E.M,H=x.type||x,typeof x=="string")x=new B(x,E);else if(x instanceof B)x.target=x.target||E;else{var ee=x;x=new B(H,E),j(x,ee)}ee=!0;let oe,Te;if(R)for(Te=R.length-1;Te>=0;Te--)oe=x.g=R[Te],ee=go(oe,H,!0,x)&&ee;if(oe=x.g=E,ee=go(oe,H,!0,x)&&ee,ee=go(oe,H,!1,x)&&ee,R)for(Te=0;Te<R.length;Te++)oe=x.g=R[Te],ee=go(oe,H,!1,x)&&ee}Wt.prototype.N=function(){if(Wt.Z.N.call(this),this.i){var E=this.i;for(const x in E.g){const R=E.g[x];for(let H=0;H<R.length;H++)le(R[H]);delete E.g[x],E.h--}}this.G=null},Wt.prototype.J=function(E,x,R,H){return this.i.add(String(E),x,!1,R,H)},Wt.prototype.K=function(E,x,R,H){return this.i.add(String(E),x,!0,R,H)};function go(E,x,R,H){if(x=E.i.g[String(x)],!x)return!0;x=x.concat();let ee=!0;for(let oe=0;oe<x.length;++oe){const Te=x[oe];if(Te&&!Te.da&&Te.capture==R){const je=Te.listener,ln=Te.ha||Te.src;Te.fa&&Pe(E.i,Te),ee=je.call(ln,H)!==!1&&ee}}return ee&&!H.defaultPrevented}function xf(E,x){if(typeof E!="function")if(E&&typeof E.handleEvent=="function")E=f(E.handleEvent,E);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:s.setTimeout(E,x||0)}function wu(E){E.g=xf(()=>{E.g=null,E.i&&(E.i=!1,wu(E))},E.l);const x=E.h;E.h=null,E.m.apply(null,x)}class Xn extends q{constructor(x,R){super(),this.m=x,this.l=R,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:wu(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(E){q.call(this),this.h=E,this.g={}}p(oa,q);var he=[];function be(E){ge(E.g,function(x,R){this.g.hasOwnProperty(R)&&Yt(x)},E),E.g={}}oa.prototype.N=function(){oa.Z.N.call(this),be(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Le=s.JSON.stringify,Xe=s.JSON.parse,ct=class{stringify(E){return s.JSON.stringify(E,void 0)}parse(E){return s.JSON.parse(E,void 0)}};function cr(){}function ci(){}var sn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){B.call(this,"d")}p(Jt,B);function Bn(){B.call(this,"c")}p(Bn,B);var at={},ki=null;function fr(){return ki=ki||new Wt}at.Ia="serverreachability";function mp(E){B.call(this,at.Ia,E)}p(mp,B);function yo(E){const x=fr();nn(x,new mp(x))}at.STAT_EVENT="statevent";function sl(E,x){B.call(this,at.STAT_EVENT,E),this.stat=x}p(sl,B);function yn(E){const x=fr();nn(x,new sl(x,E))}at.Ja="timingevent";function vo(E,x){B.call(this,at.Ja,E),this.size=x}p(vo,B);function _o(E,x){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){E()},x)}function Li(){this.g=!0}Li.prototype.ua=function(){this.g=!1};function T0(E,x,R,H,ee,oe){E.info(function(){if(E.g)if(oe){var Te="",je=oe.split("&");for(let mt=0;mt<je.length;mt++){var ln=je[mt].split("=");if(ln.length>1){const zt=ln[0];ln=ln[1];const pi=zt.split("_");Te=pi.length>=2&&pi[1]=="type"?Te+(zt+"="+ln+"&"):Te+(zt+"=redacted&")}}}else Te=null;else Te=oe;return"XMLHTTP REQ ("+H+") [attempt "+ee+"]: "+x+`
`+R+`
`+Te})}function gp(E,x,R,H,ee,oe,Te){E.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+ee+"]: "+x+`
`+R+`
`+oe+" "+Te})}function Eo(E,x,R,H){E.info(function(){return"XMLHTTP TEXT ("+x+"): "+w0(E,R)+(H?" "+H:"")})}function ll(E,x){E.info(function(){return"TIMEOUT: "+x})}Li.prototype.info=function(){};function w0(E,x){if(!E.g)return x;if(!x)return null;try{const oe=JSON.parse(x);if(oe){for(E=0;E<oe.length;E++)if(Array.isArray(oe[E])){var R=oe[E];if(!(R.length<2)){var H=R[1];if(Array.isArray(H)&&!(H.length<1)){var ee=H[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let Te=1;Te<H.length;Te++)H[Te]=""}}}}return Le(oe)}catch{return x}}var ul={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},If;function cl(){}p(cl,cr),cl.prototype.g=function(){return new XMLHttpRequest},If=new cl;function aa(E){return encodeURIComponent(String(E))}function yp(E){var x=1;E=E.split(":");const R=[];for(;x>0&&E.length;)R.push(E.shift()),x--;return E.length&&R.push(E.join(":")),R}function Ui(E,x,R,H){this.j=E,this.i=x,this.l=R,this.S=H||1,this.V=new oa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vi}function Vi(){this.i=null,this.g="",this.h=!1}var vn={},Fn={};function So(E,x,R){E.M=1,E.A=fl(En(x)),E.u=R,E.R=!0,Au(E,null)}function Au(E,x){E.F=Date.now(),bo(E),E.B=En(E.A);var R=E.B,H=E.S;Array.isArray(H)||(H=[String(H)]),Pu(R.i,"t",H),E.C=0,R=E.j.L,E.h=new Vi,E.g=Op(E.j,R?x:null,!E.u),E.P>0&&(E.O=new Xn(f(E.Y,E,E.g),E.P)),x=E.V,R=E.g,H=E.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(he[0]=ee.toString()),ee=he);for(let oe=0;oe<ee.length;oe++){const Te=fe(R,ee[oe],H||x.handleEvent,!1,x.h||x);if(!Te)break;x.g[Te.key]=Te}x=E.J?Y(E.J):{},E.u?(E.v||(E.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.B,E.v,E.u,x)):(E.v="GET",E.g.ea(E.B,E.v,null,x)),yo(),T0(E.i,E.v,E.B,E.l,E.S,E.u)}Ui.prototype.ba=function(E){E=E.target;const x=this.O;x&&zi(E)==3?x.j():this.Y(E)},Ui.prototype.Y=function(E){try{if(E==this.g)e:{const je=zi(this.g),ln=this.g.ya(),mt=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||Qn(this.g)))){this.K||je!=4||ln==7||(ln==8||mt<=0?yo(3):yo(2)),To(this);var x=this.g.ca();this.X=x;var R=A0(this);if(this.o=x==200,gp(this.i,this.v,this.B,this.l,this.S,je,x),this.o){if(this.U&&!this.L){t:{if(this.g){var H,ee=this.g;if((H=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(H)){var oe=H;break t}}oe=null}if(E=oe)Eo(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wo(this,E);else{this.o=!1,this.m=3,yn(12),Wr(this),fi(this);break e}}if(this.R){E=!0;let zt;for(;!this.K&&this.C<R.length;)if(zt=_p(this,R),zt==Fn){je==4&&(this.m=4,yn(14),E=!1),Eo(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==vn){this.m=4,yn(15),Eo(this.i,this.l,R,"[Invalid Chunk]"),E=!1;break}else Eo(this.i,this.l,zt,null),wo(this,zt);if(vp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||R.length!=0||this.h.h||(this.m=1,yn(16),E=!1),this.o=this.o&&E,!E)Eo(this.i,this.l,R,"[Invalid Chunked Response]"),Wr(this),fi(this);else if(R.length>0&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.aa&&!Te.P&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Hf(Te),Te.P=!0,yn(11))}}else Eo(this.i,this.l,R,null),wo(this,R);je==4&&Wr(this),this.o&&!this.K&&(je==4?Ip(this.j,this):(this.o=!1,bo(this)))}else la(this.g),x==400&&R.indexOf("Unknown SID")>0?(this.m=3,yn(12)):(this.m=0,yn(13)),Wr(this),fi(this)}}}catch{}finally{}};function A0(E){if(!vp(E))return E.g.la();const x=Qn(E.g);if(x==="")return"";let R="";const H=x.length,ee=zi(E.g)==4;if(!E.h.i){if(typeof TextDecoder>"u")return Wr(E),fi(E),"";E.h.i=new s.TextDecoder}for(let oe=0;oe<H;oe++)E.h.h=!0,R+=E.h.i.decode(x[oe],{stream:!(ee&&oe==H-1)});return x.length=0,E.h.g+=R,E.C=0,E.h.g}function vp(E){return E.g?E.v=="GET"&&E.M!=2&&E.j.Aa:!1}function _p(E,x){var R=E.C,H=x.indexOf(`
`,R);return H==-1?Fn:(R=Number(x.substring(R,H)),isNaN(R)?vn:(H+=1,H+R>x.length?Fn:(x=x.slice(H,H+R),E.C=H+R,x)))}Ui.prototype.cancel=function(){this.K=!0,Wr(this)};function bo(E){E.T=Date.now()+E.H,xu(E,E.H)}function xu(E,x){if(E.D!=null)throw Error("WatchDog timer not null");E.D=_o(f(E.aa,E),x)}function To(E){E.D&&(s.clearTimeout(E.D),E.D=null)}Ui.prototype.aa=function(){this.D=null;const E=Date.now();E-this.T>=0?(ll(this.i,this.B),this.M!=2&&(yo(),yn(17)),Wr(this),this.m=2,fi(this)):xu(this,this.T-E)};function fi(E){E.j.I==0||E.K||Ip(E.j,E)}function Wr(E){To(E);var x=E.O;x&&typeof x.dispose=="function"&&x.dispose(),E.O=null,be(E.V),E.g&&(x=E.g,E.g=null,x.abort(),x.dispose())}function wo(E,x){try{var R=E.j;if(R.I!=0&&(R.g==E||xo(R.h,E))){if(!E.L&&xo(R.h,E)&&R.I==3){try{var H=R.Ba.g.parse(x)}catch{H=null}if(Array.isArray(H)&&H.length==3){var ee=H;if(ee[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<E.F)Du(R),cs(R);else break e;vl(R),yn(18)}}else R.xa=ee[1],0<R.xa-R.K&&ee[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=_o(f(R.Va,R),6e3));Ao(R.h)<=1&&R.ta&&(R.ta=void 0)}else Oo(R,11)}else if((E.L||R.g==E)&&Du(R),!F(x))for(ee=R.Ba.g.parse(x),x=0;x<ee.length;x++){let mt=ee[x];const zt=mt[0];if(!(zt<=R.K))if(R.K=zt,mt=mt[1],R.I==2)if(mt[0]=="c"){R.M=mt[1],R.ba=mt[2];const pi=mt[3];pi!=null&&(R.ka=pi,R.j.info("VER="+R.ka));const Mo=mt[4];Mo!=null&&(R.za=Mo,R.j.info("SVER="+R.za));const qi=mt[5];qi!=null&&typeof qi=="number"&&qi>0&&(H=1.5*qi,R.O=H,R.j.info("backChannelRequestTimeoutMs_="+H)),H=R;const Hi=E.g;if(Hi){const _l=Hi.g?Hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_l){var oe=H.h;oe.g||_l.indexOf("spdy")==-1&&_l.indexOf("quic")==-1&&_l.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Nf(oe,oe.h),oe.h=null))}if(H.G){const ku=Hi.g?Hi.g.getResponseHeader("X-HTTP-Session-Id"):null;ku&&(H.wa=ku,_t(H.J,H.G,ku))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-E.F,R.j.info("Handshake RTT: "+R.T+"ms")),H=R;var Te=E;if(H.na=Np(H,H.L?H.ba:null,H.W),Te.L){Of(H.h,Te);var je=Te,ln=H.O;ln&&(je.H=ln),je.D&&(To(je),bo(je)),H.g=Te}else xp(H);R.i.length>0&&No(R)}else mt[0]!="stop"&&mt[0]!="close"||Oo(R,7);else R.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?Oo(R,7):zf(R):mt[0]!="noop"&&R.l&&R.l.qa(mt),R.A=0)}}yo(4)}catch{}}var _n=class{constructor(E,x){this.g=E,this.map=x}};function Pf(E){this.l=E||10,s.PerformanceNavigationTiming?(E=s.performance.getEntriesByType("navigation"),E=E.length>0&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rf(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function Ao(E){return E.h?1:E.g?E.g.size:0}function xo(E,x){return E.h?E.h==x:E.g?E.g.has(x):!1}function Nf(E,x){E.g?E.g.add(x):E.h=x}function Of(E,x){E.h&&E.h==x?E.h=null:E.g&&E.g.has(x)&&E.g.delete(x)}Pf.prototype.cancel=function(){if(this.i=Mf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function Mf(E){if(E.h!=null)return E.i.concat(E.h.G);if(E.g!=null&&E.g.size!==0){let x=E.i;for(const R of E.g.values())x=x.concat(R.G);return x}return v(E.i)}var Ep=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cu(E,x){if(E){E=E.split("&");for(let R=0;R<E.length;R++){const H=E[R].indexOf("=");let ee,oe=null;H>=0?(ee=E[R].substring(0,H),oe=E[R].substring(H+1)):ee=E[R],x(ee,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function Jr(E){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;E instanceof Jr?(this.l=E.l,zn(this,E.j),this.o=E.o,this.g=E.g,rs(this,E.u),this.h=E.h,Df(this,wp(E.i)),this.m=E.m):E&&(x=String(E).match(Ep))?(this.l=!1,zn(this,x[1]||"",!0),this.o=Co(x[2]||""),this.g=Co(x[3]||"",!0),rs(this,x[4]),this.h=Co(x[5]||"",!0),Df(this,x[6]||"",!0),this.m=Co(x[7]||"")):(this.l=!1,this.i=new os(null,this.l))}Jr.prototype.toString=function(){const E=[];var x=this.j;x&&E.push(dl(x,Iu,!0),":");var R=this.g;return(R||x=="file")&&(E.push("//"),(x=this.o)&&E.push(dl(x,Iu,!0),"@"),E.push(aa(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&E.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&E.push("/"),E.push(dl(R,R.charAt(0)=="/"?kf:Sp,!0))),(R=this.i.toString())&&E.push("?",R),(R=this.m)&&E.push("#",dl(R,bp)),E.join("")},Jr.prototype.resolve=function(E){const x=En(this);let R=!!E.j;R?zn(x,E.j):R=!!E.o,R?x.o=E.o:R=!!E.g,R?x.g=E.g:R=E.u!=null;var H=E.h;if(R)rs(x,E.u);else if(R=!!E.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var ee=x.h.lastIndexOf("/");ee!=-1&&(H=x.h.slice(0,ee+1)+H)}if(ee=H,ee==".."||ee==".")H="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){H=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const oe=[];for(let Te=0;Te<ee.length;){const je=ee[Te++];je=="."?H&&Te==ee.length&&oe.push(""):je==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),H&&Te==ee.length&&oe.push("")):(oe.push(je),H=!0)}H=oe.join("/")}else H=ee}return R?x.h=H:R=E.i.toString()!=="",R?Df(x,wp(E.i)):R=!!E.m,R&&(x.m=E.m),x};function En(E){return new Jr(E)}function zn(E,x,R){E.j=R?Co(x,!0):x,E.j&&(E.j=E.j.replace(/:$/,""))}function rs(E,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);E.u=x}else E.u=null}function Df(E,x,R){x instanceof os?(E.i=x,Ru(E.i,E.l)):(R||(x=dl(x,is)),E.i=new os(x,E.l))}function _t(E,x,R){E.i.set(x,R)}function fl(E){return _t(E,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),E}function Co(E,x){return E?x?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function dl(E,x,R){return typeof E=="string"?(E=encodeURI(E).replace(x,Nr),R&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function Nr(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var Iu=/[#\/\?@]/g,Sp=/[#\?:]/g,kf=/[#\?]/g,is=/[#\?@]/g,bp=/#/g;function os(E,x){this.h=this.g=null,this.i=E||null,this.j=!!x}function Or(E){E.g||(E.g=new Map,E.h=0,E.i&&Cu(E.i,function(x,R){E.add(decodeURIComponent(x.replace(/\+/g," ")),R)}))}t=os.prototype,t.add=function(E,x){Or(this),this.i=null,E=as(this,E);let R=this.g.get(E);return R||this.g.set(E,R=[]),R.push(x),this.h+=1,this};function Tp(E,x){Or(E),x=as(E,x),E.g.has(x)&&(E.i=null,E.h-=E.g.get(x).length,E.g.delete(x))}function Lf(E,x){return Or(E),x=as(E,x),E.g.has(x)}t.forEach=function(E,x){Or(this),this.g.forEach(function(R,H){R.forEach(function(ee){E.call(x,ee,H,this)},this)},this)};function Uf(E,x){Or(E);let R=[];if(typeof x=="string")Lf(E,x)&&(R=R.concat(E.g.get(as(E,x))));else for(E=Array.from(E.g.values()),x=0;x<E.length;x++)R=R.concat(E[x]);return R}t.set=function(E,x){return Or(this),this.i=null,E=as(this,E),Lf(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[x]),this.h+=1,this},t.get=function(E,x){return E?(E=Uf(this,E),E.length>0?String(E[0]):x):x};function Pu(E,x,R){Tp(E,x),R.length>0&&(E.i=null,E.g.set(as(E,x),v(R)),E.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],x=Array.from(this.g.keys());for(let H=0;H<x.length;H++){var R=x[H];const ee=aa(R);R=Uf(this,R);for(let oe=0;oe<R.length;oe++){let Te=ee;R[oe]!==""&&(Te+="="+aa(R[oe])),E.push(Te)}}return this.i=E.join("&")};function wp(E){const x=new os;return x.i=E.i,E.g&&(x.g=new Map(E.g),x.h=E.h),x}function as(E,x){return x=String(x),E.j&&(x=x.toLowerCase()),x}function Ru(E,x){x&&!E.j&&(Or(E),E.i=null,E.g.forEach(function(R,H){const ee=H.toLowerCase();H!=ee&&(Tp(this,H),Pu(this,ee,R))},E)),E.j=x}function Bi(E,x){const R=new Li;if(s.Image){const H=new Image;H.onload=h(di,R,"TestLoadImage: loaded",!0,x,H),H.onerror=h(di,R,"TestLoadImage: error",!1,x,H),H.onabort=h(di,R,"TestLoadImage: abort",!1,x,H),H.ontimeout=h(di,R,"TestLoadImage: timeout",!1,x,H),s.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=E}else x(!1)}function Vf(E,x){const R=new Li,H=new AbortController,ee=setTimeout(()=>{H.abort(),di(R,"TestPingServer: timeout",!1,x)},1e4);fetch(E,{signal:H.signal}).then(oe=>{clearTimeout(ee),oe.ok?di(R,"TestPingServer: ok",!0,x):di(R,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(ee),di(R,"TestPingServer: error",!1,x)})}function di(E,x,R,H,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),H(R)}catch{}}function ss(){this.g=new ct}function Io(E){this.i=E.Sb||null,this.h=E.ab||!1}p(Io,cr),Io.prototype.g=function(){return new hl(this.i,this.h)};function hl(E,x){Wt.call(this),this.H=E,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(hl,Wt),t=hl.prototype,t.open=function(E,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=E,this.D=x,this.readyState=1,Fi(this)},t.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};E&&(x.body=E),(this.H||s).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},t.Pa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nu(this)}else E.text().then(this.Oa.bind(this),this.ga.bind(this))};function Nu(E){E.j.read().then(E.Ma.bind(E)).catch(E.ga.bind(E))}t.Ma=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var x=E.value?E.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!E.done}))&&(this.response=this.responseText+=x)}E.done?ls(this):Fi(this),this.readyState==3&&Nu(this)}},t.Oa=function(E){this.g&&(this.response=this.responseText=E,ls(this))},t.Na=function(E){this.g&&(this.response=E,ls(this))},t.ga=function(){this.g&&ls(this)};function ls(E){E.readyState=4,E.l=null,E.j=null,E.B=null,Fi(E)}t.setRequestHeader=function(E,x){this.A.append(E,x)},t.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],x=this.h.entries();for(var R=x.next();!R.done;)R=R.value,E.push(R[0]+": "+R[1]),R=x.next();return E.join(`\r
`)};function Fi(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function hi(E){let x="";return ge(E,function(R,H){x+=H,x+=":",x+=R,x+=`\r
`}),x}function pl(E,x,R){e:{for(H in R){var H=!1;break e}H=!0}H||(R=hi(R),typeof E=="string"?R!=null&&aa(R):_t(E,x,R))}function Tt(E){Wt.call(this),this.headers=new Map,this.L=E||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Tt,Wt);var Po=/^https?$/i,Bf=["POST","PUT"];t=Tt.prototype,t.Fa=function(E){this.H=E},t.ea=function(E,x,R,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);x=x?x.toUpperCase():"GET",this.D=E,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():If.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(x,String(E),!0),this.B=!1}catch(oe){ml(this,oe);return}if(E=R||"",R=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var ee in H)R.set(ee,H[ee]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const oe of H.keys())R.set(oe,H.get(oe));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(R.keys()).find(oe=>oe.toLowerCase()=="content-type"),ee=s.FormData&&E instanceof s.FormData,!(Array.prototype.indexOf.call(Bf,x,void 0)>=0)||H||ee||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Te]of R)this.g.setRequestHeader(oe,Te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(E),this.v=!1}catch(oe){ml(this,oe)}};function ml(E,x){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=x,E.o=5,Ff(E),sa(E)}function Ff(E){E.A||(E.A=!0,nn(E,"complete"),nn(E,"error"))}t.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=E||7,nn(this,"complete"),nn(this,"abort"),sa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sa(this,!0)),Tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?gl(this):this.Xa())},t.Xa=function(){gl(this)};function gl(E){if(E.h&&typeof o<"u"){if(E.v&&zi(E)==4)setTimeout(E.Ca.bind(E),0);else if(nn(E,"readystatechange"),zi(E)==4){E.h=!1;try{const oe=E.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var R;if(!(R=x)){var H;if(H=oe===0){let Te=String(E.D).match(Ep)[1]||null;!Te&&s.self&&s.self.location&&(Te=s.self.location.protocol.slice(0,-1)),H=!Po.test(Te?Te.toLowerCase():"")}R=H}if(R)nn(E,"complete"),nn(E,"success");else{E.o=6;try{var ee=zi(E)>2?E.g.statusText:""}catch{ee=""}E.l=ee+" ["+E.ca()+"]",Ff(E)}}finally{sa(E)}}}}function sa(E,x){if(E.g){E.m&&(clearTimeout(E.m),E.m=null);const R=E.g;E.g=null,x||nn(E,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function zi(E){return E.g?E.g.readyState:0}t.ca=function(){try{return zi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(E){if(this.g){var x=this.g.responseText;return E&&x.indexOf(E)==0&&(x=x.substring(E.length)),Xe(x)}};function Qn(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.F){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function la(E){const x={};E=(E.g&&zi(E)>=2&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<E.length;H++){if(F(E[H]))continue;var R=yp(E[H]);const ee=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const oe=x[ee]||[];x[ee]=oe,oe.push(R)}$(x,function(H){return H.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ro(E,x,R){return R&&R.internalChannelParams&&R.internalChannelParams[E]||x}function us(E){this.za=0,this.i=[],this.j=new Li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ro("failFast",!1,E),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ro("baseRetryDelayMs",5e3,E),this.Za=Ro("retryDelaySeedMs",1e4,E),this.Ta=Ro("forwardChannelMaxRetries",2,E),this.va=Ro("forwardChannelRequestTimeoutMs",2e4,E),this.ma=E&&E.xmlHttpFactory||void 0,this.Ua=E&&E.Rb||void 0,this.Aa=E&&E.useFetchStreams||!1,this.O=void 0,this.L=E&&E.supportsCrossDomainXhr||!1,this.M="",this.h=new Pf(E&&E.concurrentRequestLimit),this.Ba=new ss,this.S=E&&E.fastHandshake||!1,this.R=E&&E.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=E&&E.Pb||!1,E&&E.ua&&this.j.ua(),E&&E.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&E&&E.detectBufferingProxy||!1,this.ia=void 0,E&&E.longPollingTimeout&&E.longPollingTimeout>0&&(this.ia=E.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=us.prototype,t.ka=8,t.I=1,t.connect=function(E,x,R,H){yn(0),this.W=E,this.H=x||{},R&&H!==void 0&&(this.H.OSID=R,this.H.OAID=H),this.F=this.X,this.J=Np(this,null,this.W),No(this)};function zf(E){if(Ou(E),E.I==3){var x=E.V++,R=En(E.J);if(_t(R,"SID",E.M),_t(R,"RID",x),_t(R,"TYPE","terminate"),yl(E,R),x=new Ui(E,E.j,x),x.M=2,x.A=fl(En(R)),R=!1,s.navigator&&s.navigator.sendBeacon)try{R=s.navigator.sendBeacon(x.A.toString(),"")}catch{}!R&&s.Image&&(new Image().src=x.A,R=!0),R||(x.g=Op(x.j,null),x.g.ea(x.A)),x.F=Date.now(),bo(x)}Rp(E)}function cs(E){E.g&&(Hf(E),E.g.cancel(),E.g=null)}function Ou(E){cs(E),E.v&&(s.clearTimeout(E.v),E.v=null),Du(E),E.h.cancel(),E.m&&(typeof E.m=="number"&&s.clearTimeout(E.m),E.m=null)}function No(E){if(!Rf(E.h)&&!E.m){E.m=!0;var x=E.Ea;G||M(),L||(G(),L=!0),N.add(x,E),E.D=0}}function Mu(E,x){return Ao(E.h)>=E.h.j-(E.m?1:0)?!1:E.m?(E.i=x.G.concat(E.i),!0):E.I==1||E.I==2||E.D>=(E.Sa?0:E.Ta)?!1:(E.m=_o(f(E.Ea,E,x),Pp(E,E.D)),E.D++,!0)}t.Ea=function(E){if(this.m)if(this.m=null,this.I==1){if(!E){this.V=Math.floor(Math.random()*1e5),E=this.V++;const ee=new Ui(this,this.j,E);let oe=this.o;if(this.U&&(oe?(oe=Y(oe),j(oe,this.U)):oe=this.U),this.u!==null||this.R||(ee.J=oe,oe=null),this.S)e:{for(var x=0,R=0;R<this.i.length;R++){t:{var H=this.i[R];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(x+=H,x>4096){x=R;break e}if(x===4096||R===this.i.length-1){x=R+1;break e}}x=1e3}else x=1e3;x=Ap(this,ee,x),R=En(this.J),_t(R,"RID",E),_t(R,"CVER",22),this.G&&_t(R,"X-HTTP-Session-Id",this.G),yl(this,R),oe&&(this.R?x="headers="+aa(hi(oe))+"&"+x:this.u&&pl(R,this.u,oe)),Nf(this.h,ee),this.Ra&&_t(R,"TYPE","init"),this.S?(_t(R,"$req",x),_t(R,"SID","null"),ee.U=!0,So(ee,R,null)):So(ee,R,x),this.I=2}}else this.I==3&&(E?qf(this,E):this.i.length==0||Rf(this.h)||qf(this))};function qf(E,x){var R;x?R=x.l:R=E.V++;const H=En(E.J);_t(H,"SID",E.M),_t(H,"RID",R),_t(H,"AID",E.K),yl(E,H),E.u&&E.o&&pl(H,E.u,E.o),R=new Ui(E,E.j,R,E.D+1),E.u===null&&(R.J=E.o),x&&(E.i=x.G.concat(E.i)),x=Ap(E,R,1e3),R.H=Math.round(E.va*.5)+Math.round(E.va*.5*Math.random()),Nf(E.h,R),So(R,H,x)}function yl(E,x){E.H&&ge(E.H,function(R,H){_t(x,H,R)}),E.l&&ge({},function(R,H){_t(x,H,R)})}function Ap(E,x,R){R=Math.min(E.i.length,R);const H=E.l?f(E.l.Ka,E.l,E):null;e:{var ee=E.i;let je=-1;for(;;){const ln=["count="+R];je==-1?R>0?(je=ee[0].g,ln.push("ofs="+je)):je=0:ln.push("ofs="+je);let mt=!0;for(let zt=0;zt<R;zt++){var oe=ee[zt].g;const pi=ee[zt].map;if(oe-=je,oe<0)je=Math.max(0,ee[zt].g-100),mt=!1;else try{oe="req"+oe+"_"||"";try{var Te=pi instanceof Map?pi:Object.entries(pi);for(const[Mo,qi]of Te){let Hi=qi;u(qi)&&(Hi=Le(qi)),ln.push(oe+Mo+"="+encodeURIComponent(Hi))}}catch(Mo){throw ln.push(oe+"type="+encodeURIComponent("_badmap")),Mo}}catch{H&&H(pi)}}if(mt){Te=ln.join("&");break e}}Te=void 0}return E=E.i.splice(0,R),x.G=E,Te}function xp(E){if(!E.g&&!E.v){E.Y=1;var x=E.Da;G||M(),L||(G(),L=!0),N.add(x,E),E.A=0}}function vl(E){return E.g||E.v||E.A>=3?!1:(E.Y++,E.v=_o(f(E.Da,E),Pp(E,E.A)),E.A++,!0)}t.Da=function(){if(this.v=null,Cp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var E=4*this.T;this.j.info("BP detection timer enabled: "+E),this.B=_o(f(this.Wa,this),E)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yn(10),cs(this),Cp(this))};function Hf(E){E.B!=null&&(s.clearTimeout(E.B),E.B=null)}function Cp(E){E.g=new Ui(E,E.j,"rpc",E.Y),E.u===null&&(E.g.J=E.o),E.g.P=0;var x=En(E.na);_t(x,"RID","rpc"),_t(x,"SID",E.M),_t(x,"AID",E.K),_t(x,"CI",E.F?"0":"1"),!E.F&&E.ia&&_t(x,"TO",E.ia),_t(x,"TYPE","xmlhttp"),yl(E,x),E.u&&E.o&&pl(x,E.u,E.o),E.O&&(E.g.H=E.O);var R=E.g;E=E.ba,R.M=1,R.A=fl(En(x)),R.u=null,R.R=!0,Au(R,E)}t.Va=function(){this.C!=null&&(this.C=null,cs(this),vl(this),yn(19))};function Du(E){E.C!=null&&(s.clearTimeout(E.C),E.C=null)}function Ip(E,x){var R=null;if(E.g==x){Du(E),Hf(E),E.g=null;var H=2}else if(xo(E.h,x))R=x.G,Of(E.h,x),H=1;else return;if(E.I!=0){if(x.o)if(H==1){R=x.u?x.u.length:0,x=Date.now()-x.F;var ee=E.D;H=fr(),nn(H,new vo(H,R)),No(E)}else xp(E);else if(ee=x.m,ee==3||ee==0&&x.X>0||!(H==1&&Mu(E,x)||H==2&&vl(E)))switch(R&&R.length>0&&(x=E.h,x.i=x.i.concat(R)),ee){case 1:Oo(E,5);break;case 4:Oo(E,10);break;case 3:Oo(E,6);break;default:Oo(E,2)}}}function Pp(E,x){let R=E.Qa+Math.floor(Math.random()*E.Za);return E.isActive()||(R*=2),R*x}function Oo(E,x){if(E.j.info("Error code "+x),x==2){var R=f(E.bb,E),H=E.Ua;const ee=!H;H=new Jr(H||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||zn(H,"https"),fl(H),ee?Bi(H.toString(),R):Vf(H.toString(),R)}else yn(2);E.I=0,E.l&&E.l.pa(x),Rp(E),Ou(E)}t.bb=function(E){E?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function Rp(E){if(E.I=0,E.ja=[],E.l){const x=Mf(E.h);(x.length!=0||E.i.length!=0)&&(T(E.ja,x),T(E.ja,E.i),E.h.i.length=0,v(E.i),E.i.length=0),E.l.oa()}}function Np(E,x,R){var H=R instanceof Jr?En(R):new Jr(R);if(H.g!="")x&&(H.g=x+"."+H.g),rs(H,H.u);else{var ee=s.location;H=ee.protocol,x=x?x+"."+ee.hostname:ee.hostname,ee=+ee.port;const oe=new Jr(null);H&&zn(oe,H),x&&(oe.g=x),ee&&rs(oe,ee),R&&(oe.h=R),H=oe}return R=E.G,x=E.wa,R&&x&&_t(H,R,x),_t(H,"VER",E.ka),yl(E,H),H}function Op(E,x,R){if(x&&!E.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=E.Aa&&!E.ma?new Tt(new Io({ab:R})):new Tt(E.ma),x.Fa(E.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mp(){}t=Mp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function fs(){}fs.prototype.g=function(E,x){return new Tr(E,x)};function Tr(E,x){Wt.call(this),this.g=new us(x),this.l=E,this.h=x&&x.messageUrlParams||null,E=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(E?E["X-WebChannel-Content-Type"]=x.messageContentType:E={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(E?E["X-WebChannel-Client-Profile"]=x.sa:E={"X-WebChannel-Client-Profile":x.sa}),this.g.U=E,(E=x&&x.Qb)&&!F(E)&&(this.g.u=E),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!F(x)&&(this.g.G=x,E=this.h,E!==null&&x in E&&(E=this.h,x in E&&delete E[x])),this.j=new ua(this)}p(Tr,Wt),Tr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tr.prototype.close=function(){zf(this.g)},Tr.prototype.o=function(E){var x=this.g;if(typeof E=="string"){var R={};R.__data__=E,E=R}else this.v&&(R={},R.__data__=Le(E),E=R);x.i.push(new _n(x.Ya++,E)),x.I==3&&No(x)},Tr.prototype.N=function(){this.g.l=null,delete this.j,zf(this.g),delete this.g,Tr.Z.N.call(this)};function Dp(E){Jt.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var x=E.__sm__;if(x){e:{for(const R in x){E=R;break e}E=void 0}(this.i=E)&&(E=this.i,x=x!==null&&E in x?x[E]:void 0),this.data=x}else this.data=E}p(Dp,Jt);function kp(){Bn.call(this),this.status=1}p(kp,Bn);function ua(E){this.g=E}p(ua,Mp),ua.prototype.ra=function(){nn(this.g,"a")},ua.prototype.qa=function(E){nn(this.g,new Dp(E))},ua.prototype.pa=function(E){nn(this.g,new kp)},ua.prototype.oa=function(){nn(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,Tr.prototype.send=Tr.prototype.o,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,h5=function(){return new fs},d5=function(){return fr()},f5=at,Ew={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ul.NO_ERROR=0,ul.TIMEOUT=8,ul.HTTP_ERROR=6,Cg=ul,Cf.COMPLETE="complete",c5=Cf,ci.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",Wt.prototype.listen=Wt.prototype.J,Kd=ci,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,u5=Tt}).apply(typeof cg<"u"?cg:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf="12.8.0";function IEe(t){Tf=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=new Qx("@firebase/firestore");function vc(){return uu.logLevel}function Oe(t,...e){if(uu.logLevel<=rt.DEBUG){const n=e.map(tC);uu.debug(`Firestore (${Tf}): ${t}`,...n)}}function cu(t,...e){if(uu.logLevel<=rt.ERROR){const n=e.map(tC);uu.error(`Firestore (${Tf}): ${t}`,...n)}}function d0(t,...e){if(uu.logLevel<=rt.WARN){const n=e.map(tC);uu.warn(`Firestore (${Tf}): ${t}`,...n)}}function tC(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,p5(t,r,n)}function p5(t,e,n){let r=`FIRESTORE (${Tf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cu(r),new Error(r)}function an(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||p5(e,i,r)}function Lt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends ra{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PEe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mr.UNAUTHENTICATED)))}shutdown(){}}class REe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class NEe{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){an(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Wl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wl,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wl)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(an(typeof r.accessToken=="string",31837,{l:r}),new m5(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return an(e===null||typeof e=="string",2055,{h:e}),new mr(e)}}class OEe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class MEe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OEe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class JL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DEe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){an(this.o===void 0,3512);const r=o=>{o.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new JL(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(an(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new JL(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kEe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=kEe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function Sw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Lb(i)===Lb(o)?vt(i,o):Lb(i)?1:-1}return vt(t.length,e.length)}const LEe=55296,UEe=57343;function Lb(t){const e=t.charCodeAt(0);return e>=LEe&&e<=UEe}function Wc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="__name__";class Fo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fo?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Fo.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return vt(e.length,n.length)}static compareSegments(e,n){const r=Fo.isNumericId(e),i=Fo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Fo.extractNumericId(e).compare(Fo.extractNumericId(n)):Sw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eC.fromString(e.substring(4,e.length-2))}}class Qt extends Fo{construct(e,n,r){return new Qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Qt(n)}static emptyPath(){return new Qt([])}}const VEe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends Fo{construct(e,n,r){return new sr(e,n,r)}static isValidIdentifier(e){return VEe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XL}static keyField(){return new sr([XL])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ke(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ke(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ke(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new ke(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(n)}static emptyPath(){return new sr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.path=e}static fromPath(e){return new We(Qt.fromString(e))}static fromName(e){return new We(Qt.fromString(e).popFirst(5))}static empty(){return new We(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new Qt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t,e,n){if(!n)throw new ke(Ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BEe(t,e,n,r){if(e===!0&&r===!0)throw new ke(Ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QL(t){if(!We.isDocumentKey(t))throw new ke(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZL(t){if(We.isDocumentKey(t))throw new ke(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function y5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rC(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function v5(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rC(t);throw new ke(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,e){const n={typeString:t};return e&&(n.value=e),n}function ap(t,e){if(!y5(t))throw new ke(Ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ke(Ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=-62135596800,tU=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*tU);return new $t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<eU)throw new ke(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tU}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ap(e,$t._jsonSchema))return new $t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-eU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:Pn("string",$t._jsonSchemaVersion),seconds:Pn("number"),nanoseconds:Pn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new $t(0,0))}static max(){return new Gt(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=-1;function FEe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Gt.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new Xs(i,We.empty(),e)}function zEe(t){return new Xs(t.readTime,t.key,Ch)}class Xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xs(Gt.min(),We.empty(),Ch)}static max(){return new Xs(Gt.max(),We.empty(),Ch)}}function qEe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=We.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HEe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GEe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(t){if(t.code!==Ee.FAILED_PRECONDITION||t.message!==HEe)throw t;Oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.reject(n)}static resolve(e){return new ye(((n,r)=>{n(e)}))}static reject(e){return new ye(((n,r)=>{r(e)}))}static waitFor(e){return new ye(((n,r)=>{let i=0,o=0,s=!1;e.forEach((u=>{++i,u.next((()=>{++o,s&&o===i&&n()}),(c=>r(c)))})),s=!0,o===i&&n()}))}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next((i=>i?ye.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new ye(((r,i)=>{const o=e.length,s=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next((h=>{s[f]=h,++u,u===o&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new ye(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function jEe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oC.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=-1;function sC(t){return t==null}function zy(t){return t===0&&1/t==-1/0}function $Ee(t){return typeof t=="number"&&Number.isInteger(t)&&!zy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="";function KEe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=nU(e)),e=YEe(t.get(n),e);return nU(e)}function YEe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case _5:n+="";break;default:n+=o}}return n}function nU(t){return t+_5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function E5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n){this.comparator=e,this.root=n||or.EMPTY}insert(e,n){return new jr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,or.BLACK,null,null))}remove(e){return new jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,or.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fg(this.root,e,this.comparator,!1)}getReverseIterator(){return new fg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fg(this.root,e,this.comparator,!0)}}class fg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class or{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??or.RED,this.left=i??or.EMPTY,this.right=o??or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new or(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return or.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}or.EMPTY=null,or.RED=!0,or.BLACK=!1;or.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new or(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iU(this.data.getIterator())}getIteratorFrom(e){return new iU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new lr(this.comparator);return n.data=e,n}}class iU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new ro([])}unionWith(e){let n=new lr(sr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ro(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WEe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new WEe("Invalid base64 string: "+o):o}})(e);return new ea(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new ea(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ea.EMPTY_BYTE_STRING=new ea("");const JEe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fu(t){if(an(!!t,39018),typeof t=="string"){let e=0;const n=JEe.exec(t);if(an(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ar(t.seconds),nanos:ar(t.nanos)}}function ar(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jc(t){return typeof t=="string"?ea.fromBase64String(t):ea.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="server_timestamp",b5="__type__",T5="__previous_value__",w5="__local_write_time__";function lC(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[b5])==null?void 0:r.stringValue)===S5}function uC(t){const e=t.mapValue.fields[T5];return lC(e)?uC(e):e}function qy(t){const e=fu(t.mapValue.fields[w5].timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XEe{constructor(e,n,r,i,o,s,u,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h,this.apiKey=p}}const Hy="(default)";class Gy{constructor(e,n){this.projectId=e,this.database=n||Hy}static empty(){return new Gy("","")}get isDefaultDatabase(){return this.database===Hy}isEqual(e){return e instanceof Gy&&e.projectId===this.projectId&&e.database===this.database}}function QEe(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ke(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gy(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="__type__",ZEe="__max__",dg={mapValue:{}},x5="__vector__",bw="value";function du(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lC(t)?4:tSe(t)?9007199254740991:eSe(t)?10:11:Qe(28295,{value:t})}function ta(t,e){if(t===e)return!0;const n=du(t);if(n!==du(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qy(t).isEqual(qy(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=fu(i.timestampValue),u=fu(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Jc(i.bytesValue).isEqual(Jc(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return ar(i.geoPointValue.latitude)===ar(o.geoPointValue.latitude)&&ar(i.geoPointValue.longitude)===ar(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return ar(i.integerValue)===ar(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ar(i.doubleValue),u=ar(o.doubleValue);return s===u?zy(s)===zy(u):isNaN(s)&&isNaN(u)}return!1})(t,e);case 9:return Wc(t.arrayValue.values||[],e.arrayValue.values||[],ta);case 10:case 11:return(function(i,o){const s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(rU(s)!==rU(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!ta(s[c],u[c])))return!1;return!0})(t,e);default:return Qe(52216,{left:t})}}function Ih(t,e){return(t.values||[]).find((n=>ta(n,e)))!==void 0}function Xc(t,e){if(t===e)return 0;const n=du(t),r=du(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return(function(o,s){const u=ar(o.integerValue||o.doubleValue),c=ar(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return oU(t.timestampValue,e.timestampValue);case 4:return oU(qy(t),qy(e));case 5:return Sw(t.stringValue,e.stringValue);case 6:return(function(o,s){const u=Jc(o),c=Jc(s);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){const u=o.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=vt(u[f],c[f]);if(h!==0)return h}return vt(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){const u=vt(ar(o.latitude),ar(s.latitude));return u!==0?u:vt(ar(o.longitude),ar(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return aU(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var g,v,T,w;const u=o.fields||{},c=s.fields||{},f=(g=u[bw])==null?void 0:g.arrayValue,h=(v=c[bw])==null?void 0:v.arrayValue,p=vt(((T=f==null?void 0:f.values)==null?void 0:T.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return p!==0?p:aU(f,h)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===dg.mapValue&&s===dg.mapValue)return 0;if(o===dg.mapValue)return 1;if(s===dg.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=Sw(c[p],h[p]);if(g!==0)return g;const v=Xc(u[c[p]],f[h[p]]);if(v!==0)return v}return vt(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Qe(23264,{he:n})}}function oU(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=fu(t),r=fu(e),i=vt(n.seconds,r.seconds);return i!==0?i:vt(n.nanos,r.nanos)}function aU(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Xc(n[i],r[i]);if(o)return o}return vt(n.length,r.length)}function Qc(t){return Tw(t)}function Tw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=fu(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Jc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return We.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Tw(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Tw(n.fields[s])}`;return i+"}"})(t.mapValue):Qe(61005,{value:t})}function Ig(t){switch(du(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uC(t);return e?16+Ig(e):16;case 5:return 2*t.stringValue.length;case 6:return Jc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Ig(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return wf(r.fields,((o,s)=>{i+=o.length+Ig(s)})),i})(t.mapValue);default:throw Qe(13486,{value:t})}}function ww(t){return!!t&&"integerValue"in t}function cC(t){return!!t&&"arrayValue"in t}function Pg(t){return!!t&&"mapValue"in t}function eSe(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[A5])==null?void 0:r.stringValue)===x5}function eh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return wf(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=eh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eh(t.arrayValue.values[n]);return e}return{...t}}function tSe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZEe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eh(n)}setAll(e){let n=sr.emptyPath(),r={},i=[];e.forEach(((s,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=eh(s):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Pg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ta(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wf(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Zi(eh(this.value))}}function C5(t){const e=[];return wf(t.fields,((n,r)=>{const i=new sr([n]);if(Pg(r)){const o=C5(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)})),new ro(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r,i,o,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Yi(e,0,Gt.min(),Gt.min(),Gt.min(),Zi.empty(),0)}static newFoundDocument(e,n,r,i){return new Yi(e,1,n,Gt.min(),r,i,0)}static newNoDocument(e,n){return new Yi(e,2,n,Gt.min(),Gt.min(),Zi.empty(),0)}static newUnknownDocument(e,n){return new Yi(e,3,n,Gt.min(),Gt.min(),Zi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this.position=e,this.inclusive=n}}function sU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=We.comparator(We.fromName(s.referenceValue),n.key):r=Xc(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function lU(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ta(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n="asc"){this.field=e,this.dir=n}}function nSe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{}class Kn extends I5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iSe(e,n,r):n==="array-contains"?new sSe(e,r):n==="in"?new lSe(e,r):n==="not-in"?new uSe(e,r):n==="array-contains-any"?new cSe(e,r):new Kn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oSe(e,r):new aSe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xc(n,this.value)):n!==null&&du(this.value)===du(n)&&this.matchesComparison(Xc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qs extends I5{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qs(e,n)}matches(e){return P5(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P5(t){return t.op==="and"}function R5(t){return rSe(t)&&P5(t)}function rSe(t){for(const e of t.filters)if(e instanceof Qs)return!1;return!0}function Aw(t){if(t instanceof Kn)return t.field.canonicalString()+t.op.toString()+Qc(t.value);if(R5(t))return t.filters.map((e=>Aw(e))).join(",");{const e=t.filters.map((n=>Aw(n))).join(",");return`${t.op}(${e})`}}function N5(t,e){return t instanceof Kn?(function(r,i){return i instanceof Kn&&r.op===i.op&&r.field.isEqual(i.field)&&ta(r.value,i.value)})(t,e):t instanceof Qs?(function(r,i){return i instanceof Qs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,s,u)=>o&&N5(s,i.filters[u])),!0):!1})(t,e):void Qe(19439)}function O5(t){return t instanceof Kn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qc(n.value)}`})(t):t instanceof Qs?(function(n){return n.op.toString()+" {"+n.getFilters().map(O5).join(" ,")+"}"})(t):"Filter"}class iSe extends Kn{constructor(e,n,r){super(e,n,r),this.key=We.fromName(r.referenceValue)}matches(e){const n=We.comparator(e.key,this.key);return this.matchesComparison(n)}}class oSe extends Kn{constructor(e,n){super(e,"in",n),this.keys=M5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aSe extends Kn{constructor(e,n){super(e,"not-in",n),this.keys=M5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function M5(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>We.fromName(r.referenceValue)))}class sSe extends Kn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cC(n)&&Ih(n.arrayValue,this.value)}}class lSe extends Kn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ih(this.value.arrayValue,n)}}class uSe extends Kn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ih(this.value.arrayValue,n)}}class cSe extends Kn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ih(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fSe{constructor(e,n=null,r=[],i=[],o=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.Te=null}}function uU(t,e=null,n=[],r=[],i=null,o=null,s=null){return new fSe(t,e,n,r,i,o,s)}function fC(t){const e=Lt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Aw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),sC(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Qc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Qc(r))).join(",")),e.Te=n}return e.Te}function dC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nSe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!N5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lU(t.startAt,e.startAt)&&lU(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n=null,r=[],i=[],o=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function dSe(t,e,n,r,i,o,s,u){return new h0(t,e,n,r,i,o,s,u)}function hSe(t){return new h0(t)}function cU(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pSe(t){return We.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function mSe(t){return t.collectionGroup!==null}function th(t){const e=Lt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new lr(sr.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new $y(o,r))})),n.has(sr.keyField().canonicalString())||e.Ie.push(new $y(sr.keyField(),r))}return e.Ie}function Jl(t){const e=Lt(t);return e.Ee||(e.Ee=gSe(e,th(t))),e.Ee}function gSe(t,e){if(t.limitType==="F")return uU(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new $y(i.field,o)}));const n=t.endAt?new jy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jy(t.startAt.position,t.startAt.inclusive):null;return uU(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xw(t,e,n){return new h0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function D5(t,e){return dC(Jl(t),Jl(e))&&t.limitType===e.limitType}function k5(t){return`${fC(Jl(t))}|lt:${t.limitType}`}function qd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>O5(i))).join(", ")}]`),sC(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Qc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Qc(i))).join(",")),`Target(${r})`})(Jl(t))}; limitType=${t.limitType})`}function hC(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):We.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of th(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,u,c){const f=sU(s,u,c);return s.inclusive?f<=0:f<0})(r.startAt,th(r),i)||r.endAt&&!(function(s,u,c){const f=sU(s,u,c);return s.inclusive?f>=0:f>0})(r.endAt,th(r),i))})(t,e)}function ySe(t){return(e,n)=>{let r=!1;for(const i of th(t)){const o=vSe(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function vSe(t,e,n){const r=t.field.isKeyField()?We.comparator(e.key,n.key):(function(o,s,u){const c=s.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Xc(c,f):Qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wf(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return E5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Se=new jr(We.comparator);function Ky(){return _Se}const L5=new jr(We.comparator);function hg(...t){let e=L5;for(const n of t)e=e.insert(n.key,n);return e}function U5(t){let e=L5;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function jl(){return nh()}function V5(){return nh()}function nh(){return new bu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ESe=new jr(We.comparator),SSe=new lr(We.comparator);function yr(...t){let e=SSe;for(const n of t)e=e.add(n);return e}const bSe=new lr(vt);function TSe(){return bSe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zy(e)?"-0":e}}function B5(t){return{integerValue:""+t}}function wSe(t,e){return $Ee(e)?B5(e):pC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this._=void 0}}function ASe(t,e,n){return t instanceof Ph?(function(i,o){const s={fields:{[b5]:{stringValue:S5},[w5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&lC(o)&&(o=uC(o)),o&&(s.fields[T5]=o),{mapValue:s}})(n,e):t instanceof Rh?z5(t,e):t instanceof Nh?q5(t,e):(function(i,o){const s=F5(i,o),u=fU(s)+fU(i.Ae);return ww(s)&&ww(i.Ae)?B5(u):pC(i.serializer,u)})(t,e)}function xSe(t,e,n){return t instanceof Rh?z5(t,e):t instanceof Nh?q5(t,e):n}function F5(t,e){return t instanceof Yy?(function(r){return ww(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Ph extends p0{}class Rh extends p0{constructor(e){super(),this.elements=e}}function z5(t,e){const n=H5(e);for(const r of t.elements)n.some((i=>ta(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Nh extends p0{constructor(e){super(),this.elements=e}}function q5(t,e){let n=H5(e);for(const r of t.elements)n=n.filter((i=>!ta(i,r)));return{arrayValue:{values:n}}}class Yy extends p0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fU(t){return ar(t.integerValue||t.doubleValue)}function H5(t){return cC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CSe{constructor(e,n){this.field=e,this.transform=n}}function ISe(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Rh&&i instanceof Rh||r instanceof Nh&&i instanceof Nh?Wc(r.elements,i.elements,ta):r instanceof Yy&&i instanceof Yy?ta(r.Ae,i.Ae):r instanceof Ph&&i instanceof Ph})(t.transform,e.transform)}class PSe{constructor(e,n){this.version=e,this.transformResults=n}}class ka{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ka}static exists(e){return new ka(void 0,e)}static updateTime(e){return new ka(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class m0{}function G5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $5(t.key,ka.none()):new lp(t.key,t.data,ka.none());{const n=t.data,r=Zi.empty();let i=new lr(sr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Tu(t.key,r,new ro(i.toArray()),ka.none())}}function RSe(t,e,n){t instanceof lp?(function(i,o,s){const u=i.value.clone(),c=hU(i.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Tu?(function(i,o,s){if(!Rg(i.precondition,o))return void o.convertToUnknownDocument(s.version);const u=hU(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(j5(i)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function rh(t,e,n,r){return t instanceof lp?(function(o,s,u,c){if(!Rg(o.precondition,s))return u;const f=o.value.clone(),h=pU(o.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Tu?(function(o,s,u,c){if(!Rg(o.precondition,s))return u;const f=pU(o.fieldTransforms,c,s),h=s.data;return h.setAll(j5(o)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(o,s,u){return Rg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u})(t,e,n)}function NSe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=F5(r.transform,i||null);o!=null&&(n===null&&(n=Zi.empty()),n.set(r.field,o))}return n||null}function dU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wc(r,i,((o,s)=>ISe(o,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lp extends m0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Tu extends m0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function j5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function hU(t,e,n){const r=new Map;an(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,u=e.data.field(o.field);r.set(o.field,xSe(s,u,n[i]))}return r}function pU(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,ASe(o,s,e))}return r}class $5 extends m0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OSe extends m0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MSe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&RSe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=V5();return this.mutations.forEach((i=>{const o=e.get(i.key),s=o.overlayedDocument;let u=this.applyToLocalView(s,o.mutatedFields);u=n.has(i.key)?null:u;const c=G5(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Gt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),yr())}isEqual(e){return this.batchId===e.batchId&&Wc(this.mutations,e.mutations,((n,r)=>dU(n,r)))&&Wc(this.baseMutations,e.baseMutations,((n,r)=>dU(n,r)))}}class mC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){an(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return ESe})();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new mC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DSe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,lt;function kSe(t){switch(t){case Ee.OK:return Qe(64938);case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return Qe(15467,{code:t})}}function LSe(t){if(t===void 0)return cu("GRPC error has no .code"),Ee.UNKNOWN;switch(t){case An.OK:return Ee.OK;case An.CANCELLED:return Ee.CANCELLED;case An.UNKNOWN:return Ee.UNKNOWN;case An.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case An.INTERNAL:return Ee.INTERNAL;case An.UNAVAILABLE:return Ee.UNAVAILABLE;case An.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case An.NOT_FOUND:return Ee.NOT_FOUND;case An.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case An.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case An.ABORTED:return Ee.ABORTED;case An.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case An.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case An.DATA_LOSS:return Ee.DATA_LOSS;default:return Qe(39323,{code:t})}}(lt=An||(An={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new eC([4294967295,4294967295],0);class USe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cw(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VSe(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BSe(t,e){return Cw(t,e.toTimestamp())}function Mc(t){return an(!!t,49232),Gt.fromTimestamp((function(n){const r=fu(n);return new $t(r.seconds,r.nanos)})(t))}function K5(t,e){return Iw(t,e).canonicalString()}function Iw(t,e){const n=(function(i){return new Qt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function FSe(t){const e=Qt.fromString(t);return an(YSe(e),10190,{key:e.toString()}),e}function Pw(t,e){return K5(t.databaseId,e.path)}function zSe(t){const e=FSe(t);return e.length===4?Qt.emptyPath():HSe(e)}function qSe(t){return new Qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HSe(t){return an(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mU(t,e,n){return{name:Pw(t,e),fields:n.value.mapValue.fields}}function GSe(t,e){let n;if(e instanceof lp)n={update:mU(t,e.key,e.value)};else if(e instanceof $5)n={delete:Pw(t,e.key)};else if(e instanceof Tu)n={update:mU(t,e.key,e.data),updateMask:KSe(e.fieldMask)};else{if(!(e instanceof OSe))return Qe(16599,{dt:e.type});n={verify:Pw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,s){const u=s.transform;if(u instanceof Ph)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Rh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Nh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Yy)return{fieldPath:s.field.canonicalString(),increment:u.Ae};throw Qe(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:BSe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Qe(27497)})(t,e.precondition)),n}function jSe(t,e){return t&&t.length>0?(an(e!==void 0,14353),t.map((n=>(function(i,o){let s=i.updateTime?Mc(i.updateTime):Mc(o);return s.isEqual(Gt.min())&&(s=Mc(o)),new PSe(s,i.transformResults||[])})(n,e)))):[]}function $Se(t){let e=zSe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){an(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){const g=Y5(p);return g instanceof Qs&&R5(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map((g=>(function(T){return new $y(_c(T.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let g;return g=typeof p=="object"?p.value:p,sC(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new jy(v,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const g=!p.before,v=p.values||[];return new jy(v,g)})(n.endAt)),dSe(e,i,s,o,u,"F",c,f)}function Y5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_c(n.unaryFilter.field);return Kn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_c(n.unaryFilter.field);return Kn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=_c(n.unaryFilter.field);return Kn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=_c(n.unaryFilter.field);return Kn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Kn.create(_c(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Qs.create(n.compositeFilter.filters.map((r=>Y5(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}})(n.compositeFilter.op))})(t):Qe(30097,{filter:t})}function _c(t){return sr.fromServerFormat(t.fieldPath)}function KSe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YSe(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function W5(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WSe{constructor(e){this.yt=e}}function JSe(t){const e=$Se({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XSe{constructor(){this.Sn=new QSe}addToCollectionParentIndex(e,n){return this.Sn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(Xs.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class QSe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lr(Qt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lr(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J5=41943040;class Br{static withCacheSize(e){return new Br(e,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br.DEFAULT_COLLECTION_PERCENTILE=10,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Br.DEFAULT=new Br(J5,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Br.DISABLED=new Br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Zc(0)}static ar(){return new Zc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="LruGarbageCollector",ZSe=1048576;function vU([t,e],[n,r]){const i=vt(t,n);return i===0?vt(e,r):i}class ebe{constructor(e){this.Pr=e,this.buffer=new lr(vU),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vU(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tbe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Oe(yU,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sp(n)?Oe(yU,"Ignoring IndexedDB error during garbage collection: ",n):await iC(n)}await this.Ar(3e5)}))}}class nbe{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(oC.ce);const r=new ebe(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(gU)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gU):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,s,u,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),vc()<=rt.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p}))))}}function rbe(t,e){return new nbe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ibe{constructor(){this.changes=new bu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class obe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class abe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&rh(r.mutation,i,ro.empty(),$t.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,yr()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=yr()){const i=jl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let s=hg();return o.forEach(((u,c)=>{s=s.insert(u,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=jl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,yr())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((s,u)=>{n.set(s,u)}))}))}computeViews(e,n,r,i){let o=Ky();const s=nh(),u=(function(){return nh()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof Tu)?o=o.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),rh(h.mutation,f,h.mutation.getFieldMask(),$t.now())):s.set(f.key,ro.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((f,h)=>s.set(f,h))),n.forEach(((f,h)=>u.set(f,new obe(h,s.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=nh();let i=new jr(((s,u)=>s-u)),o=yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const u of s)u.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||ro.empty();h=u.applyToLocalView(f,h),r.set(c,h);const p=(i.get(u.batchId)||yr()).add(c);i=i.insert(u.batchId,p)}))})).next((()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,p=V5();h.forEach((g=>{if(!o.has(g)){const v=G5(n.get(g),r.get(g));v!==null&&p.set(g,v),o=o.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return ye.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return pSe(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mSe(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ye.resolve(jl());let u=Ch,c=o;return s.next((f=>ye.forEach(f,((h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),o.get(h)?ye.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,c,f,yr()))).next((h=>({batchId:u,changes:U5(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new We(n)).next((r=>{let i=hg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=hg();return this.indexManager.getCollectionParents(e,o).next((u=>ye.forEach(u,(c=>{const f=(function(p,g){return new h0(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((p,g)=>{s=s.insert(p,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((s=>{o.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Yi.newInvalidDocument(h)))}));let u=hg();return s.forEach(((c,f)=>{const h=o.get(c);h!==void 0&&rh(h.mutation,f,ro.empty(),$t.now()),hC(n,f)&&(u=u.insert(c,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sbe{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ye.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Mc(i.createTime)}})(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:JSe(i.bundledQuery),readTime:Mc(i.readTime)}})(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lbe{constructor(){this.overlays=new jr(We.comparator),this.Lr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jl();return ye.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.bt(e,n,o)})),ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const i=jl(),o=n.length+1,s=new We(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new jr(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=jl(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=jl(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>u.set(f,h))),!(u.size()>=i)););return ye.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new DSe(n,r));let o=this.Lr.get(n);o===void 0&&(o=yr(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ube{constructor(){this.sessionToken=ea.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.kr=new lr($n.Kr),this.qr=new lr($n.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new $n(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new $n(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new We(new Qt([])),r=new $n(n,e),i=new $n(n,e+1),o=[];return this.qr.forEachInRange([r,i],(s=>{this.Wr(s),o.push(s.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new We(new Qt([])),r=new $n(n,e),i=new $n(n,e+1);let o=yr();return this.qr.forEachInRange([r,i],(s=>{o=o.add(s.key)})),o}containsKey(e){const n=new $n(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $n{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return We.comparator(e.key,n.key)||vt(e.Hr,n.Hr)}static Ur(e,n){return vt(e.Hr,n.Hr)||We.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cbe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new lr($n.Kr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new MSe(o,n,r,i);this.mutationQueue.push(s);for(const u of i)this.Jr=this.Jr.add(new $n(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ye.resolve(s)}lookupMutationBatch(e,n){return ye.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return ye.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?aC:this.Yn-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $n(n,0),i=new $n(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],(s=>{const u=this.Zr(s.Hr);o.push(u)})),ye.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lr(vt);return n.forEach((i=>{const o=new $n(i,0),s=new $n(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],(u=>{r=r.add(u.Hr)}))})),ye.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;We.isDocumentKey(o)||(o=o.child(""));const s=new $n(new We(o),0);let u=new lr(vt);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Hr)),!0)}),s),ye.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){an(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ye.forEach(n.mutations,(i=>{const o=new $n(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new $n(n,0),i=this.Jr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fbe{constructor(e){this.ti=e,this.docs=(function(){return new jr(We.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():Yi.newInvalidDocument(n))}getEntries(e,n){let r=Ky();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yi.newInvalidDocument(i))})),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ky();const s=n.path,u=new We(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||qEe(zEe(h),r)<=0||(i.has(h.key)||hC(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ye.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Qe(9500)}ni(e,n){return ye.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new dbe(this)}getSize(e){return ye.resolve(this.size)}}class dbe extends ibe{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),ye.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hbe{constructor(e){this.persistence=e,this.ri=new bu((n=>fC(n)),dC),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.ii=0,this.si=new gC,this.targetCount=0,this.oi=Zc._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ye.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Zc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.lr(n),ye.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach(((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ye.waitFor(o).next((()=>i))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((s=>{o.push(i.markPotentiallyOrphaned(e,s))})),ye.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n){this._i={},this.overlays={},this.ai=new oC(0),this.ui=!1,this.ui=!0,this.ci=new ube,this.referenceDelegate=e(this),this.li=new hbe(this),this.indexManager=new XSe,this.remoteDocumentCache=(function(i){return new fbe(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new WSe(n),this.Pi=new sbe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lbe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new cbe(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Oe("MemoryPersistence","Starting transaction:",e);const i=new pbe(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,n){return ye.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class pbe extends GEe{constructor(e){super(),this.currentSequenceNumber=e}}class yC{constructor(e){this.persistence=e,this.Ri=new gC,this.Ai=null}static Vi(e){return new yC(e)}get di(){if(this.Ai)return this.Ai;throw Qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.di,(r=>{const i=We.fromPath(r);return this.mi(e,i).next((o=>{o||n.removeEntry(i,Gt.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ye.or([()=>ye.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Wy{constructor(e,n){this.persistence=e,this.fi=new bu((r=>KEe(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=rbe(this,n)}static Vi(e,n){return new Wy(e,n)}Ti(){}Ii(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ye.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((o=>o?ye.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,n).next((u=>{u||(r++,o.removeEntry(s,Gt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ye.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ig(e.data.value)),n}wr(e,n,r){return ye.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ye.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=yr(),i=yr();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new vC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mbe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gbe{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return u_e()?8:jEe(Er())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ps(e,n,i,r).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new mbe;return this.ys(e,n,s).next((u=>{if(o.result=u,this.As)return this.ws(e,n,s,u.size)}))})).next((()=>o.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(vc()<=rt.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",qd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ye.resolve()):(vc()<=rt.DEBUG&&Oe("QueryEngine","Query:",qd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(vc()<=rt.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",qd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jl(n))):ye.resolve())}gs(e,n){if(cU(n))return ye.resolve(null);let r=Jl(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=xw(n,null,"F"),r=Jl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const s=yr(...o);return this.fs.getDocuments(e,s).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,u);return this.Ss(n,f,s,c.readTime)?this.gs(e,xw(n,null,"F")):this.Ds(e,f,n,c)}))))})))))}ps(e,n,r,i){return cU(n)||i.isEqual(Gt.min())?ye.resolve(null):this.fs.getDocuments(e,r).next((o=>{const s=this.bs(n,o);return this.Ss(n,s,r,i)?ye.resolve(null):(vc()<=rt.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qd(n)),this.Ds(e,s,n,FEe(i,Ch)).next((u=>u)))}))}bs(e,n){let r=new lr(ySe(e));return n.forEach(((i,o)=>{hC(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return vc()<=rt.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",qd(n)),this.fs.getDocumentsMatchingQuery(e,n,Xs.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((s=>{o=o.insert(s.key,s)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ybe="LocalStore";class vbe{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new jr(vt),this.Fs=new bu((o=>fC(o)),dC),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new abe(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function _be(t,e,n,r){return new vbe(t,e,n,r)}async function Q5(t,e){const n=Lt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const s=[],u=[];let c=yr();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:s,addedBatchIds:u})))}))}))}function Ebe(t,e){const n=Lt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,c,f,h){const p=f.batch,g=p.keys();let v=ye.resolve();return g.forEach((T=>{v=v.next((()=>h.getEntry(c,T))).next((w=>{const A=f.docVersions.get(T);an(A!==null,48541),w.version.compareTo(A)<0&&(p.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),h.addEntry(w)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=yr();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Sbe(t){const e=Lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function bbe(t,e){const n=Lt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=aC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}class _U{constructor(){this.activeTargetIds=TSe()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tbe{constructor(){this.vo=new _U,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new _U,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wbe{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="ConnectivityMonitor";class SU{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Oe(EU,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Oe(EU,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pg=null;function Rw(){return pg===null?pg=(function(){return 268435456+Math.round(2147483648*Math.random())})():pg++,"0x"+pg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="RestConnection",Abe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class xbe{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Hy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const s=Rw(),u=this.Qo(e,n.toUriEncodedString());Oe(Ub,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,o);const{host:f}=new URL(u),h=Eu(f);return this.zo(e,u,c,r,h).then((p=>(Oe(Ub,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw d0(Ub,`RPC '${e}' ${s} failed with error: `,p,"url: ",u,"request:",r),p}))}jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Qo(e,n){const r=Abe[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cbe{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection",Hd=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Dc extends xbe{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Dc.c_){const e=d5();Hd(e,f5.STAT_EVENT,(n=>{n.stat===Ew.PROXY?Oe(hr,"STAT_EVENT: detected buffering proxy"):n.stat===Ew.NOPROXY&&Oe(hr,"STAT_EVENT: detected no buffering proxy")})),Dc.c_=!0}}zo(e,n,r,i,o){const s=Rw();return new Promise(((u,c)=>{const f=new u5;f.setWithCredentials(!0),f.listenOnce(c5.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Cg.NO_ERROR:const p=f.getResponseJson();Oe(hr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),u(p);break;case Cg.TIMEOUT:Oe(hr,`RPC '${e}' ${s} timed out`),c(new ke(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Cg.HTTP_ERROR:const g=f.getStatus();if(Oe(hr,`RPC '${e}' ${s} failed with status:`,g,"response text:",f.getResponseText()),g>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const w=(function(I){const D=I.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(D)>=0?D:Ee.UNKNOWN})(T.status);c(new ke(w,T.message))}else c(new ke(Ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new ke(Ee.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Oe(hr,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);Oe(hr,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=Rw(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");Oe(hr,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=s.createWebChannel(f,u);this.I_(h);let p=!1,g=!1;const v=new Cbe({Ho:T=>{g?Oe(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(p||(Oe(hr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),Oe(hr,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},Jo:()=>h.close()});return Hd(h,Kd.EventType.OPEN,(()=>{g||(Oe(hr,`RPC '${e}' stream ${i} transport opened.`),v.i_())})),Hd(h,Kd.EventType.CLOSE,(()=>{g||(g=!0,Oe(hr,`RPC '${e}' stream ${i} transport closed`),v.o_(),this.E_(h))})),Hd(h,Kd.EventType.ERROR,(T=>{g||(g=!0,d0(hr,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),v.o_(new ke(Ee.UNAVAILABLE,"The operation could not be completed")))})),Hd(h,Kd.EventType.MESSAGE,(T=>{var w;if(!g){const A=T.data[0];an(!!A,16349);const I=A,D=(I==null?void 0:I.error)||((w=I[0])==null?void 0:w.error);if(D){Oe(hr,`RPC '${e}' stream ${i} received error:`,D);const k=D.status;let z=(function(N){const M=An[N];if(M!==void 0)return LSe(M)})(k),G=D.message;z===void 0&&(z=Ee.INTERNAL,G="Unknown error status: "+k+" with message "+D.message),g=!0,v.o_(new ke(z,G)),h.close()}else Oe(hr,`RPC '${e}' stream ${i} received:`,A),v.__(A)}})),Dc.u_(),setTimeout((()=>{v.s_()}),0),v}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return h5()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ibe(t){return new Dc(t)}function Vb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t){return new USe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dc.c_=!1;class Z5{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="PersistentStream";class Pbe{constructor(e,n,r,i,o,s,u,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z5(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ee.RESOURCE_EXHAUSTED?(cu(n.toString()),cu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ke(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Oe(bU,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Oe(bU,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Rbe extends Pbe{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return an(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,an(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){an(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=jSe(e.writeResults,e.commitTime),r=Mc(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=qSe(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>GSe(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nbe{}class Obe extends Nbe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ke(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Wo(e,Iw(n,r),i,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(Ee.UNKNOWN,o.toString())}))}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,u])=>this.connection.jo(e,Iw(n,r),i,s,u,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(Ee.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Mbe(t,e,n,r){return new Obe(t,e,n,r)}class Dbe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cu(n),this.aa=!1):Oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="RemoteStore";class kbe{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((s=>{r.enqueueAndForget((async()=>{fp(this)&&(Oe(up,"Restarting streams for network reachability change."),await(async function(c){const f=Lt(c);f.Ea.add(4),await cp(f),f.Va.set("Unknown"),f.Ea.delete(4),await y0(f)})(this))}))})),this.Va=new Dbe(r,i)}}async function y0(t){if(fp(t))for(const e of t.Ra)await e(!0)}async function cp(t){for(const e of t.Ra)await e(!1)}function fp(t){return Lt(t).Ea.size===0}async function eq(t,e,n){if(!sp(e))throw e;t.Ea.add(1),await cp(t),t.Va.set("Offline"),n||(n=()=>Sbe(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Oe(up,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await y0(t)}))}function tq(t,e){return e().catch((n=>eq(t,n,e)))}async function v0(t){const e=Lt(t),n=Zs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:aC;for(;Lbe(e);)try{const i=await bbe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Ube(e,i)}catch(i){await eq(e,i)}nq(e)&&rq(e)}function Lbe(t){return fp(t)&&t.Ta.length<10}function Ube(t,e){t.Ta.push(e);const n=Zs(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function nq(t){return fp(t)&&!Zs(t).x_()&&t.Ta.length>0}function rq(t){Zs(t).start()}async function Vbe(t){Zs(t).ra()}async function Bbe(t){const e=Zs(t);for(const n of t.Ta)e.ea(n.mutations)}async function Fbe(t,e,n){const r=t.Ta.shift(),i=mC.from(r,e,n);await tq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await v0(t)}async function zbe(t,e){e&&Zs(t).Y_&&await(async function(r,i){if((function(s){return kSe(s)&&s!==Ee.ABORTED})(i.code)){const o=r.Ta.shift();Zs(r).B_(),await tq(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await v0(r)}})(t,e),nq(t)&&rq(t)}async function TU(t,e){const n=Lt(t);n.asyncQueue.verifyOperationInProgress(),Oe(up,"RemoteStore received new credentials");const r=fp(n);n.Ea.add(3),await cp(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await y0(n)}async function qbe(t,e){const n=Lt(t);e?(n.Ea.delete(2),await y0(n)):e||(n.Ea.add(2),await cp(n),n.Va.set("Unknown"))}function Zs(t){return t.fa||(t.fa=(function(n,r,i){const o=Lt(n);return o.sa(),new Rbe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Vbe.bind(null,t),t_:zbe.bind(null,t),ta:Bbe.bind(null,t),na:Fbe.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await v0(t)):(await t.fa.stop(),t.Ta.length>0&&(Oe(up,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,u=new _C(e,n,s,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iq(t,e){if(cu("AsyncQueue",`${e}: ${t}`),sp(t))return new ke(Ee.UNAVAILABLE,`${e}: ${t}`);throw t}class Hbe{constructor(){this.queries=wU(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Lt(n),o=i.queries;i.queries=wU(),o.forEach(((s,u)=>{for(const c of u.ba)c.onError(r)}))})(this,new ke(Ee.ABORTED,"Firestore shutting down"))}}function wU(){return new bu((t=>k5(t)),D5)}function Gbe(t){t.Ca.forEach((e=>{e.next()}))}var AU,xU;(xU=AU||(AU={})).Ma="default",xU.Cache="cache";const jbe="SyncEngine";class $be{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new bu((u=>k5(u)),D5),this.Iu=new Map,this.Eu=new Set,this.Ru=new jr(We.comparator),this.Au=new Map,this.Vu=new gC,this.du={},this.mu=new Map,this.fu=Zc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kbe(t,e,n){const r=Xbe(t);try{const i=await(function(s,u){const c=Lt(s),f=$t.now(),h=u.reduce(((v,T)=>v.add(T.key)),yr());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let T=Ky(),w=yr();return c.xs.getEntries(v,h).next((A=>{T=A,T.forEach(((I,D)=>{D.isValidDocument()||(w=w.add(I))}))})).next((()=>c.localDocuments.getOverlayedDocuments(v,T))).next((A=>{p=A;const I=[];for(const D of u){const k=NSe(D,p.get(D.key).overlayedDocument);k!=null&&I.push(new Tu(D.key,k,C5(k.value.mapValue),ka.exists(!0)))}return c.mutationQueue.addMutationBatch(v,f,I,u)})).next((A=>{g=A;const I=A.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(v,A.batchId,I)}))})).then((()=>({batchId:g.batchId,changes:U5(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,u,c){let f=s.du[s.currentUser.toKey()];f||(f=new jr(vt)),f=f.insert(u,c),s.du[s.currentUser.toKey()]=f})(r,i.batchId,n),await _0(r,i.changes),await v0(r.remoteStore)}catch(i){const o=iq(i,"Failed to persist write");n.reject(o)}}function CU(t,e,n){const r=Lt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,s)=>{const u=s.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(s,u){const c=Lt(s);c.onlineState=u;let f=!1;c.queries.forEach(((h,p)=>{for(const g of p.ba)g.va(u)&&(f=!0)})),f&&Gbe(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ybe(t,e){const n=Lt(t),r=e.batch.batchId;try{const i=await Ebe(n.localStore,e);aq(n,r,null),oq(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _0(n,i)}catch(i){await iC(i)}}async function Wbe(t,e,n){const r=Lt(t);try{const i=await(function(s,u){const c=Lt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next((p=>(an(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);aq(r,e,n),oq(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _0(r,i)}catch(i){await iC(i)}}function oq(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function aq(t,e,n){const r=Lt(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}async function _0(t,e,n){const r=Lt(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{s.push(r.pu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=vC.Es(c.targetId,f);o.push(p)}})))})),await Promise.all(s),r.Pu.J_(i),await(async function(c,f){const h=Lt(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>ye.forEach(f,(g=>ye.forEach(g.Ts,(v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>ye.forEach(g.Is,(v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!sp(p))throw p;Oe(ybe,"Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const v=h.vs.get(g),T=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(T);h.vs=h.vs.insert(g,w)}}})(r.localStore,o))}async function Jbe(t,e){const n=Lt(t);if(!n.currentUser.isEqual(e)){Oe(jbe,"User change. New user:",e.toKey());const r=await Q5(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach((u=>{u.forEach((c=>{c.reject(new ke(Ee.CANCELLED,s))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _0(n,r.Ns)}}function Xbe(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ybe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wbe.bind(null,e),e}class Jy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=g0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _be(this.persistence,new gbe,e.initialUser,this.serializer)}Cu(e){return new X5(yC.Vi,this.serializer)}Du(e){return new Tbe}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jy.provider={build:()=>new Jy};class Qbe extends Jy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){an(this.persistence.referenceDelegate instanceof Wy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tbe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Br.withCacheSize(this.cacheSizeBytes):Br.DEFAULT;return new X5((r=>Wy.Vi(r,n)),this.serializer)}}class Nw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CU(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jbe.bind(null,this.syncEngine),await qbe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Hbe})()}createDatastore(e){const n=g0(e.databaseInfo.databaseId),r=Ibe(e.databaseInfo);return Mbe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,s,u){return new kbe(r,i,o,s,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>CU(this.syncEngine,n,0)),(function(){return SU.v()?new SU:new wbe})())}createSyncEngine(e,n){return(function(i,o,s,u,c,f,h){const p=new $be(i,o,s,u,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=Lt(i);Oe(up,"RemoteStore shutting down."),o.Ea.add(5),await cp(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Nw.provider={build:()=>new Nw};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="FirestoreClient";class Zbe{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=mr.UNAUTHENTICATED,this.clientId=nC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async s=>{Oe(el,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(Oe(el,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iq(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Bb(t,e){t.asyncQueue.verifyOperationInProgress(),Oe(el,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Q5(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function IU(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eTe(t);Oe(el,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>TU(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>TU(e.remoteStore,i))),t._onlineComponents=e}async function eTe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Oe(el,"Using user provided OfflineComponentProvider");try{await Bb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ee.FAILED_PRECONDITION||i.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;d0("Error using user provided cache. Falling back to memory cache: "+n),await Bb(t,new Jy)}}else Oe(el,"Using default OfflineComponentProvider"),await Bb(t,new Qbe(void 0));return t._offlineComponents}async function tTe(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Oe(el,"Using user provided OnlineComponentProvider"),await IU(t,t._uninitializedComponentsProvider._online)):(Oe(el,"Using default OnlineComponentProvider"),await IU(t,new Nw))),t._onlineComponents}function nTe(t){return tTe(t).then((e=>e.syncEngine))}function rTe(t,e){const n=new Wl;return t.asyncQueue.enqueueAndForget((async()=>Kbe(await nTe(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iTe="ComponentProvider",PU=new Map;function oTe(t,e,n,r,i){return new XEe(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,sq(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq="firestore.googleapis.com",RU=!0;class NU{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ke(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lq,this.ssl=RU}else this.host=e.host,this.ssl=e.ssl??RU;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZSe)throw new ke(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BEe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ke(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ke(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ke(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class E0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NU({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NU(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new PEe;switch(r.type){case"firstParty":return new MEe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=PU.get(n);r&&(Oe(iTe,"Removing Datastore"),PU.delete(n),r.terminate())})(this),Promise.resolve()}}function aTe(t,e,n,r={}){var f;t=v5(t,E0);const i=Eu(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(Jx(`https://${u}`),Xx("Firestore",!0)),o.host!==lq&&o.host!==u&&d0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:u,ssl:i,emulatorOptions:r};if(!su(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=mr.MOCK_USER;else{h=r5(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ke(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new mr(g)}t._authCredentials=new REe(new m5(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new EC(this.firestore,e,this._query)}}class _r{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}toJSON(){return{type:_r._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ap(n,_r._jsonSchema))return new _r(e,r||null,new We(Qt.fromString(n.referencePath)))}}_r._jsonSchemaVersion="firestore/documentReference/1.0",_r._jsonSchema={type:Pn("string",_r._jsonSchemaVersion),referencePath:Pn("string")};class Ys extends EC{constructor(e,n,r){super(e,n,hSe(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new We(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function sTe(t,e,...n){if(t=Mi(t),g5("collection","path",e),t instanceof E0){const r=Qt.fromString(e,...n);return ZL(r),new Ys(t,null,r)}{if(!(t instanceof _r||t instanceof Ys))throw new ke(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return ZL(r),new Ys(t.firestore,null,r)}}function lTe(t,e,...n){if(t=Mi(t),arguments.length===1&&(e=nC.newId()),g5("doc","path",e),t instanceof E0){const r=Qt.fromString(e,...n);return QL(r),new _r(t,null,new We(r))}{if(!(t instanceof _r||t instanceof Ys))throw new ke(Ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return QL(r),new _r(t.firestore,t instanceof Ys?t.converter:null,new We(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="AsyncQueue";class MU{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z5(this,"async_queue_retry"),this._c=()=>{const r=Vb();r&&Oe(OU,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Wl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!sp(e))throw e;Oe(OU,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,cu("INTERNAL UNHANDLED ERROR: ",DU(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=_C.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Qe(47125,{Pc:DU(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function DU(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class uq extends E0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new MU,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MU(e),this._firestoreClient=void 0,await e}}}function uTe(t,e){const n=typeof t=="object"?t:f0(),r=typeof t=="string"?t:Hy,i=c0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=e5("firestore");o&&aTe(i,...o)}return i}function cTe(t){if(t._terminated)throw new ke(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fTe(t),t._firestoreClient}function fTe(t){var r,i,o,s;const e=t._freezeSettings(),n=oTe(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Zbe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eo(ea.fromBase64String(e))}catch(n){throw new ke(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eo(ea.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:eo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ap(e,eo._jsonSchema))return eo.fromBase64String(e.bytes)}}eo._jsonSchemaVersion="firestore/bytes/1.0",eo._jsonSchema={type:Pn("string",eo._jsonSchemaVersion),bytes:Pn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:La._jsonSchemaVersion}}static fromJSON(e){if(ap(e,La._jsonSchema))return new La(e.latitude,e.longitude)}}La._jsonSchemaVersion="firestore/geoPoint/1.0",La._jsonSchema={type:Pn("string",La._jsonSchemaVersion),latitude:Pn("number"),longitude:Pn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ko._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ap(e,Ko._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ko(e.vectorValues);throw new ke(Ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ko._jsonSchemaVersion="firestore/vectorValue/1.0",Ko._jsonSchema={type:Pn("string",Ko._jsonSchemaVersion),vectorValues:Pn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dTe=/^__.*__$/;class hTe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tu(e,this.data,this.fieldMask,n,this.fieldTransforms):new lp(e,this.data,n,this.fieldTransforms)}}function fq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{dataSource:t})}}class bC{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new bC({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Xy(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(fq(this.dataSource)&&dTe.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class pTe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||g0(e)}createContext(e,n,r,i=!1){return new bC({dataSource:e,methodName:n,targetDoc:r,path:sr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mTe(t){const e=t._freezeSettings(),n=g0(t._databaseId);return new pTe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gTe(t,e,n,r,i,o={}){const s=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);mq("Data must be an object, but it was:",s,r);const u=hq(r,s);let c,f;if(o.merge)c=new ro(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=wC(e,p,n);if(!s.contains(g))throw new ke(Ee.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);_Te(h,g)||h.push(g)}c=new ro(h),f=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=s.fieldTransforms;return new hTe(new Zi(u),c,f)}class TC extends SC{_toFieldTransform(e){return new CSe(e.path,new Ph)}isEqual(e){return e instanceof TC}}function dq(t,e){if(pq(t=Mi(t)))return mq("Unsupported field value:",e,t),hq(t,e);if(t instanceof SC)return(function(r,i){if(!fq(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const o=[];let s=0;for(const u of r){let c=dq(u,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Mi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wSe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=$t.fromDate(r);return{timestampValue:Cw(i.serializer,o)}}if(r instanceof $t){const o=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cw(i.serializer,o)}}if(r instanceof La)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof eo)return{bytesValue:VSe(i.serializer,r._byteString)};if(r instanceof _r){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:K5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ko)return(function(s,u){const c=s instanceof Ko?s.toArray():s;return{mapValue:{fields:{[A5]:{stringValue:x5},[bw]:{arrayValue:{values:c.map((h=>{if(typeof h!="number")throw u.createError("VectorValues must only contain numeric values.");return pC(u.serializer,h)}))}}}}}})(r,i);if(W5(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${rC(r)}`)})(t,e)}function hq(t,e){const n={};return E5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wf(t,((r,i)=>{const o=dq(i,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function pq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof La||t instanceof eo||t instanceof _r||t instanceof SC||t instanceof Ko||W5(t))}function mq(t,e,n){if(!pq(n)||!y5(n)){const r=rC(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function wC(t,e,n){if((e=Mi(e))instanceof cq)return e._internalPath;if(typeof e=="string")return vTe(t,e);throw Xy("Field path arguments must be of type string or ",t,!1,void 0,n)}const yTe=new RegExp("[~\\*/\\[\\]]");function vTe(t,e,n){if(e.search(yTe)>=0)throw Xy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cq(...e.split("."))._internalPath}catch{throw Xy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ke(Ee.INVALID_ARGUMENT,u+t+c)}function _Te(t,e){return t.some((n=>n.isEqual(e)))}function ETe(){return new TC("serverTimestamp")}const kU="@firebase/firestore",LU="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new STe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(wC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class STe extends gq{data(){return super.data()}}function bTe(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class mg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kc extends gq{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ng(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ke(Ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=kc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}kc._jsonSchemaVersion="firestore/documentSnapshot/1.0",kc._jsonSchema={type:Pn("string",kc._jsonSchemaVersion),bundleSource:Pn("string","DocumentSnapshot"),bundleName:Pn("string"),bundle:Pn("string")};class Ng extends kc{data(e={}){return super.data(e)}}class ih{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ng(this._firestore,this._userDataWriter,r.key,r,new mg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((u=>{const c=new Ng(i._firestore,i._userDataWriter,u.doc.key,u.doc,new mg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const c=new Ng(i._firestore,i._userDataWriter,u.doc.key,u.doc,new mg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:TTe(u.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ke(Ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ih._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TTe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ih._jsonSchemaVersion="firestore/querySnapshot/1.0",ih._jsonSchema={type:Pn("string",ih._jsonSchemaVersion),bundleSource:Pn("string","QuerySnapshot"),bundleName:Pn("string"),bundle:Pn("string")};function wTe(t,e){const n=v5(t.firestore,uq),r=lTe(t),i=bTe(t.converter,e),o=mTe(t.firestore);return ATe(n,[gTe(o,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ka.exists(!1))]).then((()=>r))}function ATe(t,e){const n=cTe(t);return rTe(n,e)}(function(e,n=!0){IEe(Su),lu(new Js("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),u=new uq(new NEe(r.getProvider("auth-internal")),new DEe(s,r.getProvider("app-check-internal")),QEe(s,i),s);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),$o(kU,LU,e),$o(kU,LU,"esm2020")})();var xTe="firebase",CTe="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$o(xTe,CTe,"app");function yq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ITe=yq,vq=new ip("auth","Firebase",yq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=new Qx("@firebase/auth");function PTe(t,...e){Qy.logLevel<=rt.WARN&&Qy.warn(`Auth (${Su}): ${t}`,...e)}function Og(t,...e){Qy.logLevel<=rt.ERROR&&Qy.error(`Auth (${Su}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t,...e){throw AC(t,...e)}function Yo(t,...e){return AC(t,...e)}function _q(t,e,n){const r={...ITe(),[e]:n};return new ip("auth","Firebase",r).create(e,{appName:t.name})}function Xl(t){return _q(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vq.create(t,...e)}function ze(t,e,...n){if(!t)throw AC(e,...n)}function Na(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Og(e),new Error(e)}function Ka(t,e){t||Na(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function RTe(){return UU()==="http:"||UU()==="https:"}function UU(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NTe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RTe()||a_e()||"connection"in navigator)?navigator.onLine:!0}function OTe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ka(n>e,"Short delay should be less than long delay!"),this.isMobile=r_e()||s_e()}get(){return NTe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t,e){Ka(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MTe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DTe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kTe=new dp(3e4,6e4);function CC(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Af(t,e,n,r,i={}){return Sq(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const u=op({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...o};return o_e()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Eu(t.emulatorConfig.host)&&(f.credentials="include"),Eq.fetch()(await bq(t,t.config.apiHost,n,u),f)})}async function Sq(t,e,n){t._canInitEmulator=!1;const r={...MTe,...e};try{const i=new UTe(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw gg(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const u=o.ok?s.errorMessage:s.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gg(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw gg(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw gg(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw _q(t,h,f);$a(t,h)}}catch(i){if(i instanceof ra)throw i;$a(t,"network-request-failed",{message:String(i)})}}async function LTe(t,e,n,r,i={}){const o=await Af(t,e,n,r,i);return"mfaPendingCredential"in o&&$a(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function bq(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?xC(t.config,i):`${t.config.apiScheme}://${i}`;return DTe.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class UTe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yo(this.auth,"network-request-failed")),kTe.get())})}}function gg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yo(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VTe(t,e){return Af(t,"POST","/v1/accounts:delete",e)}async function Zy(t,e){return Af(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BTe(t,e=!1){const n=Mi(t),r=await n.getIdToken(e),i=IC(r);ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:oh(Fb(i.auth_time)),issuedAtTime:oh(Fb(i.iat)),expirationTime:oh(Fb(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Fb(t){return Number(t)*1e3}function IC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Og("JWT malformed, contained fewer than 3 sections"),null;try{const i=Q6(n);return i?JSON.parse(i):(Og("Failed to decode base64 JWT payload"),null)}catch(i){return Og("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function VU(t){const e=IC(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ra&&FTe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FTe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zTe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oh(this.lastLoginAt),this.creationTime=oh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ev(t){var p;const e=t.auth,n=await t.getIdToken(),r=await Oh(t,Zy(e,{idToken:n}));ze(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(p=i.providerUserInfo)!=null&&p.length?Tq(i.providerUserInfo):[],s=HTe(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),f=u?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Mw(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function qTe(t){const e=Mi(t);await ev(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HTe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Tq(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GTe(t,e){const n=await Sq(t,{},async()=>{const r=op({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await bq(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&Eu(t.emulatorConfig.host)&&(c.credentials="include"),Eq.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jTe(t,e){return Af(t,"POST","/v2/accounts:revokeToken",CC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=VU(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await GTe(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Lc;return r&&(ze(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ze(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ze(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lc,this.toJSON())}_performRefresh(){return Na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class io{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new zTe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Mw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Oh(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BTe(this,e)}reload(){return qTe(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new io({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ev(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qi(this.auth.app))return Promise.reject(Xl(this.auth));const e=await this.getIdToken();return await Oh(this,VTe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:v,providerData:T,stsTokenManager:w}=n;ze(p&&w,e,"internal-error");const A=Lc.fromJSON(this.name,w);ze(typeof p=="string",e,"internal-error"),ks(r,e.name),ks(i,e.name),ze(typeof g=="boolean",e,"internal-error"),ze(typeof v=="boolean",e,"internal-error"),ks(o,e.name),ks(s,e.name),ks(u,e.name),ks(c,e.name),ks(f,e.name),ks(h,e.name);const I=new io({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:v,photoURL:s,phoneNumber:o,tenantId:u,stsTokenManager:A,createdAt:f,lastLoginAt:h});return T&&Array.isArray(T)&&(I.providerData=T.map(D=>({...D}))),c&&(I._redirectEventId=c),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Lc;i.updateFromServerResponse(n);const o=new io({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ev(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ze(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Tq(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Lc;u.updateFromIdToken(r);const c=new io({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Mw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=new Map;function Oa(t){Ka(t instanceof Function,"Expected a class definition");let e=BU.get(t);return e?(Ka(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BU.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wq.type="NONE";const FU=wq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t,e,n){return`firebase:${t}:${e}:${n}`}class Uc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Mg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Mg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zy(this.auth,{idToken:e}).catch(()=>{});return n?io._fromGetAccountInfoResponse(this.auth,n,e):null}return io._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uc(Oa(FU),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Oa(FU);const s=Mg(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const h=await f._get(s);if(h){let p;if(typeof h=="string"){const g=await Zy(e,{idToken:h}).catch(()=>{});if(!g)break;p=await io._fromGetAccountInfoResponse(e,g,h)}else p=io._fromJSON(e,h);f!==o&&(u=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Uc(o,e,r):(o=c[0],u&&await o._set(s,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new Uc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Iq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Aq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rq(e))return"Blackberry";if(Nq(e))return"Webos";if(xq(e))return"Safari";if((e.includes("chrome/")||Cq(e))&&!e.includes("edge/"))return"Chrome";if(Pq(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Aq(t=Er()){return/firefox\//i.test(t)}function xq(t=Er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cq(t=Er()){return/crios\//i.test(t)}function Iq(t=Er()){return/iemobile/i.test(t)}function Pq(t=Er()){return/android/i.test(t)}function Rq(t=Er()){return/blackberry/i.test(t)}function Nq(t=Er()){return/webos/i.test(t)}function PC(t=Er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $Te(t=Er()){var e;return PC(t)&&!!((e=window.navigator)!=null&&e.standalone)}function KTe(){return l_e()&&document.documentMode===10}function Oq(t=Er()){return PC(t)||Pq(t)||Nq(t)||Rq(t)||/windows phone/i.test(t)||Iq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(t,e=[]){let n;switch(t){case"Browser":n=zU(Er());break;case"Worker":n=`${zU(Er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Su}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YTe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,u)=>{try{const c=e(o);s(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WTe(t,e={}){return Af(t,"GET","/v2/passwordPolicy",CC(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JTe=6;class XTe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JTe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QTe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qU(this),this.idTokenSubscription=new qU(this),this.beforeStateQueue=new YTe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Oa(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Uc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zy(this,{idToken:e}),r=await io._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Qi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ev(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OTe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qi(this.app))return Promise.reject(Xl(this));const n=e?Mi(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qi(this.app)?Promise.reject(Xl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qi(this.app)?Promise.reject(Xl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WTe(this),n=new XTe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ip("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jTe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Oa(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Uc.create(this,[Oa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(u,this,"internal-error"),u.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Qi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&PTe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function RC(t){return Mi(t)}class qU{constructor(e){this.auth=e,this.observer=null,this.addObserver=g_e(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZTe(t){NC=t}function ewe(t){return NC.loadJS(t)}function twe(){return NC.gapiScript}function nwe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rwe(t,e){const n=c0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(su(o,e??{}))return i;$a(i,"already-initialized")}return n.initialize({options:e})}function iwe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Oa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function owe(t,e,n){const r=RC(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Dq(e),{host:s,port:u}=awe(e),c=u===null?"":`:${u}`,f={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(su(f,r.config.emulator)&&su(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Eu(s)?(Jx(`${o}//${s}${c}`),Xx("Auth",!0)):swe()}function Dq(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function awe(t){const e=Dq(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:HU(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:HU(s)}}}function HU(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function swe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Na("not implemented")}_getIdTokenResponse(e){return Na("not implemented")}_linkToIdToken(e,n){return Na("not implemented")}_getReauthenticationResolver(e){return Na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t,e){return LTe(t,"POST","/v1/accounts:signInWithIdp",CC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lwe="http://localhost";class hu extends kq{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$a("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new hu(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Vc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vc(e,n)}buildRequest(){const e={requestUri:lwe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=op(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends Lq{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends hp{constructor(){super("facebook.com")}static credential(e){return hu._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends hp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hu._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends hp{constructor(){super("github.com")}static credential(e){return hu._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends hp{constructor(){super("twitter.com")}static credential(e,n){return hu._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await io._fromIdTokenResponse(e,r,i),s=GU(r);return new ef({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=GU(r);return new ef({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function GU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv extends ra{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,tv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new tv(e,n,r,i)}}function Uq(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?tv._fromErrorAndOperation(t,o,e,r):o})}async function uwe(t,e,n=!1){const r=await Oh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ef._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cwe(t,e,n=!1){const{auth:r}=t;if(Qi(r.app))return Promise.reject(Xl(r));const i="reauthenticate";try{const o=await Oh(t,Uq(r,i,e,t),n);ze(o.idToken,r,"internal-error");const s=IC(o.idToken);ze(s,r,"internal-error");const{sub:u}=s;return ze(t.uid===u,r,"user-mismatch"),ef._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&$a(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fwe(t,e,n=!1){if(Qi(t.app))return Promise.reject(Xl(t));const r="signIn",i=await Uq(t,r,e),o=await ef._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function dwe(t,e,n,r){return Mi(t).onIdTokenChanged(e,n,r)}function hwe(t,e,n){return Mi(t).beforeAuthStateChanged(e,n)}const nv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nv,"1"),this.storage.removeItem(nv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pwe=1e3,mwe=10;class Bq extends Vq{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Oq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);KTe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mwe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pwe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bq.type="LOCAL";const gwe=Bq;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq extends Vq{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Fq.type="SESSION";const zq=Fq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ywe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new S0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async f=>f(n.origin,o)),c=await ywe(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}S0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vwe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((u,c)=>{const f=OC("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(g.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(){return window}function _we(t){Wo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(){return typeof Wo().WorkerGlobalScope<"u"&&typeof Wo().importScripts=="function"}async function Ewe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Swe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function bwe(){return qq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq="firebaseLocalStorageDb",Twe=1,rv="firebaseLocalStorage",Gq="fbase_key";class pp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function b0(t,e){return t.transaction([rv],e?"readwrite":"readonly").objectStore(rv)}function wwe(){const t=indexedDB.deleteDatabase(Hq);return new pp(t).toPromise()}function Dw(){const t=indexedDB.open(Hq,Twe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rv,{keyPath:Gq})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rv)?e(r):(r.close(),await wwe(),e(await Dw()))})})}async function jU(t,e,n){const r=b0(t,!0).put({[Gq]:e,value:n});return new pp(r).toPromise()}async function Awe(t,e){const n=b0(t,!1).get(e),r=await new pp(n).toPromise();return r===void 0?null:r.value}function $U(t,e){const n=b0(t,!0).delete(e);return new pp(n).toPromise()}const xwe=800,Cwe=3;class jq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Cwe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=S0._getInstance(bwe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Ewe(),!this.activeServiceWorker)return;this.sender=new vwe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Swe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dw();return await jU(e,nv,"1"),await $U(e,nv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>jU(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Awe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$U(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=b0(i,!1).getAll();return new pp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xwe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jq.type="LOCAL";const Iwe=jq;new dp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pwe(t,e){return e?Oa(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC extends kq{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Rwe(t){return fwe(t.auth,new MC(t),t.bypassAuthState)}function Nwe(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),cwe(n,new MC(t),t.bypassAuthState)}async function Owe(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),uwe(n,new MC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rwe;case"linkViaPopup":case"linkViaRedirect":return Owe;case"reauthViaPopup":case"reauthViaRedirect":return Nwe;default:$a(this.auth,"internal-error")}}resolve(e){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mwe=new dp(2e3,1e4);class Ac extends $q{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ac.currentPopupAction&&Ac.currentPopupAction.cancel(),Ac.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){Ka(this.filter.length===1,"Popup operations only handle one event");const e=OC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Yo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ac.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mwe.get())};e()}}Ac.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dwe="pendingRedirect",Dg=new Map;class kwe extends $q{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dg.get(this.auth._key());if(!e){try{const r=await Lwe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dg.set(this.auth._key(),e)}return this.bypassAuthState||Dg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Lwe(t,e){const n=Bwe(e),r=Vwe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Uwe(t,e){Dg.set(t._key(),e)}function Vwe(t){return Oa(t._redirectPersistence)}function Bwe(t){return Mg(Dwe,t.config.apiKey,t.name)}async function Fwe(t,e,n=!1){if(Qi(t.app))return Promise.reject(Xl(t));const r=RC(t),i=Pwe(r,e),s=await new kwe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zwe=600*1e3;class qwe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hwe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Kq(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zwe&&this.cachedEventUids.clear(),this.cachedEventUids.has(KU(e))}saveEventToCache(e){this.cachedEventUids.add(KU(e)),this.lastProcessedEventTime=Date.now()}}function KU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Kq({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Hwe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kq(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gwe(t,e={}){return Af(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jwe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$we=/^https?/;async function Kwe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Gwe(t);for(const n of e)try{if(Ywe(n))return}catch{}$a(t,"unauthorized-domain")}function Ywe(t){const e=Ow(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!$we.test(n))return!1;if(jwe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wwe=new dp(3e4,6e4);function YU(){const t=Wo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Jwe(t){return new Promise((e,n)=>{var i,o,s;function r(){YU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YU(),n(Yo(t,"network-request-failed"))},timeout:Wwe.get()})}if((o=(i=Wo().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=Wo().gapi)!=null&&s.load)r();else{const u=nwe("iframefcb");return Wo()[u]=()=>{gapi.load?r():n(Yo(t,"network-request-failed"))},ewe(`${twe()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw kg=null,e})}let kg=null;function Xwe(t){return kg=kg||Jwe(t),kg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qwe=new dp(5e3,15e3),Zwe="__/auth/iframe",eAe="emulator/auth/iframe",tAe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nAe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rAe(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xC(e,eAe):`https://${t.config.authDomain}/${Zwe}`,r={apiKey:e.apiKey,appName:t.name,v:Su},i=nAe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${op(r).slice(1)}`}async function iAe(t){const e=await Xwe(t),n=Wo().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:rAe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tAe,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Yo(t,"network-request-failed"),u=Wo().setTimeout(()=>{o(s)},Qwe.get());function c(){Wo().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oAe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aAe=500,sAe=600,lAe="_blank",uAe="http://localhost";class WU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cAe(t,e,n,r=aAe,i=sAe){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...oAe,width:r.toString(),height:i.toString(),top:o,left:s},f=Er().toLowerCase();n&&(u=Cq(f)?lAe:n),Aq(f)&&(e=e||uAe,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[v,T])=>`${g}${v}=${T},`,"");if($Te(f)&&u!=="_self")return fAe(e||"",u),new WU(null);const p=window.open(e||"",u,h);ze(p,t,"popup-blocked");try{p.focus()}catch{}return new WU(p)}function fAe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dAe="__/auth/handler",hAe="emulator/auth/handler",pAe=encodeURIComponent("fac");async function JU(t,e,n,r,i,o){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Su,eventId:i};if(e instanceof Lq){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",m_e(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))s[h]=p}if(e instanceof hp){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),f=c?`#${pAe}=${encodeURIComponent(c)}`:"";return`${mAe(t)}?${op(u).slice(1)}${f}`}function mAe({config:t}){return t.emulator?xC(t,hAe):`https://${t.authDomain}/${dAe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="webStorageSupport";class gAe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zq,this._completeRedirectFn=Fwe,this._overrideRedirectResult=Uwe}async _openPopup(e,n,r,i){var s;Ka((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await JU(e,n,r,Ow(),i);return cAe(e,o,OC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await JU(e,n,r,Ow(),i);return _we(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ka(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await iAe(e),r=new qwe(e);return n.register("authEvent",i=>(ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zb,{type:zb},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[zb];o!==void 0&&n(!!o),$a(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Kwe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Oq()||xq()||PC()}}const yAe=gAe;var XU="@firebase/auth",QU="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vAe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Ae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EAe(t){lu(new Js("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;ze(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mq(t)},f=new QTe(r,i,o,c);return iwe(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lu(new Js("auth-internal",e=>{const n=RC(e.getProvider("auth").getImmediate());return(r=>new vAe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$o(XU,QU,_Ae(t)),$o(XU,QU,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SAe=300,bAe=n5("authIdTokenMaxAge")||SAe;let ZU=null;const TAe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bAe)return;const i=n==null?void 0:n.token;ZU!==i&&(ZU=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wAe(t=f0()){const e=c0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rwe(t,{popupRedirectResolver:yAe,persistence:[Iwe,gwe,zq]}),r=n5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=TAe(o.toString());hwe(n,s,()=>s(n.currentUser)),dwe(n,u=>s(u))}}const i=Z6("auth");return i&&owe(n,`http://${i}`),n}function AAe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}ZTe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Yo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",AAe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EAe("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq="firebasestorage.googleapis.com",xAe="storageBucket",CAe=120*1e3,IAe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends ra{constructor(e,n,r=0){super(qb(e),`Firebase Storage: ${n} (${qb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ia.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var na;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(na||(na={}));function qb(t){return"storage/"+t}function PAe(){const t="An unknown error occurred, please check the error payload for server response.";return new ia(na.UNKNOWN,t)}function RAe(){return new ia(na.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function NAe(){return new ia(na.CANCELED,"User canceled the upload/download.")}function OAe(t){return new ia(na.INVALID_URL,"Invalid URL '"+t+"'.")}function MAe(t){return new ia(na.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eV(t){return new ia(na.INVALID_ARGUMENT,t)}function Wq(){return new ia(na.APP_DELETED,"The Firebase app was deleted.")}function DAe(t){return new ia(na.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=oo.makeFromUrl(e,n)}catch{return new oo(e,"")}if(r.path==="")return r;throw MAe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const s="(/(.*))?$",u=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function f(z){z.path_=decodeURIComponent(z.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),T={bucket:1,path:3},w=n===Yq?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",I=new RegExp(`^https?://${w}/${i}/${A}`,"i"),k=[{regex:u,indices:c,postModify:o},{regex:v,indices:T,postModify:f},{regex:I,indices:{bucket:1,path:2},postModify:f}];for(let z=0;z<k.length;z++){const G=k[z],L=G.regex.exec(e);if(L){const N=L[G.indices.bucket];let M=L[G.indices.path];M||(M=""),r=new oo(N,M),G.postModify(r);break}}if(r==null)throw OAe(e);return r}}class kAe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LAe(t,e,n){let r=1,i=null,o=null,s=!1,u=0;function c(){return u===2}let f=!1;function h(...A){f||(f=!0,e.apply(null,A))}function p(A){i=setTimeout(()=>{i=null,t(v,c())},A)}function g(){o&&clearTimeout(o)}function v(A,...I){if(f){g();return}if(A){g(),h.call(null,A,...I);return}if(c()||s){g(),h.call(null,A,...I);return}r<64&&(r*=2);let k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,p(k)}let T=!1;function w(A){T||(T=!0,g(),!f&&(i!==null?(A||(u=2),clearTimeout(i),p(0)):A||(u=1)))}return p(0),o=setTimeout(()=>{s=!0,w(!0)},n),w}function UAe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VAe(t){return t!==void 0}function tV(t,e,n,r){if(r<e)throw eV(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw eV(`Invalid value for '${t}'. Expected ${n} or less.`)}function BAe(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var iv;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(iv||(iv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FAe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zAe{constructor(e,n,r,i,o,s,u,c,f,h,p,g=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,w)=>{this.resolve_=T,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new yg(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=u=>{const c=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const u=o.getErrorCode()===iv.NO_ERROR,c=o.getStatus();if(!u||FAe(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===iv.ABORT;r(!1,new yg(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new yg(f,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());VAe(c)?o(c):o()}catch(c){s(c)}else if(u!==null){const c=PAe();c.serverResponse=u.getErrorText(),this.errorCallback_?s(this.errorCallback_(u,c)):s(c)}else if(i.canceled){const c=this.appDelete_?Wq():NAe();s(c)}else{const c=RAe();s(c)}};this.canceled_?n(!1,new yg(!1,null,!0)):this.backoffId_=LAe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UAe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function qAe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function HAe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GAe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jAe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $Ae(t,e,n,r,i,o,s=!0,u=!1){const c=BAe(t.urlParams),f=t.url+c,h=Object.assign({},t.headers);return GAe(h,e),qAe(h,n),HAe(h,o),jAe(h,r),new zAe(f,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KAe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function YAe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this._service=e,n instanceof oo?this._location=n:this._location=oo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ov(e,n)}get root(){const e=new oo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YAe(this._location.path)}get storage(){return this._service}get parent(){const e=KAe(this._location.path);if(e===null)return null;const n=new oo(this._location.bucket,e);return new ov(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw DAe(e)}}function nV(t,e){const n=e==null?void 0:e[xAe];return n==null?null:oo.makeFromBucketSpec(n,t)}function WAe(t,e,n,r={}){t.host=`${e}:${n}`;const i=Eu(e);i&&(Jx(`https://${t.host}/b`),Xx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:r5(o,t.app.options.projectId))}class JAe{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=Yq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CAe,this._maxUploadRetryTime=IAe,this._requests=new Set,i!=null?this._bucket=oo.makeFromBucketSpec(i,this._host):this._bucket=nV(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=oo.makeFromBucketSpec(this._url,e):this._bucket=nV(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tV("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tV("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Qi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ov(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new kAe(Wq());{const s=$Ae(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const rV="@firebase/storage",iV="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq="storage";function XAe(t=f0(),e){t=Mi(t);const r=c0(t,Jq).getImmediate({identifier:e}),i=e5("storage");return i&&QAe(r,...i),r}function QAe(t,e,n,r={}){WAe(t,e,n,r)}function ZAe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new JAe(n,r,i,e,Su)}function exe(){lu(new Js(Jq,ZAe,"PUBLIC").setMultipleInstances(!0)),$o(rV,iV,""),$o(rV,iV,"esm2020")}exe();const Xq={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0};window._firebaseConfig=Xq;const DC=yEe().length?f0():a5(Xq);wAe(DC);const txe=uTe(DC);XAe(DC);async function nxe(){try{const t=await fetch("/GOV-SUBSTRATES.json",{cache:"no-store"});if(!t.ok){console.warn("GOV-SUBSTRATES.json not found or not accessible:",t.status);return}const e=await t.json();if(!(e!=null&&e.provider)||!(e!=null&&e.identity)){console.warn("GOV-SUBSTRATES.json missing required fields:",e);return}console.log(" Substrate Identity:",{provider:e.provider,identity:e.identity,timestamp:e.timestamp});const n=sTe(txe,"governance_sessions");await wTe(n,{event_type:"SUBSTRATE_DEPLOY_V2",provider:e.provider,identity:e.identity,manifest_timestamp:e.timestamp??null,app_loaded_at:ETe(),user_agent:typeof navigator<"u"?navigator.userAgent:null,context:"RPR-KONTROL-Dashboard"}),console.log(" Substrate identity logged to governance_sessions")}catch(t){console.error(" Substrate initialization failed:",t)}}const rxe=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(null),[i,o]=C.useState(null),[s,u]=C.useState(!1),[c,f]=C.useState(""),[h,p]=C.useState([]),[g,v]=C.useState(!1),[T,w]=C.useState("active_session"),[A,I]=C.useState(Aa.ALL),[D,k]=C.useState("ANY"),[z,G]=C.useState(""),{sessions:L}=G0e(A);C.useEffect(()=>{nxe()},[]);const N=C.useCallback(le=>{const ge=`RPR-KONTROL Document Controller initialized.

Session ID: `+le.sessionId+`
Project Code: `+le.projectCode+`
Classification: `+le.classification+`
Agents tracked: `+sV.map(re=>re.charAt(0).toUpperCase()+re.slice(1)).join(", ")+`
Memory: Active
Performance tracking: Enabled
Flutter sync: Ready

Awaiting project context and first directive.`,$=j0e(ge);$&&console.warn(`// SENTINEL ALERT: Veto triggered for initial Gemini response in session ${le.sessionId}. Prohibited content detected.`);const Y={...le,artifactsProduced:uV,decisionsLog:dR.map(re=>({...re,sourceSessionId:le.sessionId})),performanceMetrics:{taskCompletion:.93,governanceAdherence:.98,responseAccuracy:.9,crossAgentCoordination:.95,founderInterventionRate:.05},conversation:[...le.conversation,{turn:2,agent:Be.GEMINI,content:ge,artifacts:[],timestamp:new Date().toISOString(),vetoed:$}],dual_state:lV};e(Y),r(null),o(null),f(""),p([]),v(!1),w("active_session")},[]),M=C.useCallback(async()=>{if(t){u(!0);try{const le=await q0e(t.sessionId,t.context.projectName,t.classification);r(le)}catch(le){console.error("Failed to generate performance report:",le)}finally{u(!1)}}},[t]),O=C.useCallback(async le=>{u(!0);try{const ge=await H0e(le);o(ge)}catch(ge){console.error("Failed to generate audit defense report:",ge)}finally{u(!1)}},[]),q=C.useCallback(le=>{e(ge=>ge&&ge.sessionId===le?{...ge,dual_state:{...ge.dual_state,validation_posture:"LOCKED",last_audit_checkpoint:new Date().toISOString()}}:ge)},[]),B=C.useCallback(()=>{r(null),o(null)},[]),V=C.useCallback(le=>{const ge=le.target.value;if(f(ge),ge.trim()===""){p([]),v(!1);return}const $=ge.toLowerCase(),Y=L.filter(re=>{const j=re.context.projectName.toLowerCase().includes($),_e=re.sessionId.toLowerCase().includes($),Pe=re.conversation.some(xe=>xe.content.toLowerCase().includes($));return j||_e||Pe});p(Y),v(!0)},[L]),F=C.useCallback(()=>{f(""),p([]),v(!1)},[]),ue=C.useCallback(le=>{e(le),r(null),o(null),F(),w("active_session")},[F]),ce=C.useMemo(()=>{const le=t?[{...t,decisionsLog:dR.map(ge=>({...ge,sourceSessionId:t.sessionId}))}]:[];return[...L,...le]},[t,L]),X=C.useMemo(()=>{let le=[];return ce.forEach(ge=>{if(!(A===Aa.ALL||A===Aa.MYAUDIT&&ge.projectCode.includes("MYAUDIT")||A===Aa.RPR_INTERNAL&&ge.projectCode.includes("RPR-")))return;const Y={[Cn.PUBLIC]:0,[Cn.INTERNAL]:1,[Cn.TS_LAMBDA_2]:2,[Cn.TS_LAMBDA_3]:3},re=D==="ANY"?-1:Y[D],j=Y[ge.classification];re!==-1&&j<re||ge.decisionsLog.forEach(_e=>{(z.trim()===""||_e.decision.toLowerCase().includes(z.toLowerCase())||_e.rationale.toLowerCase().includes(z.toLowerCase()))&&le.push({..._e,sourceSessionId:ge.sessionId})})}),le},[ce,A,D,z]),se=C.useMemo(()=>{let le=[];return ce.forEach(ge=>{if(!(A===Aa.ALL||A===Aa.MYAUDIT&&ge.projectCode.includes("MYAUDIT")||A===Aa.RPR_INTERNAL&&ge.projectCode.includes("RPR-")))return;const Y={[Cn.PUBLIC]:0,[Cn.INTERNAL]:1,[Cn.TS_LAMBDA_2]:2,[Cn.TS_LAMBDA_3]:3},re=D==="ANY"?-1:Y[D],j=Y[ge.classification];re!==-1&&j<re||le.push(...ge.artifactsProduced)}),le},[ce,A,D]);return K.jsxs("div",{className:"min-h-screen bg-rpr-charcoal text-rpr-white",children:[K.jsx(H9,{classification:(t==null?void 0:t.classification)||Cn.TS_LAMBDA_3}),K.jsxs("main",{className:"container mx-auto p-4",children:[K.jsxs("div",{className:"flex justify-center my-8 gap-4",children:[K.jsx(to,{onClick:()=>w("active_session"),variant:T==="active_session"?"primary":"secondary",children:"Active Session"}),K.jsx(to,{onClick:()=>w("project_overview"),variant:T==="project_overview"?"primary":"secondary",children:"Project Overview (Registry)"})]}),T==="active_session"&&K.jsxs(K.Fragment,{children:[K.jsxs("div",{className:"card-style p-4 max-w-4xl mx-auto my-8 flex items-center space-x-2",children:[K.jsx("input",{type:"text",placeholder:"Search sessions by name, ID, or keywords...",className:"input-style flex-grow",value:c,onChange:V}),c&&K.jsx(to,{onClick:F,variant:"secondary",size:"sm",children:"Clear"})]}),t?K.jsxs("div",{className:"space-y-8",children:[K.jsx("h2",{className:"section-prefix text-4xl font-extrabold text-rpr-white text-center mt-8 mb-6",children:"Active Session"}),K.jsx(J9,{session:t,onLockBaseline:q,onGenerateAuditReport:O}),K.jsx(X9,{conversation:t.conversation}),K.jsx(ile,{}),K.jsx("div",{className:"flex justify-center p-4 sticky bottom-0 bg-rpr-charcoal border-t border-rpr-slate -mx-4",children:K.jsx(to,{onClick:M,disabled:s,className:"w-full sm:w-auto text-lg",variant:"primary",children:s?"Generating...":"Generate Performance Report"})})]}):g?K.jsx(xde,{results:h,onLoadSession:ue}):K.jsx(W9,{onInitialize:N})]}),T==="project_overview"&&K.jsxs(K.Fragment,{children:[K.jsx("h2",{className:"section-prefix text-4xl font-extrabold text-rpr-white text-center mt-8 mb-6",children:"Project Overview (Registry)"}),K.jsxs("div",{className:"card-style p-4 max-w-4xl mx-auto my-8 space-y-4",children:[K.jsx("h3",{className:"section-prefix text-xl font-bold mb-4 text-rpr-white",children:"Registry Filters"}),K.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[K.jsxs("div",{children:[K.jsx("label",{className:"block text-rpr-white text-sm font-bold mb-2",children:"Project Scope"}),K.jsx("select",{className:"input-style",value:A,onChange:le=>I(le.target.value),children:Object.values(Aa).map(le=>K.jsx("option",{value:le,children:le.replace("_"," ").toUpperCase()},le))})]}),K.jsxs("div",{children:[K.jsx("label",{className:"block text-rpr-white text-sm font-bold mb-2",children:"Min. Classification"}),K.jsxs("select",{className:"input-style",value:D,onChange:le=>k(le.target.value),children:[K.jsx("option",{value:"ANY",children:"ANY"}),Object.values(Cn).map(le=>K.jsx("option",{value:le,children:le},le))]})]}),K.jsxs("div",{children:[K.jsx("label",{className:"block text-rpr-white text-sm font-bold mb-2",children:"Decision Keyword"}),K.jsx("input",{type:"text",className:"input-style",placeholder:"Search decisions...",value:z,onChange:le=>G(le.target.value)})]})]})]}),K.jsx(Cde,{decisions:X,onViewSession:le=>{const ge=L.find($=>$.sessionId===le);ge&&ue(ge)},minClassification:D,decisionKeyword:z}),K.jsx(Pde,{artifacts:se,projectScope:A,currentSession:t})]})]}),(n||i)&&K.jsx(Ade,{reportContent:i||(n==null?void 0:n.markdownReport)||"",onClose:B})]})},Qq=document.getElementById("root");if(!Qq)throw new Error("Could not find root element to mount to");const ixe=q9.createRoot(Qq);ixe.render(K.jsx(oV.StrictMode,{children:K.jsx(rxe,{})}));
